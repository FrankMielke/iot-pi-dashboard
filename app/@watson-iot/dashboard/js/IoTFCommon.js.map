{"version":3,"names":[],"mappings":"","sources":["IoTFCommon.js"],"sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.IoTFCommon = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({\"/Users/frank/Documents/Projects/IOTFoundation/components/Dashboard/constants/Const.js\":[function(require,module,exports){\n\"use strict\";\n\nvar _Const;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar Const = (_Const = {\n  \"CONNECTED\": \"CONNECTED\",\n  \"DISCONNECTED\": \"DISCONNECTED\",\n  \"PAUSED\": \"PAUSED\",\n\n  RANGE_MIN: 60,\n  RANGE_HOUR: 3600,\n  RANGE_DAY: 86400,\n  RANGE_WEEK: 604800,\n  RANGE_MONTH: 2592000,\n\n  // card type tags (use as comma separated list)\n  \"NO_DATAPOINTS\": \"NO_DATAPOINTS\", // Do not show data set definition (e.g. usage cards)\n  \"SINGLE_DATAPOINT\": \"SINGLE_DATAPOINT\", // Only one data point can be defined (e.g. additional device info)\n  \"EVENT_ONLY\": \"EVENT_ONLY\", // Do not show property field in data point definition (e.g. weather service)\n  \"PROPERTY_ONLY\": \"PROPERTY_ONLY\", // Show only event and property and hide type, min, max etc (e.g. in combination with SLOTS)\n  \"SPECIFIC\": \"SPECIFIC\", // Select properties with a special meaning (e.g. device map)\n  \"NO_CUSTOMIZATION\": \"NO_CUSTOMIZATION\", // Skip all customization Steps and add card instantly (e.g. separator)\n  \"SLOTS\": \"SLOTS\", // Show predefined slots for a single device (e.g. elevator)\n  \"SOURCE_ONLY\": \"SOURCE_ONLY\", // Select only the source (e.g. additional device info)\n  \"CARD_ONLY\": \"CARD_ONLY\" }, _defineProperty(_Const, \"CARD_ONLY\", \"CARD_ONLY\"), _defineProperty(_Const, \"OPTIONAL\", \"OPTIONAL\"), _defineProperty(_Const, \"DB_VIEW_BOARD\", \"DB_VIEW_BOARD\"), _defineProperty(_Const, \"DB_CREATE_BOARD\", \"DB_CREATE_BOARD\"), _defineProperty(_Const, \"DB_UPDATE_BOARD\", \"DB_UPDATE_BOARD\"), _defineProperty(_Const, \"DB_DELETE_BOARD\", \"DB_DELETE_BOARD\"), _defineProperty(_Const, \"DB_SHARE_BOARD\", \"DB_SHARE_BOARD\"), _Const);\n\nmodule.exports = Const;\n\n},{}],\"/Users/frank/Documents/Projects/IOTFoundation/components/Dashboard/dashboard/DashboardUtils.js\":[function(require,module,exports){\n'use strict';\n\nvar config = require('./config/DashboardConfig.json');\n\nvar DashboardUtils = {\n\n  // create a unique rfc4122 conform UUID\n  createUUID: function createUUID() {\n    var dec2hex = [];\n    for (var i = 0; i <= 15; i++) {\n      dec2hex[i] = i.toString(16);\n    }\n\n    var uuid = '';\n    for (var j = 1; j <= 36; j++) {\n      if (j === 9 || j === 14 || j === 19 || j === 24) {\n        uuid += '-';\n      } else if (j === 15) {\n        uuid += 4;\n      } else if (j === 20) {\n        uuid += dec2hex[Math.random() * 4 | 0 + 8];\n      } else {\n        uuid += dec2hex[Math.random() * 15 | 0];\n      }\n    }\n    return uuid;\n  },\n\n  setDashboardConfig: function setDashboardConfig(temp) {\n    config = temp;\n  },\n\n  getCapability: function getCapability(name) {\n    var caps = config.capabilities;\n    if (caps) {\n      var value = caps[name];\n      if (value === undefined) {\n        // not set defaults to true\n        value = true;\n      }\n      return value;\n    }\n  },\n\n  getSettings: function getSettings(name) {\n    var settings = config.settings;\n    if (settings) {\n      var value = settings[name];\n      return value;\n    }\n  },\n\n  getDefaultChartColors: function getDefaultChartColors() {\n    var result = config.theme.palette;\n    return result;\n  }\n\n};\n\nmodule.exports = DashboardUtils;\n\n},{\"./config/DashboardConfig.json\":\"/Users/frank/Documents/Projects/IOTFoundation/components/Dashboard/dashboard/config/DashboardConfig.json\"}],\"/Users/frank/Documents/Projects/IOTFoundation/components/Dashboard/dashboard/config/DashboardConfig.json\":[function(require,module,exports){\nmodule.exports={\n  \"theme\": {\n    \"canvas\": \"#142a36\",\n    \"lightText\": \"#F7F7F7\",\n    \"border\": \"#142a36\",\n    \"title\": \"#E6E6E6\",\n    \"titleText\": \"#F7F7F7\",\n    \"textOnCanvas\": \"#F7F7F7\",\n    \"hover\": \"#F9FAFB\",\n    \"select\": \"#EBECED\",\n    \"content\": \"#FDFDFD\",\n    \"major\": \"#2E3636\",\n    \"minor\": \"#899399\",\n    \"least\": \"#a9acac\",\n    \"accent\": \"#4581E0\",\n    \"GOOD\": \"#8CD210\",\n    \"FAIR\": \"#899399\",\n    \"CRITICAL\": \"#FF5050\",\n    \"font\": \"'Helvetica Neue',HelveticxfaNeue,Helvetica,'Segoe UI',Segoe,Calibri,Roboto,'Droid Sans','Arial Unicode MS',Arial,sans-serif\",\n    \"logo\": \"/assets/dashboard/iot.jpg\",\n\n    \"light\": \"#c7c7c7\",\n    \"normal\": \"#959595\",\n    \"dark\": \"#5a5a5a\",\n\n    \"palette\": [\"#5596E6\", \"#4178BE\", \"#325C80\", \"#264A60\", \"#1D3649\", \"#323c3c\", \"#3c4646\", \"#5a6464\", \"#6d7777\", \"#959f9f\"],\n\n    \"schemes\": [\n      {\n        \"name\": 0,\n        \"light\": \"#9855D4\",\n        \"normal\": \"#704199\",\n        \"dark\": \"#311a41\",\n        \"palette\": [\"#ba8FF7\", \"#9855D4\", \"#734098\", \"#562f72\", \"#412356\", \"#311a41\"]\n      },\n      {\n        \"name\": 1,\n        \"light\": \"#db2780\",\n        \"normal\": \"#9e215f\",\n        \"dark\": \"#3a0B2E\",\n        \"palette\": [\"#ff3ca0\", \"#db2780\", \"#a6266e\", \"#7c1c58\", \"#601146\", \"#3a0B2E\"]\n      },\n      {\n        \"name\": 2,\n        \"light\": \"#00bfa0\",\n        \"normal\": \"#068375\",\n        \"dark\": \"#012b22\",\n        \"palette\": [\"#41d6c3\", \"#00b4a0\", \"#008571\", \"#006d5d\", \"#005448\", \"#012b22\"]\n      },\n      {\n        \"name\": 3,\n        \"light\": \"#4178be\",\n        \"normal\": \"#33598a\",\n        \"dark\": \"#152935\",\n        \"palette\": [\"#5596e6\", \"#4178be\", \"#325c80\", \"#264a60\", \"#1d3649\", \"#152935\"]\n      },\n      {\n        \"name\": 4,\n        \"light\": \"#00aec9\",\n        \"normal\": \"#067f92\",\n        \"dark\": \"#002e36\",\n        \"palette\": [\"#00b3cf\", \"#00aec9\", \"#007182\", \"#005b69\", \"#00454f\", \"#002e36\"]\n      }\n    ]\n  },\n\n  \"capabilities\": {\n    \"multipleDashboards\": false,\n    \"remoteSynchronization\": true,\n    \"useOldDialogs\": false,\n    \"showControls\": false,\n    \"breakpoints\": {\"xxl\": 1649, \"xl\": 1324, \"lg\": 999, \"md\": 674, \"sm\": 349},\n    \"cols\": {\"xxl\": 10, \"xl\": 8, \"lg\": 6, \"md\": 4, \"sm\": 2},\n    \"rowHeight\": 105,\n    \"margin\": [25,25]\n  },\n\n  \"settings\": {\n    \"configRepositoryURL\": \"/api/v0002/dashboard\",\n    \"BACKUP_configRepositoryURL\": \"https://dcr.mybluemix.net/rest\",\n    \"configRepositoryUser\": \"admin\",\n    \"configRepositoryPassword\": \"admin\",\n    \"forceStandaloneConfigRepo\": false,\n    \"configName\": \"MyDashboardConfig\",\n    \"defaultDashboards\": [\n      {\n        \"id\": \"AnalyticsDefaultBoard_DeviceCentric\",\n        \"version\": \"1\"\n      },\n      {\n        \"id\": \"AnalyticsDefaultBoard_RuleCentric\",\n        \"version\": \"1\"\n      },\n      {\n        \"id\": \"RiskManagementDefaultBoard\",\n        \"version\": \"1\"\n      },\n      {\n        \"id\": \"UsageDefaultBoard\",\n        \"version\": \"1\"\n      }\n    ]\n  },\n\n  \"components\": [\n    {\n      \"name\": \"GenericVisCard\",\n      \"displayName\": \"COMP_TITLE_GenericVis\",\n      \"description\": \"COMP_DESC_GenericVis\",\n      \"thumbnail\" : \"dots\",\n      \"category\": \"Devices\",\n      \"cardType\": \"\",\n      \"wrapper\": \"ReactWrapper\",\n      \"sizes\": [[2,1],[2,2],[2,3],[3,4],[4,4]],\n      \"parameters\" : {\n       \"title\":\"\",\n        \"component\": \"GenericVisualizationCard\",\n        \"title\": \"Generic visualization\"\n      },\n      \"events\": {\n        \"inbound\": [\"device\"]\n      }\n    },\n    {\n      \"name\": \"RealTimeChart\",\n      \"displayName\": \"COMP_TITLE_RealTimeChart\",\n      \"description\": \"COMP_DESC_RealTimeChart\",\n      \"thumbnail\" : \"line-chart\",\n      \"category\": \"Devices\",\n      \"cardType\": \"\",\n      \"wrapper\": \"ReactWrapper\",\n      \"sizes\": [[2,3],[2,4],[3,4],[4,4]],\n      \"parameters\" : {\n        \"component\": \"RealTimeChart\",\n        \"title\": \"Line chart\",\n        \"autoscroll\": true\n      },\n      \"customization\": \"RealTimeChartProperties\",\n      \"events\": {\n        \"inbound\": [\"device\"]\n      }\n    },\n    {\n      \"name\": \"BarChart\",\n      \"displayName\": \"COMP_TITLE_BarChart\",\n      \"description\": \"COMP_DESC_BarChart\",\n      \"thumbnail\" : \"bar-chart\",\n      \"category\": \"Devices\",\n      \"cardType\": \"\",\n      \"wrapper\": \"ReactWrapper\",\n      \"sizes\": [[2,3],[3,3],[4,4]],\n      \"parameters\" : {\n       \"title\":\"\",\n        \"component\": \"BarChart\",\n        \"title\": \"Bar chart\"\n      },\n      \"customization\": \"BarChartProperties\",\n      \"events\": {\n        \"inbound\": [\"device\",\"visibleDevices\",\"datapoint\"],\n        \"outbound\": [\"device\",\"datapoint\"]\n      },\n      \"events\": {\n        \"inbound\": [\"device\"]\n      }\n    },\n    {\n      \"name\": \"DonutChart\",\n      \"displayName\": \"COMP_TITLE_DonutChart\",\n      \"description\": \"COMP_DESC_DonutChart\",\n      \"thumbnail\" : \"pie-chart\",\n      \"category\": \"Devices\",\n      \"cardType\": \"\",\n      \"wrapper\": \"ReactWrapper\",\n      \"sizes\": [[2,3],[2,4],[4,3],[4,4]],\n      \"parameters\" : {\n       \"title\":\"\",\n        \"component\": \"DonutChart\",\n        \"title\": \"Donut chart\"\n      },\n      \"events\": {\n        \"inbound\": [\"device\",\"visibleDevices\",\"datapoint\"],\n        \"outbound\": [\"device\",\"datapoint\"]\n      },\n      \"events\": {\n        \"inbound\": [\"device\"]\n      }\n    },\n    {\n      \"name\": \"Value\",\n      \"displayName\": \"COMP_TITLE_Value\",\n      \"description\": \"COMP_DESC_Value\",\n      \"thumbnail\" : \"text-based\",\n      \"category\": \"Devices\",\n      \"cardType\": \"\",\n      \"wrapper\": \"ReactWrapper\",\n      \"sizes\": [[2,1],[2,2],[2,3],[3,4],[4,4]],\n      \"parameters\" : {\n       \"title\":\"\",\n        \"component\": \"Value\",\n        \"title\": \"Value\"\n      },\n      \"events\": {\n        \"inbound\": [\"device\"]\n      }\n    },\n    {\n      \"name\": \"Gauge\",\n      \"displayName\": \"COMP_TITLE_Gauge\",\n      \"description\": \"COMP_DESC_Gauge\",\n      \"thumbnail\" : \"gauge\",\n      \"category\": \"Devices\",\n      \"cardType\": \"\",\n      \"wrapper\": \"ReactWrapper\",\n      \"sizes\": [[2,1],[2,4],[4,4]],\n      \"parameters\" : {\n        \"component\": \"Gauge\",\n        \"title\": \"Gauge\"\n      },\n      \"customization\": \"GaugeProperties\",\n      \"events\": {\n        \"inbound\": [\"device\"]\n      }\n    },\n    {\n      \"name\": \"DeviceValues\",\n      \"displayName\": \"COMP_TITLE_DeviceValues\",\n      \"description\": \"COMP_DESC_DeviceValues\",\n      \"thumbnail\" : \"DeviceProperties\",\n      \"category\": \"Devices\",\n      \"cardType\": \"\",\n      \"wrapper\": \"ReactWrapper\",\n      \"sizes\": [[2,4],[2,6],[2,8],[3,4],[3,6],[3,8]],\n      \"parameters\" : {\n        \"component\": \"DeviceValues\",\n        \"title\": \"Device Values\"\n      },\n      \"events\": {\n        \"inbound\": [\"device\"]\n      }\n    },\n    {\n      \"name\": \"DeviceValuesAll\",\n      \"displayName\": \"COMP_TITLE_AllDeviceProperties\",\n      \"description\": \"COMP_DESC_AllDeviceProperties\",\n      \"thumbnail\" : \"AllDeviceProperties\",\n      \"category\": \"Devices\",\n      \"cardType\": \"SOURCE_ONLY\",\n      \"wrapper\": \"ReactWrapper\",\n      \"sizes\": [[2,4],[2,6],[2,8],[3,4],[3,6],[3,8]],\n      \"parameters\" : {\n        \"component\": \"DeviceValues\",\n        \"title\": \"All Device Values\"\n      },\n      \"events\": {\n        \"inbound\": [\"device\"]\n      }\n    },\n    {\n      \"name\": \"DeviceList\",\n      \"displayName\": \"COMP_TITLE_DeviceList\",\n      \"description\": \"COMP_DESC_DeviceList\",\n      \"thumbnail\" : \"DeviceList\",\n      \"category\": \"Devices\",\n      \"cardType\": \"SOURCE_ONLY,OPTIONAL,CARD_ONLY\",\n      \"wrapper\": \"ReactWrapper\",\n      \"sizes\": [[2,4],[2,6],[3,4],[3,5],[4,4],[4,5]],\n      \"parameters\" : {\n        \"component\": \"DeviceList\",\n        \"title\": \"Device List\"\n      },\n      \"customization\": \"DeviceListProperties\",\n      \"events\": {\n        \"inbound\": [\"alerts\",\"deviceData\",\"selectedDevices\"],\n        \"outbound\": [\"device\",\"selectedDevices\",\"visibleDevices\",\"deviceData\"]\n      }\n    },\n    {\n      \"name\": \"DeviceInfo\",\n      \"displayName\": \"COMP_TITLE_AdditionalInfo\",\n      \"description\": \"COMP_DESC_AdditionalInfo\",\n      \"thumbnail\" : \"DeviceInfo\",\n      \"category\": \"Devices\",\n      \"cardType\": \"SOURCE_ONLY,SINGLE_DATAPOINT\",\n      \"wrapper\": \"ReactWrapper\",\n      \"sizes\": [[2,4],[2,6],[2,8],[3,4],[3,6],[3,8]],\n      \"customization\": \"DeviceInfoProperties\",\n      \"parameters\" : {\n        \"component\": \"DeviceInfo\",\n        \"title\": \"Device Information\"\n      },\n      \"events\": {\n        \"inbound\": [\"deviceData\"],\n        \"outbound\": [\"device\"]\n      }\n    },\n    {\n      \"name\": \"DeviceMap\",\n      \"displayName\": \"COMP_TITLE_DeviceMap\",\n      \"description\": \"COMP_DESC_DeviceMap\",\n      \"thumbnail\" : \"DeviceMap\",\n      \"category\": \"Hidden\",\n      \"cardType\": \"SPECIFIC,EVENT_ONLY\",\n      \"wrapper\": \"ReactWrapper\",\n      \"sizes\": [[2,3],[4,5]],\n      \"specificProperties\": [\n        {\n          \"id\": \"longitude\",\n          \"label\": \"Longitude property\"\n        },\n        {\n          \"id\": \"latitude\",\n          \"label\": \"Latitude property\"\n        }\n      ],\n      \"parameters\" : {\n        \"component\": \"DeviceMap\",\n        \"title\": \"Device map\"\n      },\n      \"customization\": \"DeviceMapProperties\",\n      \"events\": {\n        \"inbound\": [\"device\",\"selectedDevices\",\"visibleDevices\"]\n      }\n    },\n    {\n      \"name\": \"DeviceMapFlex\",\n      \"displayName\": \"COMP_TITLE_DeviceMap\",\n      \"description\": \"COMP_DESC_FlexibleDeviceMap\",\n      \"thumbnail\" : \"map\",\n      \"category\": \"Devices\",\n      \"cardType\": \"SLOTS,PROPERTY_ONLY,CARD_ONLY\",\n      \"wrapper\": \"ReactWrapper\",\n      \"sizes\": [[2,3],[4,5]],\n      \"parameters\" : {\n        \"component\": \"DeviceMapFlex\",\n        \"title\": \"Device map\",\n        \"plots\": [\n          {\n            \"id\": \"longitude\",\n            \"event\": \"status\",\n            \"property\": \"lng\",\n            \"label\": \"Dashboard.RTI.DeviceMap.DatapointLng\",\n            \"type\": \"float\"\n          },\n          {\n            \"id\": \"latitude\",\n            \"event\": \"status\",\n            \"property\": \"lat\",\n            \"label\": \"Dashboard.RTI.DeviceMap.DatapointLat\",\n            \"type\": \"float\"\n          }\n        ]\n      },\n      \"customization\": \"DeviceMapProperties\",\n      \"events\": {\n        \"inbound\": [\"device\",\"selectedDevices\",\"visibleDevices\"],\n        \"outbound\": [\"device\"]\n      }\n    },\n    {\n      \"name\": \"RuleCard\",\n      \"displayName\": \"COMP_TITLE_Rules\",\n      \"description\": \"COMP_DESC_Rules\",\n      \"thumbnail\" : \"Rules\",\n      \"category\": \"Analytics\",\n      \"cardType\": \"SOURCE_ONLY,OPTIONAL,CARD_ONLY,SINGLE_DATAPOINT\",\n      \"wrapper\": \"ReactWrapper\",\n      \"sizes\": [[2,4],[2,6],[2,8],[3,4],[3,6],[3,8]],\n      \"customization\": \"RuleProperties\",\n      \"parameters\" : {\n        \"component\": \"RuleCard\",\n        \"title\": \"Rules\"\n      },\n      \"events\": {\n        \"inbound\": [\"device\"],\n        \"outbound\": [\"alerts\",\"rule\"]\n      }\n    },\n    {\n      \"name\": \"RuleBreakCard\",\n      \"displayName\": \"COMP_TITLE_DeviceAlerts\",\n      \"description\": \"COMP_DESC_DeviceAlerts\",\n      \"thumbnail\" : \"RuleBreaks\",\n      \"category\": \"Analytics\",\n      \"cardType\": \"SOURCE_ONLY,OPTIONAL,CARD_ONLY,SINGLE_DATAPOINT\",\n      \"wrapper\": \"ReactWrapper\",\n      \"sizes\": [[2,4],[2,6],[2,8],[3,4],[3,6],[3,8]],\n      \"customization\": \"RuleBreakProperties\",\n      \"parameters\" : {\n        \"component\": \"RuleBreakCard\",\n        \"title\": \"Rule Alerts\"\n      },\n      \"events\": {\n        \"inbound\": [\"device\",\"rule\"],\n        \"outbound\": [\"alertData\"]\n      }\n    },\n    {\n      \"name\": \"RuleBreakInfo\",\n      \"displayName\": \"COMP_TITLE_RuleBreakInfo\",\n      \"description\": \"COMP_DESC_RuleBreakInfo\",\n      \"thumbnail\" : \"RuleBreakInfo\",\n      \"category\": \"Analytics\",\n      \"cardType\": \"SOURCE_ONLY,SINGLE_DATAPOINT,CARD_ONLY\",\n      \"wrapper\": \"ReactWrapper\",\n      \"sizes\": [[2,4],[2,6],[2,8],[3,4],[3,6],[3,8]],\n      \"customization\": \"RuleBreakInfoProperties\",\n      \"parameters\" : {\n        \"component\": \"RuleBreakInfo\",\n        \"title\": \"Rule Break Information\"\n      },\n      \"events\": {\n        \"inbound\": [\"alertData\"]\n      }\n    },\n    {\n      \"name\": \"PolicyCompliance\",\n      \"displayName\": \"COMP_TITLE_PolicyCompliance\",\n      \"description\": \"COMP_DESC_PolicyCompliance\",\n      \"category\": \"RiskManagement\",\n      \"cardType\": \"NO_DATAPOINTS\",\n      \"thumbnail\": \"PolicyCompliance\",\n      \"wrapper\": \"ReactWrapper\",\n      \"sizes\": [[2,2],[3,3],[3,4]],\n      \"showRefresh\": true,\n      \"parameters\" : {\n        \"component\": \"PolicyCompliance\",\n        \"title\": \"Policy Compliance\"\n      }\n    },\n    {\n      \"name\": \"Blacklist\",\n      \"displayName\": \"COMP_TITLE_Blacklist\",\n      \"description\": \"COMP_DESC_Blacklist\",\n      \"category\": \"RiskManagement\",\n      \"cardType\": \"NO_DATAPOINTS\",\n      \"thumbnail\": \"Blacklist\",\n      \"wrapper\": \"ReactWrapper\",\n      \"sizes\": [[2,1],[2,2]],\n      \"showRefresh\": true,\n      \"parameters\" : {\n        \"component\": \"Blacklist\",\n        \"title\": \"Blacklist Compliance\"\n      }\n    },\n    {\n      \"name\": \"Whitelist\",\n      \"displayName\": \"COMP_TITLE_Whitelist\",\n      \"description\": \"COMP_DESC_Whitelist\",\n      \"category\": \"Hidden\",\n      \"cardType\": \"NO_DATAPOINTS\",\n      \"thumbnail\": \"Whitelist\",\n      \"wrapper\": \"ReactWrapper\",\n      \"sizes\": [[2,1],[2,2]],\n      \"showRefresh\": true,\n      \"parameters\" : {\n        \"component\": \"Whitelist\",\n        \"title\": \"Whitelist Compliance\"\n      }\n    },\n    {\n      \"name\": \"ConnectionSecurity\",\n      \"displayName\": \"COMP_TITLE_ConnectionSecurity\",\n      \"description\": \"COMP_DESC_ConnectionSecurity\",\n      \"category\": \"RiskManagement\",\n      \"cardType\": \"NO_DATAPOINTS\",\n      \"thumbnail\": \"ConnectionSecurity\",\n      \"wrapper\": \"ReactWrapper\",\n      \"sizes\": [[2,2],[2,3],[2,4],[4,3],[4,4]],\n      \"showRefresh\": true,\n      \"parameters\" : {\n        \"component\": \"ConnectionSecurity\",\n        \"title\": \"Connection Security\"\n      }\n    },\n    {\n      \"name\": \"Transactions\",\n      \"displayName\": \"COMP_TITLE_Transactions\",\n      \"description\": \"COMP_DESC_Transactions\",\n      \"category\": \"Hidden\",\n      \"cardType\": \"NO_DATAPOINTS\",\n      \"thumbnail\": \"Blockchain\",\n      \"wrapper\": \"ReactWrapper\",\n      \"sizes\": [[2,3],[2,4]],\n      \"showRefresh\": true,\n      \"parameters\" : {\n        \"component\": \"Transactions\",\n        \"title\": \"Blockchain Transactions\"\n      }\n    },\n    {\n      \"name\": \"DeviceTypes\",\n      \"displayName\": \"COMP_TITLE_DeviceTypes\",\n      \"description\": \"COMP_DESC_DeviceTypes\",\n      \"category\": \"Usage\",\n      \"cardType\": \"NO_DATAPOINTS\",\n      \"thumbnail\": \"device-types\",\n      \"wrapper\": \"ReactWrapper\",\n      \"sizes\": [[2,3],[2,4],[4,3],[4,4]],\n      \"sticky\": false,\n      \"showRefresh\": true,\n      \"parameters\" : {\n        \"component\": \"DeviceTypes\",\n        \"title\": \"Device types\"\n      }\n    },\n    {\n      \"name\": \"UsageDeviceCard\",\n      \"displayName\": \"COMP_TITLE_UsageDevice\",\n      \"description\": \"COMP_DESC_UsageDevice\",\n      \"category\": \"Hidden\",\n      \"cardType\": \"NO_DATAPOINTS\",\n      \"thumbnail\": \"connected-devices\",\n      \"wrapper\": \"ReactWrapper\",\n      \"sizes\": [[2,1],[2,2],[2,3],[3,4],[4,4]],\n      \"sticky\": false,\n      \"showRefresh\": true,\n      \"deprecated\": true,\n      \"parameters\" : {\n        \"component\": \"DeadCard\",\n        \"deadCardLink\": \"http://link2-em-us.unicaondemand.com/frontend/dynamicAssets?e=t3FFF203B37ACB21D068F7555F491371A14DB35C26F75109FEF0BCA0DDA50A70417BA3BE7CD1DAD596EF29B52AF098C4970F67A82447C2F665F392AB8A30893FF4ADEA7E888AF3EF5DA087CC57C7087C5F4C13C563393ACD51AEFBFF9B0229DB3502FDA80BA565411\",\n        \"title\": \"Device connections\"\n      }\n    },\n    {\n      \"name\": \"UsageDataCard\",\n      \"displayName\": \"COMP_TITLE_UsageData\",\n      \"description\": \"COMP_DESC_UsageData\",\n      \"category\": \"Usage\",\n      \"cardType\": \"NO_DATAPOINTS\",\n      \"thumbnail\": \"traffic-consumption\",\n      \"wrapper\": \"ReactWrapper\",\n      \"sizes\": [[2,1],[2,2],[2,3],[3,4],[4,4]],\n      \"sticky\": false,\n      \"showRefresh\": true,\n      \"parameters\" : {\n        \"component\": \"UsageDataCard\",\n        \"title\": \"Data transferred\"\n      }\n    },\n    {\n      \"name\": \"UsageStorageCard\",\n      \"displayName\": \"COMP_TITLE_UsageStorage\",\n      \"description\": \"COMP_DESC_UsageStorage\",\n      \"category\": \"Hidden\",\n      \"cardType\": \"NO_DATAPOINTS\",\n      \"thumbnail\": \"storage-consumption\",\n      \"wrapper\": \"ReactWrapper\",\n      \"sizes\": [[2,1],[2,2],[2,3],[3,4],[4,4]],\n      \"sticky\": false,\n      \"showRefresh\": true,\n      \"deprecated\": true,\n      \"parameters\" : {\n        \"component\": \"DeadCard\",\n        \"deadCardLink\": \"http://link2-em-us.unicaondemand.com/frontend/dynamicAssets?e=t3FFF203B37ACB21D068F7555F491371A14DB35C26F75109FEF0BCA0DDA50A70417BA3BE7CD1DAD596EF29B52AF098C4970F67A82447C2F665F392AB8A30893FF4ADEA7E888AF3EF5DA087CC57C7087C5F4C13C563393ACD51AEFBFF9B0229DB3502FDA80BA565411\",\n        \"title\": \"Storage consumed\"\n      }\n    },\n    {\n      \"name\": \"HorizontalLine\",\n      \"displayName\": \"COMP_TITLE_HorizontalLine\",\n      \"description\": \"COMP_DESC_HorizontalLine\",\n      \"category\": \"Basic\",\n      \"cardType\": \"NO_DATAPOINTS,NO_CUSTOMIZATION\",\n      \"thumbnail\": \"horizontal-seperator\",\n      \"wrapper\": \"ReactWrapper\",\n      \"sizes\": [[2,1],[3,1],[4,1],[6,1],[8,1]],\n      \"sticky\": false,\n      \"parameters\" : {\n        \"component\": \"HorizontalLine\",\n        \"title\": \"Separator\"\n      }\n    }\n  ]}\n\n},{}],\"/Users/frank/Documents/Projects/IOTFoundation/components/Dashboard/utils/regex-email.js\":[function(require,module,exports){\n\"use strict\";\n\n//\n// Regular Expression for URL validation\n//\n// Author: Diego Perini\n// Updated: 2010/12/05\n// License: MIT\n//\n// Copyright (c) 2010-2013 Diego Perini (http://www.iport.it)\n//\n// Permission is hereby granted, free of charge, to any person\n// obtaining a copy of this software and associated documentation\n// files (the \"Software\"), to deal in the Software without\n// restriction, including without limitation the rights to use,\n// copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the\n// Software is furnished to do so, subject to the following\n// conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n// OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n// WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n// FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n// OTHER DEALINGS IN THE SOFTWARE.\n//\n// the regular expression composed & commented\n// could be easily tweaked for RFC compliance,\n// it was expressly modified to fit & satisfy\n// these test for an URL shortener:\n//\n//   http://mathiasbynens.be/demo/url-regex\n//\n// Notes on possible differences from a standard/generic validation:\n//\n// - utf-8 char class take in consideration the full Unicode range\n// - TLDs have been made mandatory so single names like \"localhost\" fails\n// - protocols have been restricted to ftp, http and https only as requested\n//\n// Changes:\n//\n// - IP address dotted notation validation, range: 1.0.0.0 - 223.255.255.255\n//   first and last IP address of each class is considered invalid\n//   (since they are broadcast/network addresses)\n//\n// - Added exclusion of private, reserved and/or local networks ranges\n//\n// - Made starting path slash optional (http://example.com?foo=bar)\n//\n// - Allow a dot (.) at the end of hostnames (http://example.com.)\n//\n// Compressed one-line versions:\n//\n// Javascript version\n//\n// /^(?:(?:https?|ftp):\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))\\.?)(?::\\d{2,5})?(?:[/?#]\\S*)?$/i\n//\n// PHP version\n//\n// _^(?:(?:https?|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\x{00a1}-\\x{ffff}0-9]-*)*[a-z\\x{00a1}-\\x{ffff}0-9]+)(?:\\.(?:[a-z\\x{00a1}-\\x{ffff}0-9]-*)*[a-z\\x{00a1}-\\x{ffff}0-9]+)*(?:\\.(?:[a-z\\x{00a1}-\\x{ffff}]{2,}))\\.?)(?::\\d{2,5})?(?:[/?#]\\S*)?$_iuS\n//\nvar re_weburl = new RegExp(/^\\s*[\\w\\-\\+_]+(\\.[\\w\\-\\+_]+)*\\@[\\w\\-\\+_]+\\.[\\w\\-\\+_]+(\\.[\\w\\-\\+_]+)*\\s*$/);\n\nmodule.exports = re_weburl;\n\n},{}],\"/Users/frank/Documents/Projects/IOTFoundation/components/Dashboard/utils/regex-weburl.js\":[function(require,module,exports){\n\"use strict\";\n\n//\n// Regular Expression for URL validation\n//\n// Author: Diego Perini\n// Updated: 2010/12/05\n// License: MIT\n//\n// Copyright (c) 2010-2013 Diego Perini (http://www.iport.it)\n//\n// Permission is hereby granted, free of charge, to any person\n// obtaining a copy of this software and associated documentation\n// files (the \"Software\"), to deal in the Software without\n// restriction, including without limitation the rights to use,\n// copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the\n// Software is furnished to do so, subject to the following\n// conditions:\n//\n// The above copyright notice and this permission notice shall be\n// included in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n// EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n// OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n// HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n// WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n// FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n// OTHER DEALINGS IN THE SOFTWARE.\n//\n// the regular expression composed & commented\n// could be easily tweaked for RFC compliance,\n// it was expressly modified to fit & satisfy\n// these test for an URL shortener:\n//\n//   http://mathiasbynens.be/demo/url-regex\n//\n// Notes on possible differences from a standard/generic validation:\n//\n// - utf-8 char class take in consideration the full Unicode range\n// - TLDs have been made mandatory so single names like \"localhost\" fails\n// - protocols have been restricted to ftp, http and https only as requested\n//\n// Changes:\n//\n// - IP address dotted notation validation, range: 1.0.0.0 - 223.255.255.255\n//   first and last IP address of each class is considered invalid\n//   (since they are broadcast/network addresses)\n//\n// - Added exclusion of private, reserved and/or local networks ranges\n//\n// - Made starting path slash optional (http://example.com?foo=bar)\n//\n// - Allow a dot (.) at the end of hostnames (http://example.com.)\n//\n// Compressed one-line versions:\n//\n// Javascript version\n//\n// /^(?:(?:https?|ftp):\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))\\.?)(?::\\d{2,5})?(?:[/?#]\\S*)?$/i\n//\n// PHP version\n//\n// _^(?:(?:https?|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\x{00a1}-\\x{ffff}0-9]-*)*[a-z\\x{00a1}-\\x{ffff}0-9]+)(?:\\.(?:[a-z\\x{00a1}-\\x{ffff}0-9]-*)*[a-z\\x{00a1}-\\x{ffff}0-9]+)*(?:\\.(?:[a-z\\x{00a1}-\\x{ffff}]{2,}))\\.?)(?::\\d{2,5})?(?:[/?#]\\S*)?$_iuS\n//\nvar re_weburl = new RegExp(\"^\" +\n// protocol identifier\n\"(?:(?:https?|ftp)://)\" +\n// user:pass authentication\n\"(?:\\\\S+(?::\\\\S*)?@)?\" + \"(?:\" +\n// IP address exclusion\n// private & local networks\n\"(?!(?:10|127)(?:\\\\.\\\\d{1,3}){3})\" + \"(?!(?:169\\\\.254|192\\\\.168)(?:\\\\.\\\\d{1,3}){2})\" + \"(?!172\\\\.(?:1[6-9]|2\\\\d|3[0-1])(?:\\\\.\\\\d{1,3}){2})\" +\n// IP address dotted notation octets\n// excludes loopback network 0.0.0.0\n// excludes reserved space >= 224.0.0.0\n// excludes network & broacast addresses\n// (first & last IP address of each class)\n\"(?:[1-9]\\\\d?|1\\\\d\\\\d|2[01]\\\\d|22[0-3])\" + \"(?:\\\\.(?:1?\\\\d{1,2}|2[0-4]\\\\d|25[0-5])){2}\" + \"(?:\\\\.(?:[1-9]\\\\d?|1\\\\d\\\\d|2[0-4]\\\\d|25[0-4]))\" + \"|\" +\n// host name\n\"(?:(?:[a-z\\\\u00a1-\\\\uffff0-9]-*)*[a-z\\\\u00a1-\\\\uffff0-9]+)\" +\n// domain name\n\"(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff0-9]-*)*[a-z\\\\u00a1-\\\\uffff0-9]+)*\" +\n// TLD identifier\n\"(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff]{2,}))\" +\n// TLD may end with dot\n\"\\\\.?\" + \")\" +\n// port number\n\"(?::\\\\d{2,5})?\" +\n// resource path\n\"(?:[/?#]\\\\S*)?\" + \"$\", \"i\");\n\nmodule.exports = re_weburl;\n\n},{}],\"/Users/frank/Documents/Projects/IOTFoundation/components/app/RiskManagement/constants/AccessControlAddDialog.js\":[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar IP = exports.IP = 'IP';\nvar CIDR = exports.CIDR = 'CIDR';\nvar COUNTRY = exports.COUNTRY = 'COUNTRY';\nvar WHITE_LIST_BLACK_LIST_LIMITS = exports.WHITE_LIST_BLACK_LIST_LIMITS = 100;\n\n},{}],\"/Users/frank/Documents/Projects/IOTFoundation/components/app/RiskManagement/constants/Policies.js\":[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _PolicyTableHeaders;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar PolicyTypes = exports.PolicyTypes = {\n  CONNECTION_SECURITY: 'CONNECTION_SECURITY',\n  WHITELIST: 'WHITELIST',\n  BLACKLIST: 'BLACKLIST'\n};\n\nvar AccessControlEntryTypes = exports.AccessControlEntryTypes = {\n  LIST_IP_ADDRESS: 'LIST_IP_ADDRESS',\n  LIST_IP_RANGE: 'LIST_IP_RANGE',\n  LIST_CIDR: 'LIST_CIDR',\n  LIST_COUNTRY: 'LIST_COUNTRY'\n};\n\nvar SECURITY_LEVEL = exports.SECURITY_LEVEL = {\n  DEFAULT: 'tls-optional',\n  TLS_OPTIONAL: 'tls-optional',\n  TLS_TOKEN: 'tls-token',\n  TLS_CERTIFICATE: 'tls-certificate',\n  TLS_TOKEN_CERTIFICATE: 'tls-token-certificate',\n  TLS_CERTIFICATE_OR_TOKEN: 'tls-certificate-or-token'\n};\n\nvar SECURITY_LEVEL_OPTIONS = exports.SECURITY_LEVEL_OPTIONS = [SECURITY_LEVEL.TLS_OPTIONAL, SECURITY_LEVEL.TLS_TOKEN, SECURITY_LEVEL.TLS_CERTIFICATE, SECURITY_LEVEL.TLS_TOKEN_CERTIFICATE, SECURITY_LEVEL.TLS_CERTIFICATE_OR_TOKEN];\n\nvar SECURITY_LEVEL_MSG_ROOT = exports.SECURITY_LEVEL_MSG_ROOT = 'RiskManagement.Policies.ConnectionSecurity.SecurityLevel';\n\nvar getPolicyTypes = exports.getPolicyTypes = function getPolicyTypes(nls) {\n  return [{\n    id: PolicyTypes.CONNECTION_SECURITY,\n    name: nls.resolve('RiskManagement.Policies.ConnectionSecurity.policy.name'),\n    description: nls.resolve('RiskManagement.Policies.ConnectionSecurity.policy.description'),\n    policyType: PolicyTypes.CONNECTION_SECURITY,\n    securityLevel: SECURITY_LEVEL.DEFAULT\n  }, {\n    id: PolicyTypes.BLACKLIST,\n    name: nls.resolve('RiskManagement.Policies.AccessControl.BLACKLIST.policy.name'),\n    description: nls.resolve('RiskManagement.Policies.AccessControl.BLACKLIST.policy.description'),\n    policyType: PolicyTypes.BLACKLIST\n  }, {\n    id: PolicyTypes.WHITELIST,\n    name: nls.resolve('RiskManagement.Policies.AccessControl.WHITELIST.policy.name'),\n    description: nls.resolve('RiskManagement.Policies.AccessControl.WHITELIST.policy.description'),\n    policyType: PolicyTypes.WHITELIST\n  }];\n};\n\nvar CommonPolicyProps = exports.CommonPolicyProps = {\n  IS_DEFAULT: 'isDefault',\n  IS_NEW: 'isNew',\n  IS_ADDED: 'isAdded',\n  IS_UPDATED: 'isUpdated',\n  IS_DELETED: 'isDeleted'\n};\n\nvar AccessControlTableHeaders = exports.AccessControlTableHeaders = {\n  IP_COUNTRY: 'ipCountry',\n  COMMENTS: 'comments',\n  DATE_ADDED: 'dateAdded'\n};\n\nvar AccessControlProps = exports.AccessControlProps = _extends({}, AccessControlTableHeaders, {\n  TYPE: 'type',\n  IS_ENABLED: 'isEnabled',\n  POLICY_ID: 'policyId'\n});\n\nvar ConnectionSecurityTableHeaders = exports.ConnectionSecurityTableHeaders = {\n  DEVICE_TYPE: 'deviceType',\n  NUMBER_OF_DEVICES: 'numberOfDevices',\n  SECURITY_LEVEL: 'securityLevel',\n  PREDICTED_COMPLIANCE: 'predictedCompliance'\n};\n\nvar ConnectionSecurityProps = exports.ConnectionSecurityProps = _extends({}, ConnectionSecurityTableHeaders, {\n  VERSION: 'version',\n  POLICY_ID: 'policyId',\n  LAST_UPDATED: 'lastUpdated'\n});\n\nvar accessControlTableHeadersArray = Object.keys(AccessControlTableHeaders).map(function (key) {\n  return AccessControlTableHeaders[key];\n});\n\nvar PolicyTableHeaders = exports.PolicyTableHeaders = (_PolicyTableHeaders = {}, _defineProperty(_PolicyTableHeaders, PolicyTypes.CONNECTION_SECURITY, Object.keys(ConnectionSecurityTableHeaders).map(function (key) {\n  return ConnectionSecurityTableHeaders[key];\n})), _defineProperty(_PolicyTableHeaders, PolicyTypes.WHITELIST, accessControlTableHeadersArray), _defineProperty(_PolicyTableHeaders, PolicyTypes.BLACKLIST, accessControlTableHeadersArray), _PolicyTableHeaders);\n\n},{}],\"/Users/frank/Documents/Projects/IOTFoundation/components/app/RiskManagement/services/PolicyService.js\":[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.refreshCompliance = exports.savePolicyData = exports.saveAccessControl = exports.saveConnectionSecurity = exports.deletePolicy = exports.updatePolicy = exports.savePolicy = exports.saveTempPolicy = exports.loadAccessControlListsStatuses = exports.loadPoliciesByType = exports.loadPolicyCompliance = exports.loadSecurityLevels = exports.loadPolicyTypes = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _Policies = require('../constants/Policies.js');\n\nvar _API = require('../utils/API');\n\nvar _PoliciesUtils = require('../utils/PoliciesUtils');\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar options = {\n  credentials: 'same-origin',\n  headers: {\n    'Cache-Control': 'no-cache',\n    Pragma: 'no-cache',\n    'Content-type': 'application/json'\n  }\n};\n\nvar API = '/api/v0002/riskmgmt';\n\nvar loadPolicyTypes = exports.loadPolicyTypes = function loadPolicyTypes(nls) {\n  return (0, _Policies.getPolicyTypes)(nls).map(function (policy) {\n    return {\n      id: policy.id,\n      policyType: policy.policyType,\n      hasSwitch: policy.policyType !== _Policies.PolicyTypes.CONNECTION_SECURITY,\n      name: policy.name,\n      description: policy.description,\n      securityLevel: policy.securityLevel\n    };\n  });\n};\n\nvar loadSecurityLevels = exports.loadSecurityLevels = function loadSecurityLevels(nls) {\n  return _Policies.SECURITY_LEVEL_OPTIONS.map(function (option) {\n    return {\n      key: option,\n      label: nls.resolve(_Policies.SECURITY_LEVEL_MSG_ROOT + '.' + option)\n    };\n  });\n};\n\nvar loadPolicyCompliance = exports.loadPolicyCompliance = function loadPolicyCompliance(policyType, ids, initialLoad, callback) {\n  var policiesParam = ids && ids.length > 0 ? '?policies=' + ids.join('+') : '';\n  var params = '' + policyType + policiesParam;\n  var mode = initialLoad ? 'active' : 'predict';\n  var url = API + '/reporting/policies/' + mode + '/PolicyType/' + params;\n\n  // Returns a new promise\n  return new Promise(function (resolve, reject) {\n    var xhr = new XMLHttpRequest();\n    var previousLen = 0;\n    var previousLine = '';\n\n    // Initializes the XHTMLHttpRequest callbacks\n    xhr.addEventListener('abort', function () {\n      return reject('loadPolicyCompliance aborted');\n    });\n    xhr.addEventListener('error', function () {\n      return reject('RiskManagement.Error.internalError');\n    });\n    xhr.addEventListener('load', function () {\n      return xhr.status === 200 ? resolve() : reject('RiskManagement.Error.internalError');\n    });\n    // xhr.addEventListener('loadend', () => ??.log('end'));\n    xhr.open('GET', url, true);\n\n    // On each chunk\n    xhr.onreadystatechange = function () {\n      var response = xhr.responseText;\n      var chunk = response.slice(previousLen);\n      previousLen = response.length;\n\n      // Process the chunk\n      var lines = chunk.split('\\n');\n      var lastLine = String(lines[lines.length - 1]);\n      if (lastLine.length === 0 && lines.length > 1) {\n        lastLine = lines[lines.length - 2];\n      }\n\n      // Only sends if there is data\n      if (lastLine !== '' && lastLine !== previousLine) {\n        try {\n          callback(JSON.parse(lastLine));\n        } catch (e) {\n          console.log('Bad chunk, not a JSON - ' + e.message$);\n        } // eslint-disable-line\n      }\n      previousLine = lastLine;\n      return true;\n    };\n    xhr.send(null);\n  });\n};\n\nvar loadPoliciesByType = exports.loadPoliciesByType = function loadPoliciesByType(type) {\n  return (0, _API.jsonFetch)(API + '/policies/type/' + type, options).then(function (response) {\n    if (response.exception) {\n      throw new Error((0, _API.getAPIError)(response));\n    }\n    return response;\n  }).then(function (policies) {\n    return (0, _PoliciesUtils.convertPoliciesToUIData)(type, policies.results);\n  });\n};\n\nvar loadAccessControlListsStatuses = exports.loadAccessControlListsStatuses = function loadAccessControlListsStatuses() {\n  return (0, _API.jsonFetch)(API + '/policies/lists/status', options).then(function (response) {\n    if (response.exception) {\n      throw new Error((0, _API.getAPIError)(response));\n    }\n    return response;\n  }).then(function (statuses) {\n    return (0, _PoliciesUtils.convertAccessControlStatusesToUIData)(statuses);\n  });\n};\n\nvar saveTempPolicy = exports.saveTempPolicy = function saveTempPolicy(type, policy) {\n  // (tableId, data) => {\n  var data = (0, _PoliciesUtils.convertConnectionSecurityUIDataToBackendData)(policy, true);\n  return (0, _API.jsonFetch)(API + '/policies/temp/', _extends({}, options, { method: 'POST', body: JSON.stringify(data) }));\n};\n\nvar savePolicy = exports.savePolicy = function savePolicy(data) {\n  return (0, _API.jsonFetch)(API + '/policies/', _extends({}, options, { method: 'POST', body: JSON.stringify(data) })).then(function (policy) {\n    return policy;\n  });\n};\n\nvar updatePolicy = exports.updatePolicy = function updatePolicy(policyId, data) {\n  return (0, _API.jsonFetch)(API + '/policies/' + policyId, _extends({}, options, { method: 'PUT', body: JSON.stringify(data) })).then(function (policy) {\n    return policy;\n  });\n};\n\nvar deletePolicy = exports.deletePolicy = function deletePolicy(policyId) {\n  return fetch(API + '/policies/' + policyId, _extends({}, options, { method: 'DELETE' }));\n};\n\nvar getNewData = function getNewData(policyData) {\n  return policyData.filter(function (policy) {\n    return policy[_Policies.CommonPolicyProps.IS_ADDED] && !policy[_Policies.CommonPolicyProps.IS_DELETED];\n  });\n};\n\nvar saveData = function saveData(policyData) {\n  return getNewData(policyData).map(function (policy) {\n    return savePolicy.bind(null, (0, _PoliciesUtils.convertConnectionSecurityUIDataToBackendData)(policy, true));\n  });\n};\n\nvar getUpdatedData = function getUpdatedData(policyData) {\n  return policyData.filter(function (policy) {\n    return policy[_Policies.CommonPolicyProps.IS_UPDATED] && !policy[_Policies.CommonPolicyProps.IS_ADDED] && !policy[_Policies.CommonPolicyProps.IS_DELETED];\n  });\n};\n\nvar updateData = function updateData(policyData) {\n  return getUpdatedData(policyData).map(function (policy) {\n    return updatePolicy.bind(null, policy[_Policies.ConnectionSecurityProps.POLICY_ID], (0, _PoliciesUtils.convertConnectionSecurityUIDataToBackendData)(policy));\n  });\n};\n\nvar getDeletedData = function getDeletedData(policyData) {\n  return policyData.filter(function (policy) {\n    return policy[_Policies.CommonPolicyProps.IS_DELETED] && policy[_Policies.ConnectionSecurityProps.POLICY_ID];\n  });\n};\n\nvar deleteData = function deleteData(policyData) {\n  return getDeletedData(policyData).map(function (policy) {\n    return deletePolicy.bind(null, policy[_Policies.ConnectionSecurityProps.POLICY_ID]);\n  });\n};\n\nvar saveConnectionSecurity = exports.saveConnectionSecurity = function saveConnectionSecurity(policyData) {\n  // Filter out entries with invalid device type\n  var validPolicyData = policyData.filter(function (policy) {\n    return policy[_Policies.CommonPolicyProps.IS_DEFAULT] || policy[_Policies.ConnectionSecurityProps.DEVICE_TYPE];\n  });\n  var savePromises = saveData(validPolicyData);\n  var updatePromises = updateData(validPolicyData);\n  var deletePromises = deleteData(validPolicyData);\n\n  var promises = [].concat(_toConsumableArray(savePromises), _toConsumableArray(updatePromises), _toConsumableArray(deletePromises)).map(function (f) {\n    return f();\n  });\n\n  return Promise.all(promises).then(function (results) {\n    return results;\n  }).catch(function (error) {\n    return { message: error.message, exception: true };\n  });\n};\n\nvar saveAccessControl = exports.saveAccessControl = function saveAccessControl(policyType, policies) {\n  var statusData = (0, _PoliciesUtils.convertAccessControlUIPoliciesDataToBackendStatusData)(policies);\n  return (0, _API.jsonFetch)(API + '/policies/lists/status', _extends({}, options, { method: 'PUT', body: JSON.stringify(statusData) })).then(function () {\n    var policyId = policies[policyType].find(function (obj) {\n      return obj[_Policies.CommonPolicyProps.IS_DEFAULT];\n    })[_Policies.AccessControlProps.POLICY_ID];\n    var policyData = (0, _PoliciesUtils.convertAccessControlUIDataToBackendData)(policyType, policies[policyType]);\n    return (0, _API.jsonFetch)(API + '/policies/' + policyId, _extends({}, options, { method: 'PUT', body: JSON.stringify(policyData) }));\n  });\n};\n\nvar savePolicyData = exports.savePolicyData = function savePolicyData(policyType, policies) {\n  return policyType === _Policies.PolicyTypes.CONNECTION_SECURITY ? saveConnectionSecurity(policies[policyType]) : saveAccessControl(policyType, policies);\n};\n\n/** **************************************\n * NOT AVAILABLE FOR CODE REVIEW =P\n ****************************************/\n\nvar randomNumbers = [];\nfor (var i = 0; i < 100; i++) {\n  randomNumbers.push(Math.floor(Math.random() * 81) + 10); // 10 to 90\n}\nrandomNumbers = randomNumbers.sort(function (a, b) {\n  return a - b;\n});\n\nvar refreshCompliance = exports.refreshCompliance = function refreshCompliance(ids, initialLoad, callback) {\n  return loadPolicyCompliance(_Policies.PolicyTypes.CONNECTION_SECURITY, ids, initialLoad, callback);\n};\n\n},{\"../constants/Policies.js\":\"/Users/frank/Documents/Projects/IOTFoundation/components/app/RiskManagement/constants/Policies.js\",\"../utils/API\":\"/Users/frank/Documents/Projects/IOTFoundation/components/app/RiskManagement/utils/API.js\",\"../utils/PoliciesUtils\":\"/Users/frank/Documents/Projects/IOTFoundation/components/app/RiskManagement/utils/PoliciesUtils.js\"}],\"/Users/frank/Documents/Projects/IOTFoundation/components/app/RiskManagement/utils/API.js\":[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.jsonFetch = jsonFetch;\nexports.getAPIError = getAPIError;\nfunction jsonFetch(url, options) {\n  return fetch(url, options).then(function (response) {\n    if (!response.ok) {\n      throw new Error('RiskManagement.Error.internalError');\n    }\n    var contentType = response.headers.get('content-type');\n    var isJson = contentType && contentType.indexOf('application/json') !== -1;\n    return isJson ? response.json() : response;\n  }).catch(function () {\n    throw new Error('RiskManagement.Error.internalError');\n  });\n}\n\nfunction getAPIError(json) {\n  var hasCode = json.message && json.exception && json.exception.id;\n  return 'RiskManagement.Error.Codes.' + (hasCode ? json.exception.id : 'unknown');\n}\n\n},{}],\"/Users/frank/Documents/Projects/IOTFoundation/components/app/RiskManagement/utils/Compliance.js\":[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Compliance = function () {\n  function Compliance(pass, fail, unknown) {\n    _classCallCheck(this, Compliance);\n\n    this.pass = pass;\n    this.fail = fail;\n    this.unknown = unknown;\n  }\n\n  _createClass(Compliance, [{\n    key: \"compareTo\",\n    value: function compareTo(objectToCompare) {\n      if (this.pass === objectToCompare.pass) {\n        return 0;\n      }\n      return this.pass < objectToCompare.pass ? -1 : 1;\n    }\n  }]);\n\n  return Compliance;\n}();\n\nexports.default = Compliance;\n\n},{}],\"/Users/frank/Documents/Projects/IOTFoundation/components/app/RiskManagement/utils/PoliciesUtils.js\":[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.convertAccessControlUIDataToBackendData = exports.convertAccessControlUIPoliciesDataToBackendStatusData = exports.convertAccessControlStatusesToUIData = exports.convertConnectionSecurityUIDataToBackendData = exports.convertPoliciesToUIData = undefined;\n\nvar _Policies = require('../constants/Policies');\n\nvar _AccessControlAddDialog = require('../constants/AccessControlAddDialog');\n\nvar AccessControlAddDialog = _interopRequireWildcard(_AccessControlAddDialog);\n\nvar _Compliance = require('./Compliance');\n\nvar _Compliance2 = _interopRequireDefault(_Compliance);\n\nvar _SecurityLevelParser = require('./SecurityLevelParser');\n\nvar _SecurityLevelParser2 = _interopRequireDefault(_SecurityLevelParser);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar levelParser = new _SecurityLevelParser2.default();\n\nvar convertAccessControlEntryTypeToAddDialogContentType = function convertAccessControlEntryTypeToAddDialogContentType(accessControlEntryType) {\n  switch (accessControlEntryType) {\n    case _Policies.AccessControlEntryTypes.LIST_CIDR:\n      return AccessControlAddDialog.CIDR;\n    case _Policies.AccessControlEntryTypes.LIST_COUNTRY:\n      return AccessControlAddDialog.COUNTRY;\n    case _Policies.AccessControlEntryTypes.LIST_IP_ADDRESS:\n    case _Policies.AccessControlEntryTypes.LIST_IP_RANGE:\n    default:\n      return AccessControlAddDialog.IP;\n  }\n};\n\nvar convertAddDialogContentTypeToAccessControlEntryType = function convertAddDialogContentTypeToAccessControlEntryType(addDialogContentType, value) {\n  switch (addDialogContentType) {\n    case AccessControlAddDialog.IP:\n      return value.indexOf('-') >= 0 ? _Policies.AccessControlEntryTypes.LIST_IP_RANGE : _Policies.AccessControlEntryTypes.LIST_IP_ADDRESS;\n    case AccessControlAddDialog.CIDR:\n      return _Policies.AccessControlEntryTypes.LIST_CIDR;\n    case AccessControlAddDialog.COUNTRY:\n      return _Policies.AccessControlEntryTypes.LIST_COUNTRY;\n    default:\n      return _Policies.AccessControlEntryTypes.LIST_IP_ADDRESS;\n  }\n};\n\nvar convertPoliciesToUIData = exports.convertPoliciesToUIData = function convertPoliciesToUIData(policyType, policiesArray) {\n  var _ref3;\n\n  if (_Policies.PolicyTypes.CONNECTION_SECURITY === policyType) {\n    return policiesArray.map(function (policy) {\n      var _ref;\n\n      return _ref = {}, _defineProperty(_ref, _Policies.CommonPolicyProps.IS_DEFAULT, Boolean(policy.defaultPolicy)), _defineProperty(_ref, _Policies.ConnectionSecurityProps.POLICY_ID, policy.id), _defineProperty(_ref, _Policies.ConnectionSecurityProps.VERSION, policy.version), _defineProperty(_ref, _Policies.ConnectionSecurityProps.DEVICE_TYPE, policy.target || ''), _defineProperty(_ref, _Policies.ConnectionSecurityProps.SECURITY_LEVEL, levelParser.getSecurityLevel(policy.conditions)), _defineProperty(_ref, _Policies.ConnectionSecurityProps.PREDICTED_COMPLIANCE, new _Compliance2.default(0, 0, 0)), _defineProperty(_ref, _Policies.ConnectionSecurityProps.LAST_UPDATED, new Date(policy.lastUpdated).getTime()), _ref;\n    }).sort(function (a, b) {\n      return a[_Policies.ConnectionSecurityProps.DEVICE_TYPE] < b[_Policies.ConnectionSecurityProps.DEVICE_TYPE] ? -1 : 1;\n    });\n  }\n  return policiesArray.length > 0 ? [].concat(_toConsumableArray(policiesArray[0].conditions.map(function (item) {\n    var _ref2;\n\n    return _ref2 = {}, _defineProperty(_ref2, _Policies.AccessControlProps.TYPE, convertAccessControlEntryTypeToAddDialogContentType(item.property)), _defineProperty(_ref2, _Policies.AccessControlProps.IP_COUNTRY, item.value), _defineProperty(_ref2, _Policies.AccessControlProps.COMMENTS, item.description), _defineProperty(_ref2, _Policies.AccessControlProps.DATE_ADDED, new Date(item.lastUpdated).toUTCString()), _ref2;\n  })), [(_ref3 = {}, _defineProperty(_ref3, _Policies.CommonPolicyProps.IS_DEFAULT, true), _defineProperty(_ref3, _Policies.AccessControlProps.IS_ENABLED, policiesArray[0].enabled), _defineProperty(_ref3, _Policies.AccessControlProps.POLICY_ID, policiesArray[0].id), _ref3)]) : [];\n};\n\nvar convertConnectionSecurityUIDataToBackendData = exports.convertConnectionSecurityUIDataToBackendData = function convertConnectionSecurityUIDataToBackendData(policy) {\n  var isNew = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var newPolicy = {\n    conditions: levelParser.postSecurityLevel(policy[_Policies.ConnectionSecurityProps.SECURITY_LEVEL]),\n    target: policy[_Policies.ConnectionSecurityProps.DEVICE_TYPE],\n    policyType: _Policies.PolicyTypes.CONNECTION_SECURITY\n  };\n  if (isNew) {\n    var isDefault = policy[_Policies.CommonPolicyProps.IS_DEFAULT];\n    newPolicy.name = policy[_Policies.ConnectionSecurityProps.DEVICE_TYPE] + '-' + policy[_Policies.ConnectionSecurityProps.SECURITY_LEVEL];\n    newPolicy.severity = 1;\n    newPolicy.targetType = isDefault ? 'ALL' : 'DEVICE_TYPE';\n    newPolicy.violationActions = ['REJECT_CONNECTION'];\n    if (isDefault) {\n      newPolicy.defaultPolicy = true;\n    } else {\n      newPolicy.target = policy[_Policies.ConnectionSecurityProps.DEVICE_TYPE];\n    }\n  }\n  return newPolicy;\n};\n\nvar convertAccessControlStatusesToUIData = exports.convertAccessControlStatusesToUIData = function convertAccessControlStatusesToUIData(statuses) {\n  var _ref4, _ref5, _ref6;\n\n  return _ref6 = {}, _defineProperty(_ref6, _Policies.PolicyTypes.WHITELIST, [(_ref4 = {}, _defineProperty(_ref4, _Policies.CommonPolicyProps.IS_DEFAULT, true), _defineProperty(_ref4, _Policies.AccessControlProps.IS_ENABLED, statuses.whitelistActive), _ref4)]), _defineProperty(_ref6, _Policies.PolicyTypes.BLACKLIST, [(_ref5 = {}, _defineProperty(_ref5, _Policies.CommonPolicyProps.IS_DEFAULT, true), _defineProperty(_ref5, _Policies.AccessControlProps.IS_ENABLED, statuses.blacklistActive), _ref5)]), _ref6;\n};\n\nvar convertAccessControlUIPoliciesDataToBackendStatusData = exports.convertAccessControlUIPoliciesDataToBackendStatusData = function convertAccessControlUIPoliciesDataToBackendStatusData(uiPoliciesData) {\n  return {\n    whitelistActive: uiPoliciesData[_Policies.PolicyTypes.WHITELIST].find(function (entry) {\n      return entry[_Policies.CommonPolicyProps.IS_DEFAULT];\n    })[_Policies.AccessControlProps.IS_ENABLED],\n    blacklistActive: uiPoliciesData[_Policies.PolicyTypes.BLACKLIST].find(function (entry) {\n      return entry[_Policies.CommonPolicyProps.IS_DEFAULT];\n    })[_Policies.AccessControlProps.IS_ENABLED]\n  };\n};\n\nvar convertAccessControlUIDataToBackendData = exports.convertAccessControlUIDataToBackendData = function convertAccessControlUIDataToBackendData(policyType, uiData) {\n  return {\n    policyType: policyType,\n    conditions: uiData.filter(function (entry) {\n      return !entry[_Policies.CommonPolicyProps.IS_DEFAULT];\n    }).filter(function (entry) {\n      return !entry[_Policies.CommonPolicyProps.IS_DELETED];\n    }).map(function (entry) {\n      return {\n        property: convertAddDialogContentTypeToAccessControlEntryType(entry[_Policies.AccessControlProps.TYPE], entry[_Policies.AccessControlProps.IP_COUNTRY]),\n        value: entry[_Policies.AccessControlProps.IP_COUNTRY],\n        description: entry[_Policies.AccessControlProps.COMMENTS],\n        lastUpdated: entry[_Policies.AccessControlProps.DATE_ADDED] ? new Date(entry[_Policies.AccessControlProps.DATE_ADDED]).toISOString() : undefined,\n        conditionType: 'PROPERTY',\n        operator: 'IN',\n        valueType: 'STRING'\n      };\n    })\n  };\n};\n\n},{\"../constants/AccessControlAddDialog\":\"/Users/frank/Documents/Projects/IOTFoundation/components/app/RiskManagement/constants/AccessControlAddDialog.js\",\"../constants/Policies\":\"/Users/frank/Documents/Projects/IOTFoundation/components/app/RiskManagement/constants/Policies.js\",\"./Compliance\":\"/Users/frank/Documents/Projects/IOTFoundation/components/app/RiskManagement/utils/Compliance.js\",\"./SecurityLevelParser\":\"/Users/frank/Documents/Projects/IOTFoundation/components/app/RiskManagement/utils/SecurityLevelParser.js\"}],\"/Users/frank/Documents/Projects/IOTFoundation/components/app/RiskManagement/utils/SecurityLevelParser.js\":[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Policies = require('../constants/Policies');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar TLS_OPTIONAL = [{\n  conditionType: 'CONJUNCTION',\n  operator: 'OR',\n  conditions: [{\n    conditionType: 'PROPERTY',\n    property: 'CONN_IS_SECURE',\n    operator: 'EQ',\n    valueType: 'BOOLEAN',\n    value: true\n  }, {\n    conditionType: 'PROPERTY',\n    property: 'CONN_IS_SECURE',\n    operator: 'EQ',\n    valueType: 'BOOLEAN',\n    value: false\n  }]\n}];\n\nvar TLS_TOKEN = [{\n  conditionType: 'PROPERTY',\n  property: 'CONN_IS_SECURE',\n  operator: 'EQ',\n  valueType: 'BOOLEAN',\n  value: true\n}, {\n  conditionType: 'PROPERTY',\n  property: 'CONN_USES_TOKEN',\n  operator: 'EQ',\n  valueType: 'BOOLEAN',\n  value: true\n}];\n\nvar TLS_CERTIFICATE = [{\n  conditionType: 'PROPERTY',\n  property: 'CONN_IS_SECURE',\n  operator: 'EQ',\n  valueType: 'BOOLEAN',\n  value: true\n}, {\n  conditionType: 'PROPERTY',\n  property: 'CONN_USES_CERTIFICATE',\n  operator: 'EQ',\n  valueType: 'BOOLEAN',\n  value: true\n}];\n\nvar TLS_TOKEN_CERTIFICATE = [{\n  conditionType: 'PROPERTY',\n  property: 'CONN_IS_SECURE',\n  operator: 'EQ',\n  valueType: 'BOOLEAN',\n  value: true\n}, {\n  conditionType: 'PROPERTY',\n  property: 'CONN_USES_TOKEN',\n  operator: 'EQ',\n  valueType: 'BOOLEAN',\n  value: true\n}, {\n  conditionType: 'PROPERTY',\n  property: 'CONN_USES_CERTIFICATE',\n  operator: 'EQ',\n  valueType: 'BOOLEAN',\n  value: true\n}];\n\nvar TLS_CERTIFICATE_OR_TOKEN = [{\n  conditionType: 'PROPERTY',\n  property: 'CONN_IS_SECURE',\n  operator: 'EQ',\n  valueType: 'BOOLEAN',\n  value: true\n}, {\n  conditionType: 'CONJUNCTION',\n  operator: 'OR',\n  conditions: [{\n    conditionType: 'PROPERTY',\n    property: 'CONN_USES_TOKEN',\n    operator: 'EQ',\n    valueType: 'BOOLEAN',\n    value: true\n  }, {\n    conditionType: 'PROPERTY',\n    property: 'CONN_USES_CERTIFICATE',\n    operator: 'EQ',\n    valueType: 'BOOLEAN',\n    value: true\n  }]\n}];\n\nvar SecurityLevelParser = function () {\n  function SecurityLevelParser() {\n    _classCallCheck(this, SecurityLevelParser);\n  }\n\n  _createClass(SecurityLevelParser, [{\n    key: 'getSecurityLevel',\n    value: function getSecurityLevel() {\n      var conditions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      var options = {\n        CONN_IS_SECURE: undefined,\n        CONN_USES_TOKEN: undefined,\n        CONN_USES_CERTIFICATE: undefined\n      };\n\n      conditions.forEach(function (condition) {\n        if (condition.conditionType === 'CONJUNCTION') {\n          condition.conditions.forEach(function (subCondition) {\n            if (subCondition.conditionType === 'PROPERTY') {\n              if (options[subCondition.property] !== undefined && subCondition.value !== undefined && options[subCondition.property] !== subCondition.value) {\n                options[subCondition.property] = 'optional';\n              } else if (condition.operator === 'OR') {\n                options[subCondition.property] = 'either';\n              } else {\n                options[subCondition.property] = subCondition.value;\n              }\n            }\n          });\n        } else if (condition.conditionType === 'PROPERTY') {\n          options[condition.property] = condition.value;\n        }\n      });\n\n      if (options.CONN_IS_SECURE === 'optional') {\n        return _Policies.SECURITY_LEVEL.TLS_OPTIONAL;\n      } else if (options.CONN_IS_SECURE && options.CONN_USES_TOKEN === 'either' && options.CONN_USES_CERTIFICATE === 'either') {\n        return _Policies.SECURITY_LEVEL.TLS_CERTIFICATE_OR_TOKEN;\n      } else if (options.CONN_IS_SECURE && options.CONN_USES_TOKEN && options.CONN_USES_CERTIFICATE) {\n        return _Policies.SECURITY_LEVEL.TLS_TOKEN_CERTIFICATE;\n      } else if (options.CONN_IS_SECURE && options.CONN_USES_TOKEN) {\n        return _Policies.SECURITY_LEVEL.TLS_TOKEN;\n      } else if (options.CONN_IS_SECURE && options.CONN_USES_CERTIFICATE) {\n        return _Policies.SECURITY_LEVEL.TLS_CERTIFICATE;\n      }\n\n      return null;\n    }\n  }, {\n    key: 'postSecurityLevel',\n    value: function postSecurityLevel(securityLevel) {\n      switch (securityLevel) {\n        case _Policies.SECURITY_LEVEL.TLS_OPTIONAL:\n          return TLS_OPTIONAL;\n        case _Policies.SECURITY_LEVEL.TLS_TOKEN:\n          return TLS_TOKEN;\n        case _Policies.SECURITY_LEVEL.TLS_CERTIFICATE:\n          return TLS_CERTIFICATE;\n        case _Policies.SECURITY_LEVEL.TLS_TOKEN_CERTIFICATE:\n          return TLS_TOKEN_CERTIFICATE;\n        case _Policies.SECURITY_LEVEL.TLS_CERTIFICATE_OR_TOKEN:\n          return TLS_CERTIFICATE_OR_TOKEN;\n        default:\n          return TLS_OPTIONAL;\n      }\n    }\n  }]);\n\n  return SecurityLevelParser;\n}();\n\nexports.default = SecurityLevelParser;\n\n},{\"../constants/Policies\":\"/Users/frank/Documents/Projects/IOTFoundation/components/app/RiskManagement/constants/Policies.js\"}],\"/Users/frank/Documents/Projects/IOTFoundation/components/app/shared/DatePicker/DateTimePicker.jsx\":[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar _react = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\n\nvar _reactDatepicker = (typeof window !== \"undefined\" ? window['DatePicker'] : typeof global !== \"undefined\" ? global['DatePicker'] : null);\n\nvar _reactDatepicker2 = _interopRequireDefault(_reactDatepicker);\n\nvar _TimePicker = require('../TimePicker/TimePicker.jsx');\n\nvar _TimePicker2 = _interopRequireDefault(_TimePicker);\n\nvar _Checkbox = require('../../../common/components/Checkbox.jsx');\n\nvar _Checkbox2 = _interopRequireDefault(_Checkbox);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar styles = {\n  datePickerContainer: {\n    background: \"white\",\n    position: \"absolute\",\n    bottom: \"36px\",\n    zIndex: \"20\",\n    borderTop: \"3px solid black !important\",\n    boxShadow: \"0px 0px 3px 0px rgba(72,81,81,0.67)\"\n  },\n  hideCalendar: {\n    display: \"none\"\n  },\n  timePicker: {\n    float: \"right\",\n    width: \"90px\",\n    margin: \"7px\",\n    height: \"30px\"\n  },\n  checkboxContainer: {\n    paddingTop: \"5px\",\n    position: \"absolute\",\n    height: \"30px\"\n  },\n  checkboxLabel: {\n    float: \"left\",\n    marginLeft: \"10px\",\n    marginRight: \"10px\",\n    marginTop: \"7px\"\n  },\n  realTime: {\n    float: \"left\",\n    width: \"16px\",\n    height: \"16px\",\n    marginLeft: \"10px\",\n    marginTop: \"10px\",\n    zIndex: \"20\"\n  },\n  dateInput: {\n    width: \"90px\",\n    height: \"36px\",\n    fontSize: \"12px\"\n  }\n};\n\nvar DateTimePicker = function (_Component) {\n  _inherits(DateTimePicker, _Component);\n\n  function DateTimePicker(props) {\n    _classCallCheck(this, DateTimePicker);\n\n    var _this = _possibleConstructorReturn(this, (DateTimePicker.__proto__ || Object.getPrototypeOf(DateTimePicker)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    var dateTimeFormatted = props.dateTime.format(\"L HH:mm:ss\");\n    _this.state = {\n      dateTime: props.dateTime || moment(),\n      dateTimeFormatted: props.isRealTime ? props.nowAlias : dateTimeFormatted,\n      pickerEnabled: false,\n      beforeClickedOutside: false, // <- handleClickOutside sets pickerEnabled always to false,\n      // we have to remember the previous state...\n      isRealTime: props.isRealTime\n    };\n    return _this;\n  }\n\n  return DateTimePicker;\n}(_react.Component);\n\nDateTimePicker.propTypes = {\n  theme: _react.PropTypes.object,\n  isLeft: _react.PropTypes.bool,\n  isRealTime: _react.PropTypes.bool,\n  dateTime: _react.PropTypes.object,\n  startDate: _react.PropTypes.object,\n  endDate: _react.PropTypes.object,\n  nowAlias: _react.PropTypes.string,\n  checkboxLabel: _react.PropTypes.string,\n  timePickerStyle: _react.PropTypes.object,\n  checkboxStyle: _react.PropTypes.object,\n  onChange: _react.PropTypes.func,\n  setRealTime: _react.PropTypes.func,\n  minDate: _react.PropTypes.object,\n  maxDate: _react.PropTypes.object\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this2 = this;\n\n  this.defaultProps = {\n    dateTime: moment(),\n    timePickerStyle: {},\n    checkboxStyle: {},\n    onChange: function onChange() {},\n    setRealTime: function setRealTime() {}\n  };\n\n  this.componentDidMount = function () {\n    document.addEventListener('click', _this2.handleClickOutside, true);\n  };\n\n  this.componentWillUnmount = function () {\n    document.removeEventListener('click', _this2.handleClickOutside, true);\n  };\n\n  this.handleClickOutside = function (e) {\n    _this2.setState({ pickerEnabled: false, beforeClickedOutside: _this2.state.pickerEnabled });\n  };\n\n  this.onClick = function (e) {\n    _this2.setState({ pickerEnabled: true, beforeClickedOutside: true });\n  };\n\n  this.componentWillReceiveProps = function (newProps) {\n    var newDateTime = newProps.dateTime || moment();\n    var dateTimeFormatted = newDateTime.format(\"L HH:mm:ss\");\n    _this2.setState({\n      dateTime: newDateTime,\n      dateTimeFormatted: newProps.isRealTime ? _this2.props.nowAlias : dateTimeFormatted\n    });\n  };\n\n  this.onChange = function (bla, date) {\n    if (_this2.props.maxDate && date.isAfter(_this2.props.maxDate)) date = _this2.props.maxDate.clone();\n    if (_this2.props.minDate && date.isBefore(_this2.props.minDate)) date = _this2.props.minDate.clone();\n    _this2.props.onChange(bla, date);\n  };\n\n  this.render = function () {\n    var leftRight = _this2.props.isLeft ? { left: \"0px\" } : { right: \"0px\" };\n    var showCalendarStyle = _this2.state.pickerEnabled ? Object.assign({}, styles.datePickerContainer, { borderColor: _this2.props.theme.normal }, leftRight || {}) : styles.hideCalendar;\n    //for DatePicker: className={pickerStyles.editor}\n    var timePickerStyle = Object.assign({}, styles.timePicker, _this2.props.timePickerStyle);\n    var checkboxStyle = Object.assign({}, styles.realTime, _this2.props.checkboxStyle);\n    var buttonStyle = Object.assign({}, styles.dateInput, { backgroundColor: \"#eceff1\" });\n    var now = moment();\n    return React.createElement(\n      'div',\n      null,\n      React.createElement(\n        'div',\n        { id: 'dialog', onClick: _this2.onClick, style: showCalendarStyle },\n        React.createElement(_reactDatepicker2.default, {\n          inline: true,\n          selected: _this2.props.isRealTime ? now : _this2.props.dateTime,\n          onChange: function onChange(date) {\n            _this2.onChange(true, date);\n          },\n          maxDate: _this2.props.maxDate ? _this2.props.maxDate : undefined,\n          minDate: _this2.props.minDate ? _this2.props.minDate : undefined\n        }),\n        React.createElement(\n          'div',\n          { style: styles.checkboxContainer },\n          React.createElement(_Checkbox2.default, {\n            style: checkboxStyle,\n            checked: _this2.props.isRealTime,\n            onChange: _this2.props.setRealTime,\n            theme: _this2.props.theme\n          }),\n          React.createElement(\n            'span',\n            { style: styles.checkboxLabel },\n            _this2.props.checkboxLabel\n          )\n        ),\n        React.createElement(_TimePicker2.default, {\n          style: timePickerStyle,\n          dateTime: _this2.props.isRealTime ? now : _this2.props.dateTime,\n          maxDate: now,\n          disabled: _this2.props.isRealTime,\n          onChange: function onChange(date) {\n            _this2.onChange(false, date);\n          }\n        }),\n        React.createElement('div', { style: { clear: \"both\" } })\n      ),\n      React.createElement(\n        'button',\n        {\n          style: buttonStyle,\n          onClick: function onClick(event) {\n            //toggle state of dialog\n            _this2.setState({ pickerEnabled: !_this2.state.beforeClickedOutside,\n              beforeClickedOutside: _this2.state.pickerEnabled });\n          }\n        },\n        _this2.state.dateTimeFormatted\n      )\n    );\n  };\n};\n\nmodule.exports = DateTimePicker;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"../../../common/components/Checkbox.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Checkbox.jsx\",\"../TimePicker/TimePicker.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/app/shared/TimePicker/TimePicker.jsx\"}],\"/Users/frank/Documents/Projects/IOTFoundation/components/app/shared/TimePicker/TimePicker.jsx\":[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar _TimePicker$propTypes;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\n\nvar _reactDom = (typeof window !== \"undefined\" ? window['ReactDOM'] : typeof global !== \"undefined\" ? global['ReactDOM'] : null);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _moment = (typeof window !== \"undefined\" ? window['moment'] : typeof global !== \"undefined\" ? global['moment'] : null);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n//import Icons from '../Icons/Icons.jsx';\n//TODO Move to Icons -- from TableHeaderCell\n/*case 'expand-less':\n  return (\n    <g><path d=\"M12 8l-6 6 1.41 1.41 4.59-4.58 4.59 4.58 1.41-1.41z\"></path></g>\n  );\ncase 'expand-more':\n  return (\n    <g><path d=\"M16.59 8.59l-4.59 4.58-4.59-4.58-1.41 1.41 6 6 6-6z\"></path></g>\n  );\n*/\n// Author: Diego Perini <dperini@nwbox.com>\n//from http://javascript.nwbox.com/cursor_position/, but added the !window.getSelection check, which\n//is needed for newer versions of IE, which adhere to standards from react-date-picker/lib/TimeInput/\nfunction getSelectionStart(input) {\n  if (input.createTextRange && !global.getSelection) {\n    //old IE only polyfill\n    var r = document.selection.createRange().duplicate();\n    r.moveEnd('character', input.value.length);\n    if (r.text == '') return input.value.length;\n    return input.value.lastIndexOf(r.text);\n  } else return input.selectionStart; //standard\n}\n\nfunction getSelectionEnd(input) {\n  if (input.createTextRange && !global.getSelection) {\n    //old IE only polyfill\n    var r = document.selection.createRange().duplicate();\n    r.moveStart('character', -input.value.length);\n    return r.text.length;\n  } else return input.selectionEnd; //standard\n}\n//--------------------------------\nfunction getCaretPosition(input) {\n  return getSelectionStart(input);\n}\nfunction setCaretPosition(input, caretPos) {\n  if (input != null) {\n    if (input.selectionStart) {\n      input.focus();\n      input.setSelectionRange(caretPos, caretPos);\n    } else if (input.createTextRange) {\n      var range = input.createTextRange();\n      range.move('character', caretPos);\n      range.select();\n    } else {\n      input.focus();\n    }\n  }\n}\n\nvar expandLess = // /\\\nReact.createElement(\n  'svg',\n  { width: '20px', height: '20px', viewBox: '0 6 24 18' },\n  React.createElement(\n    'g',\n    null,\n    React.createElement('path', { fill: '#000000', d: 'M12 8l-6 6 1.41 1.41 4.59-4.58 4.59 4.58 1.41-1.41z' })\n  )\n);\nvar expandMore = // \\/\nReact.createElement(\n  'svg',\n  { width: '20px', height: '20px', viewBox: '0 0 24 18' },\n  React.createElement(\n    'g',\n    null,\n    React.createElement('path', { fill: '#000000', d: 'M16.59 8.59l-4.59 4.58-4.59-4.58-1.41 1.41 6 6 6-6z' })\n  )\n);\nvar styles = {\n  container: {\n    position: \"relative\"\n  },\n  stretchToParent: {\n    position: \"absolute\",\n    top: \"0px\",\n    left: \"0px\",\n    right: \"0px\",\n    bottom: \"0px\"\n  },\n  countup: {\n    position: \"absolute\",\n    top: \"0px\",\n    right: \"0px\"\n  },\n  countdown: {\n    position: \"absolute\",\n    bottom: \"0px\",\n    right: \"0px\"\n  },\n  timepickerSize: {\n    width: \"90px\",\n    height: \"30px\"\n  }\n};\n\nvar TimePicker = function (_Component) {\n  _inherits(TimePicker, _Component);\n\n  function TimePicker(props) {\n    _classCallCheck(this, TimePicker);\n\n    var _this = _possibleConstructorReturn(this, (TimePicker.__proto__ || Object.getPrototypeOf(TimePicker)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    var dateTimeFormatted = props.dateTime.format(\"HH:mm\");\n    _this.state = {\n      dateTime: props.dateTime,\n      dateTimeFormatted: dateTimeFormatted,\n      lastValidTime: dateTimeFormatted,\n      lastCaretPosition: 0\n    };\n    return _this;\n  }\n\n  _createClass(TimePicker, [{\n    key: 'spinHelper',\n    value: function spinHelper(changeHour, changeMinute) {\n      var input = _reactDom2.default.findDOMNode(this).firstChild;\n      var caret = this.state.lastCaretPosition || getCaretPosition(input) || input.value.length;\n      console.debug(\"I \", caret);\n      if (caret < 3) {\n        //index of \":\", e.g. |0|8|:45\n        this.setTime(changeHour(this.state.dateTime));\n      } else {\n        //08:|4|5|\n        this.setTime(changeMinute(this.state.dateTime));\n      }\n      setCaretPosition(input, caret);\n    }\n  }]);\n\n  return TimePicker;\n}(_react.Component);\n\nTimePicker.propTypes = (_TimePicker$propTypes = {\n  style: _react.PropTypes.object,\n  theme: _react.PropTypes.object,\n  width: _react.PropTypes.oneOfType([_react.PropTypes.string, _react.PropTypes.number]),\n  dateTime: _react.PropTypes.object,\n  maxDate: _react.PropTypes.object\n}, _defineProperty(_TimePicker$propTypes, 'theme', _react.PropTypes.object), _defineProperty(_TimePicker$propTypes, 'onChange', _react.PropTypes.func), _defineProperty(_TimePicker$propTypes, 'disabled', _react.PropTypes.bool), _TimePicker$propTypes);\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this2 = this;\n\n  this.defaultProps = {\n    width: undefined,\n    dateTime: (0, _moment2.default)().hour(6).minute(0).second(0),\n    theme: {},\n    onChange: function onChange() {}\n  };\n\n  this.componentWillReceiveProps = function (nextProps) {\n    if (_this2.props.dateTime.valueOf() != nextProps.dateTime.valueOf()) {\n      var dateTimeFormatted = nextProps.dateTime.format(\"HH:mm\");\n      _this2.state = {\n        dateTime: nextProps.dateTime,\n        dateTimeFormatted: dateTimeFormatted,\n        lastValidTime: dateTimeFormatted\n      };\n    }\n  };\n\n  this.setTime = function (dateTime) {\n    // set a valid time to dateTime being reflected in displayed time\n    dateTime = _moment2.default.min(dateTime, _this2.props.maxDate);\n    var formattedTime = dateTime.format(\"HH:mm\");\n    _this2.setState({\n      dateTime: dateTime,\n      dateTimeFormatted: formattedTime,\n      lastValidTime: formattedTime\n    }, _this2.props.onChange(dateTime));\n  };\n\n  this.setTimeProgress = function (dateTimeFormatted) {\n    // only update the input value and its predecessor\n    _this2.setState({\n      dateTimeFormatted: dateTimeFormatted,\n      lastValidTime: dateTimeFormatted\n    });\n  };\n\n  this.resetTimeProgress = function () {\n    //reject last input and reset time to last valid\n    _this2.setState({\n      dateTimeFormatted: _this2.state.lastValidTime\n    });\n  };\n\n  this.onChange = function (event) {\n    var inputValue = event.target.value;\n    var oldValue = _this2.state.lastValidTime;\n    var match = inputValue.match(/^(([01]?[0-9]|2[0-3])(:([0-5]([0-9])?)?)?)?$/); // \"\", 1, 12, 12:, 12:4, 12:43\n    if (match != null && inputValue == match[0]) {\n      if (inputValue.match(/^[3-9]/)) {\n        inputValue = \"0\" + inputValue;\n      }\n      if (inputValue.length == 2) {\n        if (inputValue[1] == \":\") {\n          inputValue = \"0\" + inputValue; //0:, 1:, 2:\n        } else if (oldValue.length > 3 || oldValue[2] != \":\") {\n          inputValue = inputValue + \":\";\n        }\n      }\n      _this2.setTimeProgress(inputValue);\n    } else {\n      _this2.resetTimeProgress();\n    }\n  };\n\n  this.onBlur = function (event) {\n    var inputValue = event.target.value;\n    var match = inputValue.match(/^([01][0-9]|2[0-3]):([0-5][0-9])$/);\n    if (match != null && inputValue == match[0] && match.length == 3) {\n      _this2.setTime((0, _moment2.default)().hour(match[1]).minute(match[2]));\n    } else {\n      var matchFallback = inputValue.match(/^(([01]?[0-9]|2[0-3])(:([0-5]([0-9])?)?)?)?$/);\n      //[\"02:3\", \"02:3\", \"02\", \":3\", \"3\", undefined, index: 0, input: \"02:3\"]\n      //0: input 1: input opt. 2: hours 4: min partly 5: undefined (full minutes)\n      var hour = 0,\n          minute = 0;\n      //empty\n      if (matchFallback != null && matchFallback[0] == \"\") {\n        var now = (0, _moment2.default)();\n        _this2.setTime(now);\n      } else if (matchFallback != null && parseInt(matchFallback[2], 10) >= 0) {\n        //hour only\n        hour = matchFallback[2];\n        if (parseInt(matchFallback[4], 10) >= 0) {\n          //first digit of minute\n          //after blur this is considered as minute value\n          minute = matchFallback[4];\n        }\n        _this2.setTime((0, _moment2.default)().hour(hour).minute(minute));\n      }\n    }\n  };\n\n  this.countUp = function () {\n    if (!_this2.props.disabled) {\n      _this2.spinHelper(function (stateTime) {\n        return stateTime.add(1, 'h');\n      }, function (stateTime) {\n        return stateTime.add(1, 'm');\n      });\n    }\n  };\n\n  this.countDown = function () {\n    if (!_this2.props.disabled) {\n      _this2.spinHelper(function (stateTime) {\n        return stateTime.subtract(1, 'h');\n      }, function (stateTime) {\n        return stateTime.subtract(1, 'm');\n      });\n    }\n  };\n\n  this.saveCaret = function (event) {\n    var input = _reactDom2.default.findDOMNode(_this2).firstChild;\n    var caret = getCaretPosition(input);\n    _this2.setState({\n      lastCaretPosition: caret\n    });\n  };\n\n  this.setCaret = function (event) {\n    var input = _reactDom2.default.findDOMNode(_this2).firstChild;\n    setCaretPosition(input, _this2.state.lastCaretPosition || input.value.length);\n  };\n\n  this.render = function () {\n    _this2.timeInput = React.createElement('input', {\n      style: Object.assign({}, styles.timepickerSize, styles.stretchToParent),\n      value: _this2.state.dateTimeFormatted,\n      maxLength: 10,\n      onChange: _this2.onChange,\n      onBlur: _this2.onBlur,\n      onKeyUp: _this2.saveCaret,\n      onClick: _this2.saveCaret,\n      onFocus: _this2.setCaret,\n      type: 'text',\n      disabled: _this2.props.disabled });\n    return React.createElement(\n      'div',\n      {\n        style: Object.assign({}, styles.timepickerSize, styles.container, _this2.props.style) },\n      _this2.timeInput,\n      React.createElement(\n        'span',\n        { onClick: function onClick() {\n            _this2.countUp();\n          }, style: styles.countup },\n        expandLess\n      ),\n      React.createElement(\n        'span',\n        { onClick: function onClick() {\n            _this2.countDown();\n          }, style: styles.countdown },\n        expandMore\n      )\n    );\n  };\n};\n\nmodule.exports = TimePicker;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/common.jsx\":[function(require,module,exports){\n'use strict';\n\nvar IoTFCommon = {};\n\n// Polyfills\nif (!Array.prototype.findIndex) {\n  Object.defineProperty(Array.prototype, \"findIndex\", {\n    value: function value(predicate) {\n      if (this === null) {\n        throw new TypeError('Array.prototype.findIndex called on null or undefined');\n      }\n      if (typeof predicate !== 'function') {\n        throw new TypeError('predicate must be a function');\n      }\n      var list = Object(this);\n      var length = list.length >>> 0;\n      var thisArg = arguments[1];\n      var value;\n\n      for (var i = 0; i < length; i++) {\n        value = list[i];\n        if (predicate.call(thisArg, value, i, list)) {\n          return i;\n        }\n      }\n      return -1;\n    }\n  });\n}\n\nif (!Array.prototype.find) {\n  Object.defineProperty(Array.prototype, \"find\", {\n    value: function value(predicate) {\n      if (this === null) {\n        throw new TypeError('Array.prototype.find called on null or undefined');\n      }\n      if (typeof predicate !== 'function') {\n        throw new TypeError('predicate must be a function');\n      }\n      var list = Object(this);\n      var length = list.length >>> 0;\n      var thisArg = arguments[1];\n      var value;\n\n      for (var i = 0; i < length; i++) {\n        value = list[i];\n        if (predicate.call(thisArg, value, i, list)) {\n          return value;\n        }\n      }\n      return undefined;\n    }\n  });\n}\n\n// Stores\nIoTFCommon.IoTFAuthStore = require('./stores/IoTFAuthStore.js');\nIoTFCommon.IoTFDeviceStore = require('./stores/IoTFDeviceStore.js');\nIoTFCommon.IoTFHistoryTimeseriesStore = require('./stores/IoTFHistoryTimeseriesStore.js');\nIoTFCommon.IoTFHistoryCloudantStore = require('./stores/IoTFHistoryCloudantStore.js');\nIoTFCommon.IoTFAlertStore = require('./stores/IoTFAlertStore.js');\nIoTFCommon.IoTFUsageStore = require('./stores/IoTFUsageStore.js');\nIoTFCommon.IoTFPermStore = require('./stores/IoTFPermStore.js');\nIoTFCommon.IoTFTypeStore = require('./stores/IoTFTypeStore.js');\nIoTFCommon.IoTFRMStore = require('./stores/IoTFRMStore.js');\nIoTFCommon.IoTFBlockchainStore = require('./stores/IoTFBlockchainStore.js');\nIoTFCommon.IoTFUserStore = require('./stores/IoTFUserStore.js');\n\n// Common components\nIoTFCommon.Accordion = require('./components/Accordion.jsx');\nIoTFCommon.AccordionTable = require('./components/AccordionTable.jsx');\nIoTFCommon.BarChart = require('./components/BarChart.jsx');\nIoTFCommon.Button = require('./components/Button.jsx');\nIoTFCommon.CardBarDatapoint = require('./components/CardBarDatapoint.jsx');\nIoTFCommon.CardDatapoint = require('./components/CardDatapoint.jsx');\nIoTFCommon.CardDatapointSlim = require('./components/CardDatapointSlim.jsx');\nIoTFCommon.CardFooter = require('./components/CardFooter.jsx');\nIoTFCommon.CardFooterDatapoint = require('./components/CardFooterDatapoint.jsx');\nIoTFCommon.CardIndicator = require('./components/CardIndicator.jsx');\nIoTFCommon.CardGalleryItem = require('./components/CardGalleryItem.jsx');\nIoTFCommon.CardLineChart = require('./components/CardLineChart.jsx');\nIoTFCommon.CardTable = require('./components/CardTable.jsx');\nIoTFCommon.CheckBox = require('./components/CheckBox.jsx');\nIoTFCommon.ColorSelection = require('./components/ColorSelection.jsx');\nIoTFCommon.ComboBox = require('./components/ComboBox.jsx');\nIoTFCommon.DonutChart = require('./components/DonutChart.jsx');\nIoTFCommon.Dropdown = require('./components/Dropdown.jsx');\nIoTFCommon.GalleryAccordion = require('./components/GalleryAccordion.jsx');\nIoTFCommon.Gauge = require('./components/Gauge.jsx');\nIoTFCommon.Icon = require('./components/Icon.jsx');\nIoTFCommon.IconLink = require('./components/IconLink.jsx');\nIoTFCommon.Image = require('./components/Image.jsx');\nIoTFCommon.InputField = require('./components/InputField.jsx');\nIoTFCommon.Label = require('./components/Label.jsx');\nIoTFCommon.LineChart = require('./components/LineChart.jsx');\nIoTFCommon.LineChartDygraphs = require('./components/LineChartDygraphs.jsx');\nIoTFCommon.List = require('./components/List.jsx');\nIoTFCommon.LoadIndicator = require('./components/LoadIndicator.jsx');\nIoTFCommon.LoadIndicatorIcon = require('./components/LoadIndicatorIcon.jsx');\nIoTFCommon.Option = require('./components/Option.jsx');\nIoTFCommon.Paging = require('./components/Paging.jsx');\nIoTFCommon.Portal = require('./components/Portal.jsx');\nIoTFCommon.SearchField = require('./components/SearchField.jsx');\nIoTFCommon.Section = require('./components/Section.jsx');\nIoTFCommon.SegmentedBar = require('./components/SegmentedBar.jsx');\nIoTFCommon.Select = require('./components/Select.jsx');\nIoTFCommon.Sortable = require('./components/Sortable.jsx');\nIoTFCommon.SwitchBtn = require('./components/SwitchBtn.jsx');\nIoTFCommon.SimpleDialog = require('./components/SimpleDialog.jsx');\nIoTFCommon.Confirmation = require('./components/Confirmation.jsx');\nIoTFCommon.Information = require('./components/Information.jsx');\nIoTFCommon.Decision = require('./components/Decision.jsx');\nIoTFCommon.ActionCell = require('./components/ActionCell.jsx');\nIoTFCommon.CardInfoItem = require('./components/CardInfoItem.jsx');\nIoTFCommon.DeviceAlerts = require('./components/DeviceAlerts.jsx');\nIoTFCommon.MapView = require('./components/MapView.jsx');\nIoTFCommon.MapPin = require('./components/MapPin.jsx');\nIoTFCommon.Tooltip = require('./components/Tooltip.jsx');\nIoTFCommon.MultiSelect = require('./components/MultiSelect/MultiSelect.jsx');\n\nmodule.exports = IoTFCommon;\n\n},{\"./components/Accordion.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Accordion.jsx\",\"./components/AccordionTable.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/AccordionTable.jsx\",\"./components/ActionCell.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/ActionCell.jsx\",\"./components/BarChart.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/BarChart.jsx\",\"./components/Button.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Button.jsx\",\"./components/CardBarDatapoint.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/CardBarDatapoint.jsx\",\"./components/CardDatapoint.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/CardDatapoint.jsx\",\"./components/CardDatapointSlim.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/CardDatapointSlim.jsx\",\"./components/CardFooter.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/CardFooter.jsx\",\"./components/CardFooterDatapoint.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/CardFooterDatapoint.jsx\",\"./components/CardGalleryItem.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/CardGalleryItem.jsx\",\"./components/CardIndicator.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/CardIndicator.jsx\",\"./components/CardInfoItem.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/CardInfoItem.jsx\",\"./components/CardLineChart.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/CardLineChart.jsx\",\"./components/CardTable.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/CardTable.jsx\",\"./components/CheckBox.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/CheckBox.jsx\",\"./components/ColorSelection.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/ColorSelection.jsx\",\"./components/ComboBox.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/ComboBox.jsx\",\"./components/Confirmation.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Confirmation.jsx\",\"./components/Decision.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Decision.jsx\",\"./components/DeviceAlerts.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/DeviceAlerts.jsx\",\"./components/DonutChart.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/DonutChart.jsx\",\"./components/Dropdown.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Dropdown.jsx\",\"./components/GalleryAccordion.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/GalleryAccordion.jsx\",\"./components/Gauge.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Gauge.jsx\",\"./components/Icon.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Icon.jsx\",\"./components/IconLink.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/IconLink.jsx\",\"./components/Image.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Image.jsx\",\"./components/Information.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Information.jsx\",\"./components/InputField.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/InputField.jsx\",\"./components/Label.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Label.jsx\",\"./components/LineChart.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/LineChart.jsx\",\"./components/LineChartDygraphs.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/LineChartDygraphs.jsx\",\"./components/List.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/List.jsx\",\"./components/LoadIndicator.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/LoadIndicator.jsx\",\"./components/LoadIndicatorIcon.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/LoadIndicatorIcon.jsx\",\"./components/MapPin.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/MapPin.jsx\",\"./components/MapView.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/MapView.jsx\",\"./components/MultiSelect/MultiSelect.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/MultiSelect/MultiSelect.jsx\",\"./components/Option.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Option.jsx\",\"./components/Paging.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Paging.jsx\",\"./components/Portal.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Portal.jsx\",\"./components/SearchField.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/SearchField.jsx\",\"./components/Section.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Section.jsx\",\"./components/SegmentedBar.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/SegmentedBar.jsx\",\"./components/Select.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Select.jsx\",\"./components/SimpleDialog.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/SimpleDialog.jsx\",\"./components/Sortable.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Sortable.jsx\",\"./components/SwitchBtn.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/SwitchBtn.jsx\",\"./components/Tooltip.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Tooltip.jsx\",\"./stores/IoTFAlertStore.js\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/stores/IoTFAlertStore.js\",\"./stores/IoTFAuthStore.js\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/stores/IoTFAuthStore.js\",\"./stores/IoTFBlockchainStore.js\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/stores/IoTFBlockchainStore.js\",\"./stores/IoTFDeviceStore.js\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/stores/IoTFDeviceStore.js\",\"./stores/IoTFHistoryCloudantStore.js\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/stores/IoTFHistoryCloudantStore.js\",\"./stores/IoTFHistoryTimeseriesStore.js\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/stores/IoTFHistoryTimeseriesStore.js\",\"./stores/IoTFPermStore.js\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/stores/IoTFPermStore.js\",\"./stores/IoTFRMStore.js\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/stores/IoTFRMStore.js\",\"./stores/IoTFTypeStore.js\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/stores/IoTFTypeStore.js\",\"./stores/IoTFUsageStore.js\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/stores/IoTFUsageStore.js\",\"./stores/IoTFUserStore.js\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/stores/IoTFUserStore.js\"}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Accordion.jsx\":[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\nvar RPT = React.PropTypes;\nvar Icon = require('./Icon.jsx');\n\nvar styles = {\n\n    container: {\n        marginBottom: '15px',\n        boxSizing: 'border-box',\n        clear: 'both',\n        cursor: 'pointer'\n    },\n    canvas: {\n        paddingLeft: '10px',\n        paddingRight: '25px'\n    },\n\n    canvasArrow: {\n        cursor: 'default',\n        marginTop: '15px'\n    },\n\n    title: {\n        height: '24px',\n        padding: '5px 0px',\n        fontSize: '16px',\n        fontWeight: '500',\n        lineHeight: '15px'\n    },\n    icon: {\n        float: 'right'\n    },\n    iconArrow: {\n        float: 'right',\n        color: \"#ededed\"\n    },\n    lineArrow: {\n        clear: \"both\",\n        marginTop: \"10px\",\n        borderBottom: \"2px solid\",\n        borderColor: \"#ededed\"\n    }\n};\n\nvar Accordion = React.createClass({\n    displayName: 'Accordion',\n\n\n    propTypes: {\n        theme: RPT.object.isRequired,\n        style: RPT.object,\n        id: RPT.string,\n        label: RPT.string,\n        onRemove: RPT.func,\n        onExpand: RPT.func,\n        expanded: RPT.bool,\n        noDelete: RPT.bool,\n        showArrow: RPT.bool\n    },\n\n    getDefaultProps: function getDefaultProps() {\n        return {\n            label: '',\n            expanded: false,\n            showArrow: false\n        };\n    },\n\n    componentWillMount: function componentWillMount() {},\n\n    componentDidMount: function componentDidMount(payload) {},\n\n    onRemove: function onRemove() {\n        if (this.props.onRemove) {\n            this.props.onRemove(this.props.id);\n        }\n        return false;\n    },\n\n    onToggle: function onToggle() {\n        if (this.props.onExpand) {\n            this.props.onExpand(!this.props.expanded ? this.props.id : null, this.props.id);\n        }\n    },\n\n    render: function render() {\n        var canvas = '';\n        if (this.props.expanded) {\n            canvas = React.createElement(\n                'div',\n                { style: styles.canvas },\n                this.props.children\n            );\n        }\n\n        var deleteIcon = React.createElement(Icon, { style: styles.icon, theme: this.props.theme, size: 20, color: this.props.theme.major, icon: 'delete', onClick: this.onRemove });\n        if (this.props.noDelete) {\n            deleteIcon = \"\";\n        }\n\n        var arrowIcon = '';\n        var titleStyle = styles.title;\n        if (this.props.showArrow && this.props.expanded) {\n            titleStyle = Object.assign({}, titleStyle, { paddingBottom: \"35px !important\", color: \"#5c91cc !important\", fontWeight: \"700 !important\", fontSize: \"14px !important\" });\n            arrowIcon = React.createElement(\n                'span',\n                null,\n                React.createElement(Icon, { style: styles.iconArrow, theme: this.props.theme, size: 20, icon: 'expand-more', color: \"#5c91cc\" }),\n                React.createElement('div', { style: styles.lineArrow })\n            );\n            canvas = React.createElement(\n                'div',\n                { style: styles.canvasArrow },\n                ' ',\n                this.props.children,\n                ' '\n            );\n        }\n        if (this.props.showArrow && !this.props.expanded) {\n            titleStyle = Object.assign({}, titleStyle, { paddingBottom: \"35px !important\", color: \"#5c91cc !important\", fontWeight: \"700 !important\", fontSize: \"14px !important\" });\n            arrowIcon = React.createElement(\n                'span',\n                null,\n                React.createElement(Icon, { style: styles.iconArrow, theme: this.props.theme, size: 20, icon: 'chevron-right', color: \"#c0c0c0\" }),\n                React.createElement('div', { style: styles.lineArrow })\n            );\n        }\n\n        return React.createElement(\n            'div',\n            { key: this.props.id, style: Object.assign({}, styles.container, this.props.style) },\n            React.createElement(\n                'div',\n                { style: titleStyle, onClick: this.onToggle },\n                this.props.label,\n                deleteIcon,\n                arrowIcon\n            ),\n            canvas\n        );\n    }\n});\n\nmodule.exports = Accordion;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./Icon.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Icon.jsx\"}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/AccordionTable.jsx\":[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/************ Dependencies *************/\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\nvar RPT = React.PropTypes;\nvar Icon = require('./Icon.jsx');\n\n/************ Styles *************/\nvar styles = {\n  container: {\n    marginBottom: '15px',\n    boxSizing: 'border-box',\n    clear: 'both',\n    cursor: 'pointer'\n  },\n  freeSpace: {\n    marginRight: \"20px\"\n  },\n  hoveredRow: {\n    backgroundColor: \"#ededed\"\n  },\n  icon: {\n    float: 'right'\n  },\n  tableRow: {\n    backgroundColor: \"white\",\n    borderBottom: \"1px solid #ededed\",\n    display: \"flex\",\n    justifyContent: \"space-around\"\n  },\n  tableBody: {\n    cursor: \"default\"\n  },\n  tableCell: {\n    flexBasis: \"0\",\n    flexGrow: \"1\",\n    padding: \"5px\",\n    textAlign: \"center\",\n    wordBreak: \"break-word\"\n  },\n  title: {\n    borderBottom: \"2px solid #ededed\",\n    color: \"#5c91cc\",\n    display: \"flex\",\n    fontSize: \"14px\",\n    fontWeight: \"700\",\n    height: \"24px\",\n    justifyContent: \"space-around\",\n    lineHeight: \"15px\",\n    padding: \"5px 0px 25px\"\n  }\n};\n\n/*----------- AccordionTableCell ------------*/\n\nvar AccordionTableCell = React.createClass({\n  displayName: 'AccordionTableCell',\n\n  /************ Models *************/\n  propTypes: {\n    cell: RPT.object.isRequired,\n    cellIndex: RPT.number,\n    style: RPT.object,\n    theme: RPT.object.isRequired\n  },\n\n  /************ View *************/\n  render: function render() {\n    var style = Object.assign({}, styles, this.props.style ? this.props.style : {});\n    // use custom style for cell if there is one\n    var cellStyle = _typeof(this.props.cell.style) == \"object\" ? Object.assign({}, style.tableCell, this.props.cell.style) : style.tableCell;\n    return (\n      // render cell\n      React.createElement(\n        'div',\n        { style: cellStyle },\n        this.props.cell.entry\n      )\n    );\n  }\n});\n\n/*----------- AccordionTableRow ------------*/\n\nvar AccordionTableRow = React.createClass({\n  displayName: 'AccordionTableRow',\n\n  /************ Models *************/\n  propTypes: {\n    onMouseOutRow: RPT.func,\n    onMouseOverRow: RPT.func,\n    row: RPT.object.isRequired,\n    rowIndex: RPT.number.isRequired,\n    rowHover: RPT.bool,\n    style: RPT.object,\n    tableId: RPT.string,\n    theme: RPT.object.isRequired\n  },\n\n  /************ Controller *************/\n  getDefaultProps: function getDefaultProps() {\n    return {\n      rowHover: false\n    };\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      isMouseOver: false\n    };\n  },\n\n  onMouseOutRow: function onMouseOutRow(rowIndex) {\n    if (this.props.rowHover) {\n      this.setState({ isMouseOver: false });\n    }\n    if (this.props.onMouseOutRow) {\n      this.props.onMouseOutRow(rowIndex, this.props.tableId);\n    }\n  },\n\n  onMouseOverRow: function onMouseOverRow(rowIndex) {\n    if (this.props.rowHover) {\n      this.setState({ isMouseOver: true });\n    }\n    if (this.props.onMouseOverRow) {\n      this.props.onMouseOverRow(rowIndex, this.props.tableId);\n    }\n  },\n\n  /************ View *************/render: function render() {\n    var self = this;\n    var style = Object.assign({}, styles, this.props.style ? this.props.style : {});\n\n    // use custom style for row if there is one\n    var rowStyle = _typeof(this.props.row.style) == \"object\" ? Object.assign({}, style.tableRow, this.props.row.style) : style.tableRow;\n\n    // use hoverStyle if enabled and mouse is over this row\n    if (this.state.isMouseOver) {\n      rowStyle = Object.assign({}, rowStyle, style.hoveredRow);\n    }\n\n    var mouseOutRowEvent = function mouseOutRowEvent() {\n      self.onMouseOutRow(self.props.rowIndex);\n    };\n\n    var mouseOverRowEvent = function mouseOverRowEvent() {\n      self.onMouseOverRow(self.props.rowIndex);\n    };\n\n    // render row\n    var cells = this.props.row.cells.map(function (cell, cellIndex) {\n      // 'key' is used to prevent react warning\n      return React.createElement(AccordionTableCell, { cell: cell, cellIndex: cellIndex, key: cellIndex, style: style, theme: self.props.theme });\n    });\n    return React.createElement(\n      'div',\n      { onMouseLeave: mouseOutRowEvent, onMouseEnter: mouseOverRowEvent, style: rowStyle },\n      cells,\n      React.createElement('span', { style: style.freeSpace })\n    );\n  }\n});\n\n/*----------- AccordionTable ------------*/\n\nvar AccordionTable = React.createClass({\n  displayName: 'AccordionTable',\n\n  /************ Models *************/\n  propTypes: {\n    data: RPT.object,\n    expanded: RPT.bool,\n    id: RPT.string,\n    onMouseOutRow: RPT.func,\n    onMouseOverRow: RPT.func,\n    onToggle: RPT.func,\n    rowHover: RPT.bool,\n    style: RPT.object,\n    theme: RPT.object.isRequired\n  },\n\n  /************ Controller *************/\n  getDefaultProps: function getDefaultProps() {\n    return {\n      data: {\n        head: [],\n        rows: []\n      },\n      expanded: false,\n      rowHover: false\n    };\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      expanded: this.props.expanded\n    };\n  },\n\n  componentDidMount: function componentDidMount(payload) {},\n\n  componentWillMount: function componentWillMount() {},\n\n  componentWillReceiveProps: function componentWillReceiveProps(newProps) {\n    if (newProps.expanded !== this.props.expanded) {\n      //this.setState({expanded: newProps.expanded});\n    }\n  },\n\n  onToggle: function onToggle() {\n    this.setState({ expanded: !this.state.expanded });\n    if (this.props.onToggle) {\n      this.props.onToggle(!this.state.expanded ? this.props.id : null);\n    }\n  },\n\n  /************ View *************/\n  render: function render() {\n\n    var props = this.props;\n    var style = Object.assign({}, styles, this.props.style ? this.props.style : {});\n    var tableBody = '';\n    var iconName = \"chevron-right\";\n\n    /*var renderCell = function(cell, cellIndex) {\n      // use custom style for cell if there is one\n      var cellStyle = typeof cell.style == \"object\" ? Object.assign({}, style.tableCell, cell.style) : style.tableCell;\n      return (    \n        // render cell\n        <div key={cellIndex} style={cellStyle}>{/* 'key' is used to prevent react warning */ /*}\n                                                                                             {cell.entry}\n                                                                                             </div>\n                                                                                             );\n                                                                                             };\n                                                                                             var renderRow = function(row, rowIndex) {\n                                                                                             // use custom style for row if there is one\n                                                                                             var rowStyle = typeof row.style == \"object\" ? Object.assign({}, style.tableRow, row.style) : style.tableRow;\n                                                                                             // use hoverStyle if mouse is over this row\n                                                                                             if (props.rowHover && state.hoveredRow === rowIndex) {\n                                                                                             rowStyle = Object.assign({}, rowStyle, style.hoveredRow);\n                                                                                             }\n                                                                                             // render row\n                                                                                             var cells = row.cells.map(renderCell);\n                                                                                             return (\n                                                                                             <div key={rowIndex} onMouseOver={mouseOverRow(rowIndex)} style={rowStyle}>{/* 'key' is used to prevent react warning */ /*}\n                                                                                                                                                                                                                     {cells}\n                                                                                                                                                                                                                     {/* freeSpace matching icon width to keep the head cells aligned with body columns */ /*}\n                                                                                                                                                                                                                                                                                                           <span style={style.freeSpace}/>\n                                                                                                                                                                                                                                                                                                           </div>\n                                                                                                                                                                                                                                                                                                           );\n                                                                                                                                                                                                                                                                                                           };*/\n\n    var tableHead = this.props.data.head.map(function (cell, cellIndex) {\n      // 'key' is used to prevent react warning\n      return React.createElement(AccordionTableCell, { cell: cell, cellIndex: cellIndex, key: cellIndex, style: style, theme: props.theme });\n    });\n\n    if (this.state.expanded) {\n      tableBody = this.props.data.rows.map(function (row, rowIndex) {\n        // 'key' is used to prevent react warning\n        return React.createElement(AccordionTableRow, { key: rowIndex, onMouseOutRow: props.onMouseOutRow, onMouseOverRow: props.onMouseOverRow,\n          row: row, rowIndex: rowIndex, rowHover: props.rowHover, style: style, tableId: props.id, theme: props.theme });\n      });\n      iconName = \"expand-more\";\n    }\n\n    var arrowIcon = React.createElement(Icon, { style: styles.icon, theme: this.props.theme, size: 20, icon: iconName, color: \"#5c91cc\" });\n\n    // View output\n    return React.createElement(\n      'div',\n      { style: Object.assign({}, styles.container, this.props.style) },\n      React.createElement(\n        'div',\n        { style: styles.title, onClick: this.onToggle },\n        tableHead,\n        arrowIcon\n      ),\n      React.createElement(\n        'div',\n        { style: style.tableBody },\n        tableBody\n      )\n    );\n  }\n});\n\nmodule.exports = AccordionTable;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./Icon.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Icon.jsx\"}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/ActionCell.jsx\":[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\nvar RPT = React.PropTypes;\nvar Icon = require('./Icon.jsx');\n\nvar styles = {\n  container: {\n    height: '100%'\n  }\n};\n\nvar ActionCell = React.createClass({\n  displayName: 'ActionCell',\n\n  propTypes: {\n    theme: RPT.object.isRequired,\n    style: RPT.object\n  },\n\n  onClick: function onClick(action) {\n    action(this.props.id, this.props.type);\n  },\n\n  render: function render() {\n    var self = this;\n    return React.createElement(\n      'div',\n      { style: styles.container },\n      this.props.actions.map(function (action) {\n        var onClick = function onClick() {\n          self.onClick(action.action);\n        };\n        return React.createElement(Icon, { key: action.icon, icon: action.icon, onClick: onClick, theme: self.props.theme, style: { fill: self.props.theme.major } });\n      })\n    );\n  }\n});\n\nmodule.exports = ActionCell;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./Icon.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Icon.jsx\"}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/BarChart.jsx\":[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\nvar ReactDOM = (typeof window !== \"undefined\" ? window['ReactDOM'] : typeof global !== \"undefined\" ? global['ReactDOM'] : null);\nvar c3 = (typeof window !== \"undefined\" ? window['c3'] : typeof global !== \"undefined\" ? global['c3'] : null);\nvar RPT = React.PropTypes;\nvar Icon = require('./Icon.jsx');\n\nvar styles = {\n  container: {\n    width: \"100%\",\n    height: \"100%\"\n  }\n};\n\nvar BarChart = React.createClass({\n  displayName: 'BarChart',\n\n  propTypes: {\n    style: RPT.object,\n    theme: RPT.object.isRequired,\n    data: RPT.array,\n    names: RPT.object,\n    type: RPT.string,\n    title: RPT.string,\n    horizontal: RPT.bool,\n    unit: RPT.string,\n    precision: RPT.number,\n    small: RPT.bool,\n    width: RPT.number,\n    height: RPT.number\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      data: [],\n      names: {},\n      horizontal: false,\n      unit: \"\",\n      precision: 0\n    };\n  },\n\n  componentDidMount: function componentDidMount() {\n    this.createGraph();\n  },\n\n  createGraph: function createGraph() {\n    var self = this;\n    this.destroyGraph();\n\n    var container = ReactDOM.findDOMNode(this);\n\n    var dom = document.createElement(\"div\");\n    container.appendChild(dom);\n\n    this.width = this.props.width ? this.props.width : container.offsetWidth;\n    this.height = this.props.height ? this.props.height : container.offsetHeight;\n\n    var colors = this.props.theme.palette;\n\n    if (this.width > 0 && this.height > 0) {\n\n      dom.style.width = this.width + \"px\";\n      dom.style.height = this.height + \"px\";\n\n      var names = ['x'];\n      var data = ['value'];\n      for (var i = 0; i < this.props.data.length; i++) {\n        var item = this.props.data[i];\n        names.push(this.props.names[item[0]]);\n        data.push(item[1]);\n      }\n\n      var config = {\n        size: {\n          width: this.width,\n          height: this.height\n        },\n        data: {\n          type: \"bar\",\n          x: 'x',\n          columns: [names, data],\n          color: function color(inColor, data) {\n            if (data.index !== undefined) {\n              return colors[data.index % colors.length];\n            }\n            return inColor;\n          },\n          labels: {\n            format: function format(v, id, i, j) {\n              if (self.props.precision) {\n                v = v.toFixed(self.props.precision);\n              }\n              return v + \" \" + (self.props.unit ? self.props.unit : \"\");\n            }\n          }\n        },\n        transition: {\n          duration: 200\n        },\n        axis: {\n          rotated: this.props.horizontal,\n          x: {\n            type: 'category'\n          },\n          y: {\n            show: !this.props.small\n          }\n        },\n        tooltip: {\n          grouped: false\n        },\n        legend: {\n          show: false\n        },\n        padding: {\n          left: 0,\n          bottom: 0,\n          right: 0,\n          top: 0\n        },\n        bar: {\n          width: {\n            ratio: 0.7,\n            zerobased: false\n          }\n        }\n      };\n\n      if (this.props.horizontal) {\n        config.padding = {\n          left: 100,\n          bottom: 0,\n          right: 0,\n          top: 0\n        };\n      } else {\n        config.padding = {\n          left: 0,\n          bottom: 10,\n          right: 0,\n          top: 0\n        };\n      }\n\n      this.graph = c3.generate(config);\n\n      dom.appendChild(this.graph.element);\n    }\n  },\n\n  destroyGraph: function destroyGraph() {\n    var dom = ReactDOM.findDOMNode(this);\n    while (dom.firstChild) {\n      dom.removeChild(dom.firstChild);\n    }\n    this.graph = null;\n  },\n\n  updateGraph: function updateGraph() {\n    var self = this;\n    if (!this.graph) {\n      this.createGraph();\n    }\n    if (this.graph) {\n      var names = ['x'];\n      var data = ['value'];\n      for (var i = 0; i < this.props.data.length; i++) {\n        var item = this.props.data[i];\n        names.push(this.props.names[item[0]]);\n        data.push(item[1]);\n      }\n\n      var container = ReactDOM.findDOMNode(this);\n      var width = this.props.width ? this.props.width : container.offsetWidth;\n      var height = this.props.height ? this.props.height : container.offsetHeight;\n      if (this.width != width || this.height != height) {\n        this.width = width;\n        this.height = height;\n        this.graph.resize({ height: this.height, width: this.width });\n      }\n\n      self.graph.load({\n        columns: [names, data]\n      });\n    }\n  },\n\n  componentWillUnmount: function componentWillUnmount() {\n    this.destroyGraph();\n  },\n\n  checkIfPropsChanged: function checkIfPropsChanged(a, b) {\n    if (JSON.stringify(a.theme) != JSON.stringify(b.theme) || a.type != b.type || a.horizontal != b.horizontal || a.unit != b.unit || a.precision != b.precision || a.width != b.width || a.height != b.height) {\n      this.createGraph();\n    }\n  },\n\n  componentDidUpdate: function componentDidUpdate(prevProps, prevState) {\n    this.updateGraph();\n    this.checkIfPropsChanged(prevProps, this.props);\n  },\n\n  render: function render() {\n    if (!this.id) {\n      this.id = \"X\" + Math.round(Math.random() * 1000000);\n    }\n    var style = Object.assign({}, styles.container, this.props.style ? this.props.style : {});\n    return React.createElement('div', { className: 'barChart', id: this.id, style: style });\n  }\n});\n\nmodule.exports = BarChart;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./Icon.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Icon.jsx\"}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Button.jsx\":[function(require,module,exports){\n(function (global){\n\"use strict\";\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\nvar RPT = React.PropTypes;\n\nvar styles = {\n  componentButtonText: {\n    textAlign: \"center\",\n    display: \"inline-block\",\n    padding: \"14px 35px\",\n    marginTop: \"20px\",\n    marginBottom: \"20px\",\n    marginRight: \"20px\",\n    fontSize: \"15px\",\n    borderStyle: \"solid\",\n    borderWidth: \"2px\",\n    transition: 'all 0.5s ease',\n    WebkitTransition: 'all .5s ease-out',\n    MozTransition: 'all .5s ease-out',\n    Otransition: 'all .5s ease-out'\n  }\n};\n\nvar ButtonText = React.createClass({\n  displayName: \"ButtonText\",\n\n  propTypes: {\n    style: RPT.object,\n    theme: RPT.object,\n    text: RPT.string,\n    cursor: RPT.string,\n    width: RPT.number,\n    disabled: RPT.bool,\n    onClick: RPT.func,\n    isDelete: RPT.bool,\n    isPrimary: RPT.bool,\n    href: RPT.string,\n    download: RPT.string,\n    target: RPT.string,\n\n    textColor: RPT.string,\n    textHoverActiveColor: RPT.string,\n    textPressColor: RPT.string,\n\n    bgColor: RPT.string,\n    bgHoverColor: RPT.string,\n    bgPressColor: RPT.string,\n\n    borderColor: RPT.string,\n    borderHoverColor: RPT.string,\n    borderPressColor: RPT.string\n  },\n\n  getInitialState: function getInitialState() {\n    return { hover: false };\n  },\n\n  mouseOver: function mouseOver() {\n    this.setState({ hover: true });\n  },\n\n  mouseOut: function mouseOut() {\n    this.setState({ hover: false });\n  },\n\n  mouseDown: function mouseDown() {\n    this.setState({ press: true });\n  },\n\n  mouseUp: function mouseUp() {\n    this.setState({ press: false });\n  },\n\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    if (nextProps.disabled !== undefined && nextProps.disabled) {\n      this.setState({ disabled: true });\n    } else {\n      this.setState({ disabled: false });\n    }\n  },\n\n  componentWillMount: function componentWillMount() {\n    if (this.props.disabled) {\n      this.setState({ disabled: true });\n    } else {\n      this.setState({ disabled: false });\n    }\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      textColor: \"#5596E6\",\n      textHoverColor: \"#4178BE\",\n      bgColor: \"\",\n      borderColor: \"#5596E6\",\n      borderHoverColor: \"#4178BE\",\n\n      textPrimaryColor: \"#fff\",\n      textPrimaryHoverColor: \"#fff\",\n      bgPrimaryColor: \"#5596E6\",\n      bgPrimaryHoverColor: \"#4178BE\",\n      borderPrimaryColor: \"#5596E6\",\n      borderPrimaryHoverColor: \"#4178BE\",\n\n      textDeleteColor: \"#fff\",\n      textDeleteHoverColor: \"#fff\",\n      bgDeleteColor: \"#FC6574\",\n      bgDeleteHoverColor: \"#FC363F\",\n      borderDeleteColor: \"#FC6574\",\n      borderDeleteHoverColor: \"#FC363F\",\n\n      text: \"BUTTON\",\n      minWidth: \"140px\",\n      minHeight: \"50px\",\n      btnCursor: \"pointer\",\n      onClick: function onClick() {},\n      isPrimary: false,\n      isDelete: false\n    };\n  },\n\n  onClick: function onClick() {\n    if (this.props.onClick && !this.props.disabled) {\n      this.props.onClick();\n    }\n  },\n\n  render: function render() {\n    var stateStyle = {};\n\n    stateStyle.width = this.props.width;\n\n    if (this.props.isPrimary) {\n      if (this.state.hover || this.state.press) {\n        stateStyle.cursor = this.props.btnCursor;\n        stateStyle.backgroundColor = this.props.bgPrimaryHoverColor;\n        stateStyle.color = this.props.textPrimaryHoverColor;\n        stateStyle.borderColor = this.props.borderPrimaryHoverColor;\n      } else {\n        stateStyle.cursor = this.props.btnCursor;\n        stateStyle.backgroundColor = this.props.bgPrimaryColor;\n        stateStyle.color = this.props.textPrimaryColor;\n        stateStyle.borderColor = this.props.borderPrimaryColor;\n      }\n    } else if (this.props.isDelete) {\n      if (this.state.hover || this.state.press) {\n        stateStyle.cursor = this.props.btnCursor;\n        stateStyle.backgroundColor = this.props.bgDeleteHoverColor;\n        stateStyle.color = this.props.textDeleteHoverColor;\n        stateStyle.borderColor = this.props.borderDeleteHoverColor;\n      } else {\n        stateStyle.cursor = this.props.btnCursor;\n        stateStyle.backgroundColor = this.props.bgDeleteColor;\n        stateStyle.color = this.props.textDeleteColor;\n        stateStyle.borderColor = this.props.borderDeleteColor;\n      }\n    } else {\n      if (this.state.hover || this.state.press) {\n        stateStyle.cursor = this.props.btnCursor;\n        stateStyle.backgroundColor = this.props.bgHoverColor;\n        stateStyle.color = this.props.textHoverColor;\n        stateStyle.borderColor = this.props.borderHoverColor;\n      } else {\n        stateStyle.cursor = this.props.btnCursor;\n        stateStyle.backgroundColor = this.props.bgColor;\n        stateStyle.color = this.props.textColor;\n        stateStyle.borderColor = this.props.borderColor;\n        stateStyle.width = this.props.width;\n      }\n    }\n\n    if (this.state.disabled && this.props.disabled) {\n      stateStyle.cursor = 'no-drop';\n      stateStyle.backgroundColor = '';\n      stateStyle.color = '#AEB8B8';\n      stateStyle.borderColor = '#f4f4f4';\n    }\n\n    var styleBtn = Object.assign({}, styles.componentButtonText, stateStyle, this.props.style);\n    var linkStyle = { textDecoration: 'none !important' };\n\n    return React.createElement(\n      \"a\",\n      { style: linkStyle, download: this.props.download, target: this.props.target, href: this.props.href },\n      \" \",\n      React.createElement(\n        \"div\",\n        { style: styleBtn, onClick: this.onClick, onMouseOver: this.mouseOver, onMouseOut: this.mouseOut, onMouseDown: this.mouseDown, onMouseUp: this.mouseUp },\n        this.props.text,\n        \" \",\n        this.props.disabled,\n        \" \"\n      ),\n      \" \"\n    );\n  }\n});\n\nmodule.exports = ButtonText;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/CardBarDatapoint.jsx\":[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\nvar RPT = React.PropTypes;\nvar Icon = require('./Icon.jsx');\nvar SegmentedBar = require('./SegmentedBar.jsx');\n\nvar styles = {\n\tcontainer: {\n\t\tposition: \"relative\",\n\t\tclear: \"both\",\n\t\tpadding: \"13px 30px 14px 30px\"\n\t},\n\tvalue: {\n\t\tfontSize: \"16px\",\n\t\tfontWeight: \"300\",\n\t\tcolor: \"#325C80\",\n\t\tlineHeight: \"20px\",\n\t\tfloat: \"right\"\n\t},\n\tlabel: {\n\t\tfontSize: \"14px\",\n\t\tcolor: \"#6D7777\",\n\t\tdisplay: \"block\",\n\t\tfontWeight: \"300\",\n\t\tletterSpacing: \"0.3px\",\n\t\tlineHeight: \"20px\",\n\t\tfloat: \"left\"\n\t},\n\taction: {\n\t\tposition: \"absolute\",\n\t\ttop: \"20px\",\n\t\tright: \"20px\"\n\t},\n\tsummary: {\n\t\tpaddingTop: \"10px\",\n\t\tpaddingBottom: \"10px\"\n\t},\n\tbarContainer: {\n\t\tclear: \"both\",\n\t\tpaddingTop: \"4px\"\n\t},\n\tleft: {}\n};\n\nvar CardBarDatapoint = React.createClass({\n\tdisplayName: 'CardBarDatapoint',\n\n\tpropTypes: {\n\t\ttheme: RPT.object.isRequired,\n\t\tstyle: RPT.object,\n\t\tlabel: RPT.string,\n\t\tminor: RPT.bool,\n\t\tonAction: RPT.func,\n\t\ticon: RPT.string,\n\t\tsegments: RPT.array,\n\t\ttotal: RPT.number,\n\t\tsummary: RPT.string,\n\t\tonSelect: RPT.func\n\t},\n\n\trender: function render() {\n\n\t\tstyles.label.color = this.props.theme.major;\n\t\tstyles.value.color = this.props.theme.major;\n\n\t\tvar style = Object.assign({}, styles.container, { borderTop: \"1px solid \" + this.props.theme.minor }, this.props.style ? this.props.style : {});\n\t\tvar styleValue = Object.assign({}, styles.value);\n\t\tvar styleSummary = Object.assign({}, styles.summary, { color: this.props.theme.minor });\n\t\tvar left = Object.assign({}, styles.left, this.props.onAction ? { paddingRight: \"30px\" } : {});\n\n\t\tvar action = null;\n\t\tif (this.props.onAction) {\n\t\t\tvar icon = \"RiskManagement\";\n\t\t\tif (this.props.icon) {\n\t\t\t\ticon = this.props.icon;\n\t\t\t}\n\t\t\taction = React.createElement(Icon, { theme: this.props.theme, color: \"#000000\", icon: icon, size: 24, style: styles.action, onClick: this.props.onAction });\n\t\t}\n\n\t\tvar bar = null;\n\t\tif (this.props.segments) {\n\t\t\tbar = React.createElement(SegmentedBar, { theme: this.props.theme, segments: this.props.segments, total: this.props.total, onSelect: this.props.onSelect });\n\t\t}\n\n\t\tvar summary = null;\n\t\tif (this.props.summary) {\n\t\t\tsummary = React.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ style: styleSummary },\n\t\t\t\tthis.props.summary\n\t\t\t);\n\t\t}\n\n\t\treturn React.createElement(\n\t\t\t'div',\n\t\t\t{ style: style },\n\t\t\tReact.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ style: left },\n\t\t\t\tReact.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ style: styles.label },\n\t\t\t\t\tthis.props.label\n\t\t\t\t),\n\t\t\t\tReact.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ style: styleValue },\n\t\t\t\t\tthis.props.children\n\t\t\t\t),\n\t\t\t\tReact.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ style: styles.barContainer },\n\t\t\t\t\tbar,\n\t\t\t\t\tsummary\n\t\t\t\t)\n\t\t\t),\n\t\t\taction\n\t\t);\n\t}\n});\n\nmodule.exports = CardBarDatapoint;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./Icon.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Icon.jsx\",\"./SegmentedBar.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/SegmentedBar.jsx\"}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/CardDatapoint.jsx\":[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\nvar RPT = React.PropTypes;\nvar Icon = require('./Icon.jsx');\n\nvar styles = {\n\tcontainer: {\n\t\tposition: \"relative\"\n\t},\n\tvalue: {\n\t\tfontSize: \"30px\",\n\t\tfontWeight: \"300\",\n\t\tlineHeight: \"30px\",\n\t\tcolor: \"#325C80\"\n\t},\n\tunit: {\n\t\tfontSize: \"14px\",\n\t\tcolor: \"#6D7777\",\n\t\tdisplay: \"block\",\n\t\tmarginBottom: \"10px\",\n\t\tfontWeight: \"300\",\n\t\tletterSpacing: \"0.3px\"\n\t},\n\tminor: {\n\t\tfontSize: \"22px\"\n\t},\n\taction: {\n\t\tposition: \"absolute\",\n\t\ttop: \"10px\",\n\t\tright: \"0px\"\n\t}\n};\n\nvar CardDatapoint = React.createClass({\n\tdisplayName: 'CardDatapoint',\n\n\tpropTypes: {\n\t\ttheme: RPT.object.isRequired,\n\t\tstyle: RPT.object,\n\t\tunit: RPT.string,\n\t\tminor: RPT.bool,\n\t\tonAction: RPT.func,\n\t\ticon: RPT.string\n\t},\n\n\trender: function render() {\n\n\t\tstyles.unit.color = this.props.theme.minor;\n\t\tstyles.value.color = this.props.theme.major;\n\n\t\tvar style = Object.assign({}, styles.container, this.props.style ? this.props.style : {});\n\t\tvar styleValue = Object.assign({}, styles.value, this.props.minor ? styles.minor : {});\n\n\t\tvar action = null;\n\t\tif (this.props.onAction) {\n\t\t\tvar icon = \"RiskManagement\";\n\t\t\tif (this.props.icon) {\n\t\t\t\ticon = this.props.icon;\n\t\t\t}\n\t\t\taction = React.createElement(Icon, { theme: this.props.theme, icon: icon, size: 24, style: styles.action, onClick: this.props.onAction });\n\t\t}\n\n\t\treturn React.createElement(\n\t\t\t'div',\n\t\t\t{ style: style },\n\t\t\tReact.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ style: styleValue },\n\t\t\t\tthis.props.children\n\t\t\t),\n\t\t\tReact.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ style: styles.unit },\n\t\t\t\tthis.props.unit\n\t\t\t),\n\t\t\taction\n\t\t);\n\t}\n});\n\nmodule.exports = CardDatapoint;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./Icon.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Icon.jsx\"}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/CardDatapointSlim.jsx\":[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\nvar RPT = React.PropTypes;\nvar Icon = require('./Icon.jsx');\n\nvar styles = {\n\tcontainer: {\n\t\tposition: \"relative\",\n\t\tclear: \"both\",\n\t\tpadding: \"13px 30px 29px 30px\"\n\t},\n\tvalue: {\n\t\tfontSize: \"16px\",\n\t\tfontWeight: \"300\",\n\t\tcolor: \"#325C80\",\n\t\tlineHeight: \"20px\",\n\t\tfloat: \"right\"\n\t},\n\tlabel: {\n\t\tfontSize: \"14px\",\n\t\tcolor: \"#6D7777\",\n\t\tdisplay: \"block\",\n\t\tfontWeight: \"300\",\n\t\tletterSpacing: \"0.3px\",\n\t\tlineHeight: \"20px\",\n\t\tfloat: \"left\"\n\t},\n\taction: {\n\t\tposition: \"relative\",\n\t\ttop: \"-4px\",\n\t\tright: \"0px\",\n\t\tfloat: \"right\",\n\t\tmarginLeft: \"10px\"\n\t}\n};\n\nvar CardDatapointSlim = React.createClass({\n\tdisplayName: 'CardDatapointSlim',\n\n\tpropTypes: {\n\t\ttheme: RPT.object.isRequired,\n\t\tstyle: RPT.object,\n\t\tlabel: RPT.string,\n\t\tonAction: RPT.func,\n\t\ticon: RPT.string\n\t},\n\n\trender: function render() {\n\n\t\tstyles.label.color = this.props.theme.major;\n\t\tstyles.value.color = this.props.theme.major;\n\n\t\tvar style = Object.assign({}, styles.container, { borderTop: \"1px solid \" + this.props.theme.minor }, this.props.style ? this.props.style : {});\n\t\tvar styleValue = Object.assign({}, styles.value);\n\n\t\tvar action = null;\n\t\tif (this.props.onAction) {\n\t\t\tvar icon = \"RiskManagement\";\n\t\t\tif (this.props.icon) {\n\t\t\t\ticon = this.props.icon;\n\t\t\t}\n\t\t\taction = React.createElement(Icon, { theme: this.props.theme, icon: icon, size: 24, style: styles.action, onClick: this.props.onAction });\n\t\t}\n\n\t\treturn React.createElement(\n\t\t\t'div',\n\t\t\t{ style: style },\n\t\t\tReact.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ style: styles.label },\n\t\t\t\tthis.props.label\n\t\t\t),\n\t\t\taction,\n\t\t\tReact.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ style: styleValue },\n\t\t\t\tthis.props.children\n\t\t\t)\n\t\t);\n\t}\n});\n\nmodule.exports = CardDatapointSlim;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./Icon.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Icon.jsx\"}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/CardFooter.jsx\":[function(require,module,exports){\n(function (global){\n\"use strict\";\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\nvar RPT = React.PropTypes;\n\nvar styles = {\n\tcontainer: {\n\t\twidth: \"100%\",\n\t\theight: \"40px\",\n\t\tborder: \"1px solid\",\n\t\tborderColor: \"transparent\",\n\t\tposition: \"absolute\",\n\t\tbottom: \"0px\",\n\t\tleft: \"0px\"\n\t}\n};\n\nvar CardFooter = React.createClass({\n\tdisplayName: \"CardFooter\",\n\n\tpropTypes: {\n\t\ttheme: RPT.object.isRequired,\n\t\tstyle: RPT.object\n\t},\n\n\trender: function render() {\n\t\tstyles.container.borderTopColor = this.props.theme.border;\n\t\tstyles.container.backgroundColor = this.props.theme.content;\n\n\t\tvar style = Object.assign({}, styles.container);\n\t\treturn React.createElement(\n\t\t\t\"div\",\n\t\t\t{ style: style },\n\t\t\tthis.props.children\n\t\t);\n\t}\n});\n\nmodule.exports = CardFooter;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/CardFooterDatapoint.jsx\":[function(require,module,exports){\n(function (global){\n\"use strict\";\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\nvar RPT = React.PropTypes;\n\nvar styles = {\n\tcontainer: {\n\t\tfloat: \"left\",\n\t\twidth: \"50%\"\n\t},\n\tvalue: {\n\t\tfontSize: \"13px\",\n\t\tfontWeight: \"bold\",\n\t\ttextAlign: \"left\",\n\t\tpaddingLeft: \"30px\"\n\t},\n\ttitle: {\n\t\tfontSize: \"13px\",\n\t\tfontWeight: \"normal\",\n\t\tletterSpacing: \"0.5px\",\n\t\ttextTransform: \"uppercase\",\n\t\tpaddingLeft: \"30px\",\n\t\topacity: 0.5,\n\t\tmarginTop: \"5px\"\n\t}\n};\n\nvar CardFooterDatapoint = React.createClass({\n\tdisplayName: \"CardFooterDatapoint\",\n\n\tpropTypes: {\n\t\ttheme: RPT.object.isRequired,\n\t\tstyle: RPT.object,\n\t\tunit: RPT.string,\n\t\ttitle: RPT.string\n\t},\n\n\trender: function render() {\n\n\t\tstyles.title.color = this.props.theme.minor;\n\t\tstyles.value.color = this.props.theme.minor;\n\n\t\tvar style = Object.assign({}, styles.container, this.props.style ? this.props.style : {});\n\n\t\treturn React.createElement(\n\t\t\t\"div\",\n\t\t\t{ style: style },\n\t\t\tReact.createElement(\n\t\t\t\t\"div\",\n\t\t\t\t{ style: styles.title },\n\t\t\t\tthis.props.title\n\t\t\t),\n\t\t\tReact.createElement(\n\t\t\t\t\"div\",\n\t\t\t\t{ style: styles.value },\n\t\t\t\tthis.props.children,\n\t\t\t\t\" \",\n\t\t\t\tthis.props.unit\n\t\t\t)\n\t\t);\n\t}\n});\n\nmodule.exports = CardFooterDatapoint;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/CardGalleryItem.jsx\":[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\nvar Icon = require('./Icon.jsx');\n\nvar RPT = React.PropTypes;\n\nvar styles = {\n  cardContainer: {\n    width: '145px',\n    height: '87px',\n    float: 'left',\n    marginLeft: '20px',\n    marginBottom: '15px',\n    backgroundColor: '#FFF',\n    padding: '5px',\n    position: 'relative',\n    overflow: 'hidden',\n    boxShadow: 'rgba(228, 228, 228, 0.498039) 0px 1px 1px 0px',\n    color: '#1D394D'\n  },\n  selectedCard: {\n    borderBottom: '4px solid'\n  },\n  clickingLayer: {\n    width: '100%',\n    display: 'block',\n    height: '100%',\n    position: 'absolute',\n    zIndex: '10'\n  },\n  cardDescriptionToggle: {\n    marginRight: '5px',\n    position: 'absolute',\n    right: '0px',\n    width: '25px',\n    height: '25px',\n    textAlign: 'center',\n    display: 'block',\n    top: '3px',\n    zIndex: '11'\n  },\n  cardTitle: {\n    position: 'absolute',\n    bottom: '0px',\n    marginBottom: '5px'\n  },\n  cardThumb: {\n    alignSelf: 'center'\n  },\n  thumbContainer: {\n    height: '100%',\n    opacity: '1',\n    position: 'relative',\n    top: '21px',\n    margin: '0 auto',\n    width: '30px',\n    MozTransition: 'all 0.5s ease',\n    WebkitTransition: 'all 0.5s ease',\n    OTransition: 'all 0.5s ease',\n    transition: 'all 0.5s ease'\n  },\n  cardDescription: {\n    overflow: 'hidden',\n    fontSize: '11px',\n    paddingTop: '20px',\n    position: 'absolute',\n    top: '48px',\n    MozTransition: 'all 0.5s ease',\n    WebkitTransition: 'all 0.5s ease',\n    OTransition: 'all 0.5s ease',\n    transition: 'all 0.5s ease',\n    width: \"135px\"\n  },\n  cardDescriptionScroller: {\n    MozTransition: 'none',\n    WebkitTransition: 'none',\n    OTransition: 'none',\n    transition: 'none'\n  }\n};\n\nvar CardGalleryItem = React.createClass({\n  displayName: 'CardGalleryItem',\n\n  propTypes: {\n    style: RPT.object,\n    theme: RPT.object.isRequired,\n    item: RPT.object.isRequired,\n    nls: RPT.object,\n    onClick: RPT.func,\n    selected: RPT.bool\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      item: {}\n    };\n  },\n\n  componentWillReceiveProps: function componentWillReceiveProps(props) {\n    this.setState({\n      selected: props.selected\n    });\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      hoverInfo: false,\n      selected: this.props.selected\n    };\n  },\n\n  onMouseOver: function onMouseOver() {\n    var self = this;\n    if (this.scrollerPreTimer) {\n      clearTimeout(this.scrollerPreTimer);\n    }\n    this.scrollerPreTimer = setTimeout(function () {\n      self.scrollerPreTimer = null;\n      self.setState({\n        scrolling: true\n      });\n      self.startScrolling();\n    }, 1000);\n    this.setState({\n      hoverInfo: true\n    });\n  },\n\n  onMouseOut: function onMouseOut(e) {\n    if (this.scrollerPreTimer) {\n      clearTimeout(this.scrollerPreTimer);\n    }\n    this.stopScrolling();\n    this.setState({\n      hoverInfo: false,\n      scrolling: false\n    });\n  },\n\n  startScrolling: function startScrolling(pos) {\n    var self = this;\n    if (!pos) {\n      pos = 0;\n    }\n    if (this.scrollTimer) {\n      clearTimeout(this.scrollTimer);\n    }\n    if (this.descriptionHeight > 87) {\n      pos--;\n      if (this.descriptionNode) {\n        this.descriptionNode.style.top = pos + \"px\";\n      }\n      if (pos > 87 - this.descriptionHeight) {\n        this.scrollTimer = setTimeout(function () {\n          self.startScrolling(pos);\n        }, 50);\n      }\n    }\n  },\n\n  stopScrolling: function stopScrolling() {\n    if (this.descriptionNode) {\n      this.descriptionNode.style.top = \"0px\";\n    }\n    if (this.scrollTimer) {\n      clearTimeout(this.scrollTimer);\n      this.scrollTimer = null;\n    }\n  },\n\n  onTouch: function onTouch(e) {\n    //this.closeInfoLater(); // auto close after 10s\n    this.setState({\n      hoverInfo: !this.state.hoverInfo\n    });\n  },\n\n  onClick: function onClick(e) {\n    if (e.target.className !== 'infoTrigger') {\n      if (this.props.onClick) {\n        this.props.onClick(this.props.item);\n      }\n      this.setState({\n        selected: true\n      });\n    }\n  },\n\n  closeInfoLater: function closeInfoLater() {\n    if (this.closeTimer) {\n      clearTimeout(this.closeTimer);\n      this.closeTimer = null;\n    }\n    var self = this;\n    this.closeTimer = setTimeout(function () {\n      self.onMouseOut();\n      self.closeTimer = null;\n    }, 10000);\n  },\n\n  componentDidMount: function componentDidMount() {\n\n    if (this.props.selected) {\n      var newPos = $(this.refs.galleryItem).position().top - 160 > 0 ? $(this.refs.galleryItem).position().top - 160 : 0;\n      $($(this.refs.galleryItem).scrollParent()).scrollTop(newPos);\n    }\n  },\n\n  componentDidUpdate: function componentDidUpdate(prevProps, PrevState) {\n    if (this.state.hoverInfo) {\n      //$(this.refs.descriptionText).ellipsis();\n    } else {}\n  },\n\n  componentWillUnmount: function componentWillUnmount() {\n    if (this.scrollerPreTimer) {\n      clearTimeout(this.scrollerPreTimer);\n    }\n    this.stopScrolling();\n  },\n\n  render: function render() {\n    var self = this;\n    var description = '';\n    var cardTitle = this.props.nls.resolve(\"Dashboard.Cards.Gallery.\" + this.props.item.displayName);\n    // Fallback if there is not translation (e.g. Custom cards)\n    if (cardTitle.indexOf(\"Dashboard.Cards.Gallery.\") > -1) {\n      cardTitle = this.props.item.displayName;\n    }\n    var containerStyle = styles.cardContainer;\n    var thumbContainerStyle = '';\n    var infoColor = this.props.theme.light;\n\n    if (this.state.selected) {\n      containerStyle = Object.assign({}, containerStyle, styles.selectedCard, { borderColor: this.props.theme.accent });\n    } else {\n      containerStyle = styles.cardContainer;\n    }\n\n    var descriptionText = '';\n    if (!description) {\n      descriptionText = this.props.nls.resolve(\"Dashboard.Cards.Gallery.\" + this.props.item.description);\n      // Fallback if there is not translation (e.g. Custom cards)\n      if (descriptionText.indexOf(\"Dashboard.Cards.Gallery.\") > -1) {\n        descriptionText = this.props.item.description;\n      }\n    }\n\n    // If no key is specified (for external cards) use the string itself\n    if (cardTitle === \"Dashboard.Cards.Gallery.\" + this.props.item.displayName) {\n      cardTitle = this.props.item.displayName;\n    }\n\n    if (this.state.hoverInfo) {\n      description = React.createElement(\n        'div',\n        { ref: function ref(node) {\n            if (node) {\n              self.descriptionNode = node;self.descriptionHeight = node.offsetHeight;\n            }\n          }, style: Object.assign({}, styles.cardDescription, { top: '0' }, this.state.scrolling ? styles.cardDescriptionScroller : {}) },\n        React.createElement(\n          'span',\n          { style: { fontSize: '12px', width: \"135px\" }, title: cardTitle },\n          cardTitle\n        ),\n        React.createElement('br', null),\n        descriptionText\n      );\n      thumbContainerStyle = Object.assign({}, styles.thumbContainer, { opacity: '0.01', height: '0%' });\n      infoColor = \"#3C3C3B\";\n    } else {\n      description = React.createElement(\n        'div',\n        { style: Object.assign({}, styles.cardDescription, { top: '48px' }) },\n        React.createElement(\n          'span',\n          { style: { fontSize: '12px', whiteSpace: \"nowrap\", overflow: \"hidden\", \"textOverflow\": \"ellipsis\", width: \"135px\", display: \"inline-block\" }, title: cardTitle },\n          cardTitle\n        ),\n        React.createElement('br', null),\n        descriptionText\n      );\n      thumbContainerStyle = styles.thumbContainer;\n    }\n\n    return React.createElement(\n      'div',\n      { id: this.props.item.name, style: containerStyle, onClick: this.onClick, ref: 'galleryItem' },\n      React.createElement(\n        'div',\n        { style: this.state.scrolling ? Object.assign({}, styles.cardDescriptionToggle, { opacity: 0.1 }) : styles.cardDescriptionToggle },\n        React.createElement(\n          'a',\n          { className: 'infoTrigger', tabIndex: '1', href: 'javascript:void(0)' },\n          React.createElement('div', { className: 'infoTrigger', style: styles.clickingLayer, onClick: this.onTouch, onMouseEnter: this.onMouseOver, onBlur: this.onMouseOut, onMouseLeave: this.onMouseOut })\n        ),\n        React.createElement(Icon, { theme: this.props.theme, color: infoColor, size: 20, icon: 'info' })\n      ),\n      React.createElement(\n        'div',\n        { style: thumbContainerStyle },\n        React.createElement(\n          'div',\n          { style: styles.cardThumb },\n          React.createElement(Icon, { theme: this.props.theme, color: '#3C3C3B', icon: this.props.item.thumbnail, size: 30 })\n        )\n      ),\n      React.createElement(\n        'div',\n        { ref: 'descriptionText' },\n        description\n      )\n    );\n  }\n});\n\nmodule.exports = CardGalleryItem;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./Icon.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Icon.jsx\"}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/CardIndicator.jsx\":[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\nvar RPT = React.PropTypes;\nvar Icon = require('./Icon.jsx');\n\nvar styles = {\n\tcontainer: {\n\t\tfontSize: \"12px\",\n\t\twidth: \"100%\",\n\t\tboxShadow: \"0px 1px 1px rgba(192, 192, 192, 0.5)\",\n\t\theight: \"40px\",\n\t\tlineHeight: \"40px\",\n\t\tpaddingLeft: \"10px\"\n\t}\n};\n\nvar CardIndicator = React.createClass({\n\tdisplayName: 'CardIndicator',\n\n\tpropTypes: {\n\t\ttheme: RPT.object.isRequired,\n\t\tstyle: RPT.object,\n\t\tcondition: RPT.string\n\t},\n\n\trender: function render() {\n\t\tstyles.container.color = this.props.theme.least;\n\t\tvar style = Object.assign({}, styles.container, this.props.style ? this.props.style : {});\n\t\treturn React.createElement(\n\t\t\t'div',\n\t\t\t{ style: style },\n\t\t\tReact.createElement(Icon, { icon: this.props.condition,\n\t\t\t\tcolor: this.props.theme[this.props.condition],\n\t\t\t\tsize: 24,\n\t\t\t\tstyle: { verticalAlign: \"middle\", marginRight: \"10px\" },\n\t\t\t\ttheme: this.props.theme\n\t\t\t}),\n\t\t\tthis.props.children\n\t\t);\n\t}\n});\n\nmodule.exports = CardIndicator;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./Icon.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Icon.jsx\"}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/CardInfoItem.jsx\":[function(require,module,exports){\n(function (global){\n\"use strict\";\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\nvar RPT = React.PropTypes;\n\nvar styles = {\n  property: {\n    fontSize: \"14px\",\n    fontWeight: \"600\",\n    lineHeight: \"14px\",\n    color: \"#325C80\"\n  },\n  value: {\n    fontSize: \"12px\",\n    color: \"#6D7777\",\n    display: \"block\",\n    marginBottom: \"15px\",\n    marginLeft: \"5px\",\n    marginTop: \"5px\",\n    fontWeight: \"500\",\n    letterSpacing: \"0.3px\"\n  },\n  minor: {\n    fontSize: \"22px\"\n  }\n};\n\nvar CardInfoItem = React.createClass({\n  displayName: \"CardInfoItem\",\n\n  propTypes: {\n    theme: RPT.object.isRequired,\n    style: RPT.object,\n    unit: RPT.string,\n    minor: RPT.bool\n  },\n\n  render: function render() {\n\n    styles.value.color = this.props.theme.minor;\n    styles.property.color = this.props.theme.major;\n\n    var style = Object.assign({}, this.props.style ? this.props.style : {});\n    var styleValue = Object.assign({}, styles.property, this.props.minor ? styles.minor : {});\n\n    return React.createElement(\n      \"div\",\n      { style: style },\n      React.createElement(\n        \"div\",\n        { style: styleValue },\n        this.props.property\n      ),\n      React.createElement(\n        \"div\",\n        { style: styles.value },\n        this.props.children\n      )\n    );\n  }\n});\n\nmodule.exports = CardInfoItem;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/CardLineChart.jsx\":[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\nvar ReactDOM = (typeof window !== \"undefined\" ? window['ReactDOM'] : typeof global !== \"undefined\" ? global['ReactDOM'] : null);\nvar c3 = (typeof window !== \"undefined\" ? window['c3'] : typeof global !== \"undefined\" ? global['c3'] : null);\nvar RPT = React.PropTypes;\nvar Icon = require('./Icon.jsx');\nvar LoadIndicator = require('./LoadIndicator.jsx');\n\nvar styles = {\n  container: {\n    position: \"relative\",\n    width: \"100%\",\n    height: \"270px\"\n  }\n};\n\nvar CardLineChart = React.createClass({\n  displayName: 'CardLineChart',\n\n  propTypes: {\n    style: RPT.object,\n    theme: RPT.object.isRequired,\n    data: RPT.array,\n    showRange: RPT.bool,\n    unit: RPT.string,\n    width: RPT.number,\n    height: RPT.number\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      data: []\n    };\n  },\n\n  componentDidMount: function componentDidMount() {\n    this.createGraph();\n  },\n\n  createGraph: function createGraph() {\n    var self = this;\n    this.destroyGraph();\n\n    var container = ReactDOM.findDOMNode(this);\n\n    var dom = document.createElement(\"div\");\n    container.appendChild(dom);\n\n    this.width = this.props.width ? this.props.width : container.offsetWidth;\n    this.height = this.props.height ? this.props.height : container.offsetHeight;\n\n    var colors = this.props.theme.palette;\n\n    if (this.width > 0 && this.height > 0) {\n\n      dom.style.width = this.width + \"px\";\n      dom.style.height = this.height + \"px\";\n\n      if (this.props.data && this.props.data.length > 0) {\n\n        for (var i = 0; i < this.props.data.length; i++) {\n          this.props.data[i][this.props.nls.resolve(\"Dashboard.Cards.Customization.TotalHeading\")] = this.props.data[i].total;\n        }\n\n        var today = new Date();\n        var weekAgo = new Date(today.getTime() - 1000 * 60 * 60 * 24 * 7);\n        var zoomStart = today.toISOString().split(\"T\")[0];\n        var zoomEnd = weekAgo.toISOString().split(\"T\")[0];\n\n        var colorMap = {};\n        colorMap[this.props.nls.resolve(\"Dashboard.Cards.Customization.TotalHeading\")] = colors[0];\n\n        var config = {\n          size: {\n            width: this.width,\n            height: this.height\n          },\n          data: {\n            type: \"area\",\n            json: this.props.data,\n            x: 'date',\n            keys: {\n              x: 'date',\n              value: [this.props.nls.resolve(\"Dashboard.Cards.Customization.TotalHeading\")]\n            },\n            colors: colorMap\n          },\n          axis: {\n            x: {\n              type: \"timeseries\",\n              extent: [zoomEnd, zoomStart]\n            },\n            y: {\n              label: this.props.unit\n            }\n          },\n          grid: {\n            x: {\n              show: true\n            },\n            y: {\n              show: true\n            }\n          },\n          point: {\n            r: 4,\n            focus: {\n              expand: {\n                enabled: true,\n                r: 6\n              }\n            }\n          },\n          legend: {\n            hide: true\n          },\n          padding: {\n            left: 50,\n            bottom: 0,\n            right: 0,\n            top: 0\n          }\n\n        };\n\n        if (this.props.showRange) {\n          config.subchart = {\n            show: true,\n            size: {\n              height: 30\n            }\n          };\n        }\n\n        this.graph = c3.generate(config);\n\n        dom.appendChild(this.graph.element);\n      }\n    }\n  },\n\n  destroyGraph: function destroyGraph() {\n    var dom = ReactDOM.findDOMNode(this);\n    while (dom.firstChild) {\n      dom.removeChild(dom.firstChild);\n    }\n    this.graph = null;\n  },\n\n  componentWillUnmount: function componentWillUnmount() {\n    this.destroyGraph();\n  },\n\n  componentDidUpdate: function componentDidUpdate() {\n    this.createGraph();\n  },\n\n  render: function render() {\n    var style = Object.assign({}, styles.container, this.props.style ? this.props.style : {});\n\n    style.borderLeftColor = this.props.theme.border;\n\n    if (this.props.data && this.props.data.length > 0) {\n      return React.createElement('div', { className: 'lineChart', style: style });\n    } else {\n      return React.createElement(LoadIndicator, { theme: this.props.theme, nls: this.props.nls });\n    }\n  }\n});\n\nmodule.exports = CardLineChart;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./Icon.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Icon.jsx\",\"./LoadIndicator.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/LoadIndicator.jsx\"}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/CardTable.jsx\":[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\nvar c3 = (typeof window !== \"undefined\" ? window['c3'] : typeof global !== \"undefined\" ? global['c3'] : null);\nvar RPT = React.PropTypes;\nvar Icon = require('./Icon.jsx');\n\nvar styles = {\n  container: {\n    position: \"relative\",\n    overflow: \"hidden\",\n    fontSize: \"14px\"\n  },\n  table: {\n    width: \"100%\"\n  },\n  headerRow: {\n    borderBottom: \"3px solid grey\"\n  },\n  headerCell: {\n    textAlign: \"left\",\n    padding: \"11px 7px 11px 0px\"\n  },\n  row: {\n    fontWeight: \"300\"\n  },\n  cell: {\n    padding: \"11px 7px 11px 0px\"\n  }\n};\n\nvar CardTable = React.createClass({\n  displayName: 'CardTable',\n\n  propTypes: {\n    style: RPT.object,\n    theme: RPT.object.isRequired,\n    data: RPT.array,\n    header: RPT.array,\n    width: RPT.number,\n    height: RPT.number\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      header: [],\n      data: []\n    };\n  },\n\n  render: function render() {\n    var style = Object.assign({}, styles.container, this.props.style ? this.props.style : {}, { width: this.props.width + 'px' });\n\n    styles.headerRow.borderColor = this.props.theme.light;\n    styles.cell.color = this.props.theme.minor;\n\n    var data = this.props.data;\n    var header = this.props.header;\n\n    var self = this;\n\n    var count = 0;\n\n    return React.createElement(\n      'div',\n      { style: style },\n      React.createElement(\n        'table',\n        { style: styles.table },\n        React.createElement(\n          'thead',\n          null,\n          React.createElement(\n            'tr',\n            { style: styles.headerRow },\n            header.map(function (item) {\n              return React.createElement(\n                'th',\n                { key: count++, style: styles.headerCell },\n                item\n              );\n            })\n          )\n        ),\n        React.createElement(\n          'tbody',\n          null,\n          data.map(function (row) {\n            return React.createElement(\n              'tr',\n              { key: count++, style: styles.row },\n              row.map(function (cell) {\n                return React.createElement(\n                  'td',\n                  { key: count++, style: styles.cell },\n                  cell\n                );\n              })\n            );\n          })\n        )\n      )\n    );\n  }\n});\n\nmodule.exports = CardTable;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./Icon.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Icon.jsx\"}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/CheckBox.jsx\":[function(require,module,exports){\n(function (global){\n\"use strict\";\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\n\nvar RPT = React.PropTypes;\n\nvar styles = {\n  circle: {\n    width: \"16px\",\n    height: \"16px\",\n    background: \"#5596E6\",\n    MozBorderRadius: \"50px\",\n    WebkitBorderRadius: \"50px\",\n    borderRadius: \"50px\",\n    float: \"left\",\n    cursor: \"pointer\"\n  },\n  disabled: {\n    background: '#AEB8B8',\n    cursor: 'not-allowed'\n  },\n  disabledPointer: {\n    cursor: 'not-allowed'\n  },\n  checkmark: {\n    display: \"inline-block\",\n    width: \"22px\",\n    height: \"22px\",\n    MsTransform: \"rotate(45deg)\",\n    WebkitTransform: \"rotate(45deg)\",\n    transform: \"rotate(45deg)\"\n  },\n  checkmarkBack: {\n    position: \"absolute\",\n    width: \"2px\",\n    height: \"9px\",\n    backgroundColor: \"#ffffff\",\n    left: \"7px\",\n    top: \"6px\"\n  },\n  checkmarkSeat: {\n    position: \"absolute\",\n    width: \"4px\",\n    height: \"2px\",\n    backgroundColor: \"#ffffff\",\n    left: \"4px\",\n    top: \"13px\"\n  },\n  inactiveCB: {\n    width: \"16px\",\n    height: \"16px\",\n    background: \"transparent\",\n    border: \"2px solid\",\n    borderColor: \"#AEB8B8\",\n    MozBorderRadius: \"50px\",\n    WebkitBorderRadius: \"50px\",\n    borderRadius: \"50px\",\n    float: \"left\",\n    cursor: \"pointer\",\n    boxSizing: 'border-box'\n  },\n  hoverCB: {\n    borderColor: \"#5596E6\"\n  }\n};\n\nvar CheckBox = React.createClass({\n  displayName: \"CheckBox\",\n\n  propTypes: {\n    checked: RPT.bool,\n    id: RPT.string,\n    name: RPT.string,\n    onChange: RPT.func,\n    style: RPT.object,\n    theme: RPT.object.isRequired,\n    value: RPT.string,\n    disabled: RPT.bool\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      checked: this.props.checked,\n      disabled: false\n    };\n  },\n\n  componentWillReceiveProps: function componentWillReceiveProps(props) {\n    if (props.checked != this.state.checked) {\n      this.setState({\n        checked: props.checked\n      });\n    }\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      checked: false,\n      id: Math.random().toString(),\n      //labelRight: true,\n      name: \"checkBoxName\"\n    };\n  },\n\n  handleChange: function handleChange(event) {\n    if (this.props.onChange && !this.props.disabled) {\n      this.props.onChange(!this.props.checked, this.props.id);\n    }\n  },\n\n  hoverCB: function hoverCB(event) {\n    this.setState({\n      hovered: true\n    });\n  },\n\n  noHoverCB: function noHoverCB(event) {\n    this.setState({\n      hovered: false\n    });\n  },\n\n  render: function render() {\n    var outerStyle = Object.assign({}, this.props.style);\n    var inactiveCB = {};\n\n    if (this.state.hovered && !this.props.disabled) {\n      inactiveCB = Object.assign({}, styles.inactiveCB, styles.hoverCB);\n    } else {\n      inactiveCB = !this.props.disabled ? styles.inactiveCB : Object.assign({}, styles.inactiveCB, styles.disabledPointer);\n    }\n\n    var circleStyle = !this.props.disabled ? styles.circle : Object.assign({}, styles.circle, styles.disabled);\n\n    var checkBoxChecked = React.createElement(\n      \"div\",\n      { onClick: this.handleChange, style: circleStyle },\n      React.createElement(\n        \"span\",\n        { style: styles.checkmark },\n        React.createElement(\"span\", { style: styles.checkmarkBack }),\n        React.createElement(\"span\", { style: styles.checkmarkSeat })\n      )\n    );\n    var checkBoxInactive = React.createElement(\"div\", { onClick: this.handleChange, style: inactiveCB });\n    var output = this.props.checked ? checkBoxChecked : checkBoxInactive;\n    return React.createElement(\n      \"div\",\n      { onMouseOver: this.hoverCB, onMouseOut: this.noHoverCB, style: outerStyle },\n      output\n    );\n  }\n});\n\nmodule.exports = CheckBox;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Checkbox.jsx\":[function(require,module,exports){\n(function (global){\n\"use strict\";\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\n\nvar RPT = React.PropTypes;\n\nvar styles = {\n  circle: {\n    width: \"16px\",\n    height: \"16px\",\n    background: \"#5596E6\",\n    MozBorderRadius: \"50px\",\n    WebkitBorderRadius: \"50px\",\n    borderRadius: \"50px\",\n    float: \"left\",\n    cursor: \"pointer\"\n  },\n  disabled: {\n    background: '#AEB8B8',\n    cursor: 'not-allowed'\n  },\n  disabledPointer: {\n    cursor: 'not-allowed'\n  },\n  checkmark: {\n    display: \"inline-block\",\n    width: \"22px\",\n    height: \"22px\",\n    MsTransform: \"rotate(45deg)\",\n    WebkitTransform: \"rotate(45deg)\",\n    transform: \"rotate(45deg)\"\n  },\n  checkmarkBack: {\n    position: \"absolute\",\n    width: \"2px\",\n    height: \"9px\",\n    backgroundColor: \"#ffffff\",\n    left: \"7px\",\n    top: \"6px\"\n  },\n  checkmarkSeat: {\n    position: \"absolute\",\n    width: \"4px\",\n    height: \"2px\",\n    backgroundColor: \"#ffffff\",\n    left: \"4px\",\n    top: \"13px\"\n  },\n  inactiveCB: {\n    width: \"16px\",\n    height: \"16px\",\n    background: \"transparent\",\n    border: \"2px solid\",\n    borderColor: \"#AEB8B8\",\n    MozBorderRadius: \"50px\",\n    WebkitBorderRadius: \"50px\",\n    borderRadius: \"50px\",\n    float: \"left\",\n    cursor: \"pointer\",\n    boxSizing: 'border-box'\n  },\n  hoverCB: {\n    borderColor: \"#5596E6\"\n  }\n};\n\nvar CheckBox = React.createClass({\n  displayName: \"CheckBox\",\n\n  propTypes: {\n    checked: RPT.bool,\n    id: RPT.string,\n    name: RPT.string,\n    onChange: RPT.func,\n    style: RPT.object,\n    theme: RPT.object.isRequired,\n    value: RPT.string,\n    disabled: RPT.bool\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      checked: this.props.checked,\n      disabled: false\n    };\n  },\n\n  componentWillReceiveProps: function componentWillReceiveProps(props) {\n    if (props.checked != this.state.checked) {\n      this.setState({\n        checked: props.checked\n      });\n    }\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      checked: false,\n      id: Math.random().toString(),\n      //labelRight: true,\n      name: \"checkBoxName\"\n    };\n  },\n\n  handleChange: function handleChange(event) {\n    if (this.props.onChange && !this.props.disabled) {\n      this.props.onChange(!this.props.checked, this.props.id);\n    }\n  },\n\n  hoverCB: function hoverCB(event) {\n    this.setState({\n      hovered: true\n    });\n  },\n\n  noHoverCB: function noHoverCB(event) {\n    this.setState({\n      hovered: false\n    });\n  },\n\n  render: function render() {\n    var outerStyle = Object.assign({}, this.props.style);\n    var inactiveCB = {};\n\n    if (this.state.hovered && !this.props.disabled) {\n      inactiveCB = Object.assign({}, styles.inactiveCB, styles.hoverCB);\n    } else {\n      inactiveCB = !this.props.disabled ? styles.inactiveCB : Object.assign({}, styles.inactiveCB, styles.disabledPointer);\n    }\n\n    var circleStyle = !this.props.disabled ? styles.circle : Object.assign({}, styles.circle, styles.disabled);\n\n    var checkBoxChecked = React.createElement(\n      \"div\",\n      { onClick: this.handleChange, style: circleStyle },\n      React.createElement(\n        \"span\",\n        { style: styles.checkmark },\n        React.createElement(\"span\", { style: styles.checkmarkBack }),\n        React.createElement(\"span\", { style: styles.checkmarkSeat })\n      )\n    );\n    var checkBoxInactive = React.createElement(\"div\", { onClick: this.handleChange, style: inactiveCB });\n    var output = this.props.checked ? checkBoxChecked : checkBoxInactive;\n    return React.createElement(\n      \"div\",\n      { onMouseOver: this.hoverCB, onMouseOut: this.noHoverCB, style: outerStyle },\n      output\n    );\n  }\n});\n\nmodule.exports = CheckBox;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/ColorSelection.jsx\":[function(require,module,exports){\n(function (global){\n\"use strict\";\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\nvar RPT = React.PropTypes;\n\nvar styles = {\n  container: {\n    marginBottom: \"15px\",\n    boxSizing: \"border-box\"\n  },\n  colorTile: {\n    margin: \"5px\",\n    width: \"24px\",\n    height: \"24px\",\n    display: \"inline-block\",\n    verticalAlign: \"middle\",\n    fontSize: \"20px\",\n    textAlign: \"center\"\n  },\n  tiles: {\n    display: \"block\",\n    width: \"100%\",\n    float: \"left\"\n  },\n  after: {\n    clear: \"both\"\n  }\n};\n\nvar ColorSelection = React.createClass({\n  displayName: \"ColorSelection\",\n\n  propTypes: {\n    onChange: RPT.func,\n    initialSelection: RPT.number,\n    style: RPT.object,\n    theme: RPT.object.isRequired\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      initialSelection: 0\n    };\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      selection: this.props.initialSelection\n    };\n  },\n\n  // componentWillReceiveProps: function(nextProps) {\n  // \tif (nextProps.initialSelection !== undefined) {\n  // \t\tthis.setState({\n  // \t\t\tselection: nextProps.initialSelection\n  // \t\t});\n  // \t}\n\n  // },\n\n  onSelect: function onSelect(id) {\n    this.setState({\n      selection: id\n    });\n    if (this.props.onChange) {\n      this.props.onChange(id);\n    }\n  },\n\n  render: function render() {\n    var self = this;\n    var schemes = this.props.theme.schemes;\n    var tiles = schemes.map(function (scheme) {\n      var style = Object.assign({}, styles.colorTile, {\n        backgroundColor: scheme.normal,\n        //borderTop: \"4px solid \" + scheme.dark,\n        color: scheme.text\n      });\n      if (self.state.selection == scheme.name) {\n        style.outline = \"5px solid \" + scheme.dark;\n      }\n\n      return React.createElement(\"div\", { style: style, key: scheme.name, onClick: function onClick() {\n          self.onSelect(scheme.name);\n        } });\n    });\n\n    return React.createElement(\n      \"div\",\n      { style: styles.container },\n      React.createElement(\n        \"div\",\n        { name: \"tiles\", style: styles.tiles },\n        tiles.map(function (result) {\n          return result;\n        })\n      ),\n      React.createElement(\"div\", { style: styles.after })\n    );\n  }\n});\n\nmodule.exports = ColorSelection;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/ComboBox.jsx\":[function(require,module,exports){\n(function (global){\n'use strict';\n\n/*global require, module*/\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\nvar ReactDOM = (typeof window !== \"undefined\" ? window['ReactDOM'] : typeof global !== \"undefined\" ? global['ReactDOM'] : null);\nvar RPT = React.PropTypes;\nvar InputField = require('./InputField.jsx');\nvar Option = require('./Option.jsx');\n\nvar styles = {\n  container: {\n    display: \"block\",\n    width: \"100%\"\n  },\n  inputField: {\n    width: \"100%\",\n    boxSizing: \"border-box\"\n  },\n  optionsContainer: {\n    position: \"relative\",\n    WebkitTransition: \"all .2s ease-in-out\",\n    transition: \"all .2s ease-in-out\",\n    overflowX: \"auto\",\n    maxHeight: \"220px\",\n    overflow: \"auto\",\n    zIndex: \"1000\",\n    borderBottom: '2px solid #E7E7E7'\n  },\n  emptyOption: {\n    padding: \"6px\"\n  }\n};\n\n// Documentation link:\n// https://github.ibm.com/IoT/dashboard-component/wiki/Combobox-component\n//\n\nvar ComboBox = React.createClass({\n  displayName: 'ComboBox',\n\n\n  propTypes: {\n    theme: RPT.object.isRequired,\n    style: RPT.object,\n    onChange: RPT.func,\n    initialValue: RPT.string,\n    placeholderNoItems: RPT.string,\n    placeholder: RPT.string,\n    disabled: RPT.bool\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      placeholderNoItems: \"\",\n      placeholder: '',\n      disabled: false\n    };\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      input: this.props.initialValue || \"\",\n      hasInput: this.props.initialValue !== \"\",\n      filteredChildren: [],\n      isOpen: false\n    };\n  },\n\n  componentWillMount: function componentWillMount() {\n    this.chidrenAttachSelect();\n  },\n\n  componentWillReceiveProps: function componentWillReceiveProps(props) {\n    if (props.value) {\n      this.setState({ input: props.value });\n    }\n  },\n\n  componentDidMount: function componentDidMount() {\n    this.chidrenAttachSelect();\n    this.filterChildren(this.state.input);\n    this.updateOptionsSize();\n  },\n\n  componentDidReceiveProps: function componentDidReceiveProps() {\n    this.chidrenAttachSelect();\n    this.filterChildren(this.state.input);\n  },\n\n  updateOptionsSize: function updateOptionsSize() {\n    if (this.refs.comboBox) {\n      var newWidth = ReactDOM.findDOMNode(this.refs.comboBox).offsetWidth;\n      styles.optionsContainer.width = newWidth;\n    }\n  },\n\n  componentWillUpdate: function componentWillUpdate() {\n    this.updateOptionsSize();\n  },\n\n  chidrenAttachSelect: function chidrenAttachSelect() {\n    var self = this;\n    var childrenWithSelect = [];\n    React.Children.forEach(this.props.children, function (child) {\n      var childWithSelect = React.cloneElement(child, { onSelect: self.onSelect });\n      childrenWithSelect.push(childWithSelect);\n    });\n    this.setState({\n      children: childrenWithSelect\n    });\n  },\n\n  filterChildren: function filterChildren(comp) {\n    var filteredChildren = [];\n\n    React.Children.forEach(this.state.children, function (child) {\n      if (child) {\n        if (child.props && child.props.children && (child.props.children.indexOf(comp) !== -1 || child.props.value.indexOf(comp) !== -1)) {\n          filteredChildren.push(child);\n        }\n      }\n    });\n    this.setState({ filteredChildren: filteredChildren });\n    return filteredChildren;\n  },\n\n  handleInput: function handleInput(value) {\n    if (value === \"\") {\n      this.setState({ hasInput: false, input: value, isOpen: true });\n    } else {\n      this.setState({ hasInput: true, input: value, isOpen: true });\n    }\n    this.chidrenAttachSelect();\n    this.filterChildren(value);\n    this.onChange(value);\n  },\n\n  clear: function clear() {\n    this.handleInput('');\n    this.refs.inputField.setState({ value: '' });\n  },\n\n  onSelect: function onSelect(value, label, event) {\n    this.setState({ input: label, hasInput: true, isOpen: false });\n    this.onChange(label);\n    if (this.props.onSelect) {\n      this.props.onSelect(value);\n    }\n  },\n\n  onSubmit: function onSubmit() {\n    if (this.props.onSubmit) {\n      this.props.onSubmit(this.state.input);\n    }\n  },\n\n  onFocus: function onFocus() {\n    this.setState({ isOpen: true });\n    this.chidrenAttachSelect();\n    this.filterChildren(this.state.input);\n    if (this.props.onFocus) {\n      this.props.onFocus(this.refs.inputField);\n    }\n  },\n\n  onBlur: function onBlur() {\n    this.setState({ isOpen: false, hasFocus: false });\n    this.onChange(this.state.input);\n    if (this.props.onBlur) {\n      this.props.onBlur();\n    }\n  },\n\n  onChange: function onChange(value) {\n    if (this.props.onChange) {\n      this.props.onChange(value);\n    }\n  },\n\n  toggleOptions: function toggleOptions() {\n    if (this.state.hasFocus) {\n      this.setState({ isOpen: !this.state.isOpen });\n    } else {\n      this.setState({ hasFocus: true });\n    }\n  },\n\n  renderInputField: function renderInputField() {\n    return React.createElement(InputField, { style: styles.inputField, ref: 'inputField', containerStyle: { width: \"100%\" }, theme: this.props.theme, initialValue: this.props.initialValue, value: this.state.input, onChange: this.handleInput, onFocus: this.onFocus, onBlur: this.onBlur, onSubmit: this.onSubmit, placeholder: this.props.placeholder, readOnly: this.props.disabled, onClick: this.toggleOptions });\n  },\n\n  renderChildren: function renderChildren() {\n    var children = \"\";\n\n    var optionsContainer = Object.assign({}, styles.optionsContainer, this.props.optionsContainerStyle);\n\n    if (this.state.hasInput) {\n      if (this.state.filteredChildren.length !== 0) {\n        children = this.state.filteredChildren;\n      } else {\n        children = this.props.placeholderNoItems !== '' ? React.createElement(\n          Option,\n          { value: null, theme: this.props.theme, style: styles.emptyOption, onSelect: function onSelect() {}, disabled: true },\n          this.props.placeholderNoItems\n        ) : '';\n      }\n    } else {\n      children = this.state.children;\n    }\n    var lastIndex = Array.isArray(children) ? children.length - 1 : null;\n    var childrenElement = children !== '' ? React.createElement(\n      'div',\n      { style: optionsContainer },\n      React.Children.map(children, function (child, idx) {\n        var currProps = {};\n        if (lastIndex && lastIndex == idx) {\n          currProps = { firstChild: false }; // Old style with border-bottom for last optioncurrProps= {lastChild:true,firstChild:false};\n        } else if (idx === 0) {\n          currProps = { lastChild: false, firstChild: true };\n        } else {\n          currProps = { lastChild: false, firstChild: false };\n        }\n        var newChild = React.cloneElement(child, currProps);\n        return newChild;\n      })\n    ) : '';\n\n    return childrenElement;\n  },\n\n  render: function render() {\n\n    var containerStyle = Object.assign({}, { position: 'relative', height: '42px', width: '100%' }, this.props.style);\n    return React.createElement(\n      'div',\n      { style: containerStyle },\n      React.createElement(\n        'div',\n        { style: { position: 'absolute', width: '100%' } },\n        React.createElement(\n          'div',\n          { ref: 'comboBox', style: styles.container },\n          this.renderInputField(),\n          this.state.isOpen && !this.props.disabled ? this.renderChildren() : \"\"\n        )\n      )\n    );\n  }\n});\n\nmodule.exports = ComboBox;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./InputField.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/InputField.jsx\",\"./Option.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Option.jsx\"}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Confirmation.jsx\":[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\n\nvar Icon = require('./Icon.jsx');\nvar SimpleDialog = require('./SimpleDialog.jsx');\nvar Button = require('./Button.jsx');\n\nvar RPT = React.PropTypes;\n\nvar styles = {\n  title: {\n    fontSize: \"25px\",\n    height: \"30px\",\n    width: \"330px\",\n    marginBottom: \"8px\",\n    marginTop: \"20px\"\n  },\n  text: {\n    fontSize: \"14px\",\n    width: \"385px\"\n  },\n  buttons: {\n    float: \"right\"\n  },\n  icon: {\n    display: \"block\",\n    margin: \"20px auto\",\n    width: \"44px\"\n  },\n  iconContainer: {\n    position: \"absolute\",\n    top: \"0px\",\n    left: \"0px\",\n    width: \"100px\"\n\n  },\n  container: {\n    position: \"relative\"\n\n  },\n  content: {\n    position: \"relative\",\n    marginLeft: \"100px\"\n  }\n};\n\nvar Confirmation = React.createClass({\n  displayName: 'Confirmation',\n\n  propTypes: {\n    style: RPT.object,\n    theme: RPT.object.isRequired,\n    nls: RPT.object,\n    onCancel: RPT.func,\n    onExtraButtonClick: RPT.func,\n    onSubmit: RPT.func,\n    icon: RPT.string,\n    isDeleteSubmit: RPT.bool,\n    cancelText: RPT.string,\n    extraButtonText: RPT.string,\n    submitText: RPT.string,\n    title: RPT.string,\n    text: RPT.string,\n    text2: RPT.string,\n    width: RPT.number,\n    height: RPT.number\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      icon: \"error\",\n      isDeleteSubmit: false\n    };\n  },\n\n  componentDidMount: function componentDidMount() {},\n\n  onCancel: function onCancel() {\n    if (this.props.onCancel) {\n      this.props.onCancel();\n    }\n  },\n\n  onExtraButtonClick: function onExtraButtonClick() {\n    if (this.props.onExtraButtonClick) {\n      this.props.onExtraButtonClick();\n    }\n  },\n\n  onSubmit: function onSubmit() {\n    if (this.props.onSubmit) {\n      this.props.onSubmit();\n    }\n  },\n\n  render: function render() {\n    var self = this;\n\n    var titleStyle = Object.assign({}, styles.title, { color: this.props.theme.major });\n    var textStyle = Object.assign({}, styles.text, { color: this.props.theme.minor });\n\n    var cancelText = this.props.cancelText ? this.props.cancelText : this.props.nls.resolve(\"Dialog.Cancel\");\n    var submitText = this.props.submitText ? this.props.submitText : this.props.nls.resolve(\"Dialog.Submit\");\n    var title = this.props.title ? this.props.title : this.props.nls.resolve(\"Dialog.Alert\");\n    var text = this.props.text ? this.props.text : this.props.nls.resolve(\"Dialog.AreUSure\");\n    var submitButtonStyle = this.props.style && this.props.style.submitButton ? Object.assign({}, { marginRight: \"0px\", marginBottom: \"0px\" }, this.props.style.submitButton) : { marginRight: \"0px\", marginBottom: \"0px\" };\n    var iconColor = this.props.theme.accent;\n    if (this.props.style && this.props.style.icon && this.props.style.icon.color) {\n      iconColor = this.props.style.icon.color;\n    }\n\n    var extraButton = \"\";\n    if (this.props.extraButtonText && this.props.onExtraButtonClick) {\n      extraButton = React.createElement(Button, { onClick: this.onExtraButtonClick, style: { marginBottom: \"0px\" }, text: this.props.extraButtonText });\n    }\n\n    var text2 = !this.props.text2 ? \"\" : React.createElement(\n      'div',\n      null,\n      React.createElement('br', null),\n      this.props.text2\n    );\n\n    return React.createElement(\n      SimpleDialog,\n      { theme: this.props.theme, nls: this.props.nls, onCancel: this.onCancel },\n      React.createElement(\n        'div',\n        { style: styles.container },\n        React.createElement(\n          'div',\n          { style: styles.iconContainer },\n          React.createElement(Icon, { style: styles.icon, theme: this.props.theme, color: iconColor, size: 44, icon: this.props.icon })\n        ),\n        React.createElement(\n          'div',\n          { style: styles.content },\n          React.createElement(\n            'div',\n            { style: titleStyle },\n            title\n          ),\n          React.createElement(\n            'div',\n            { style: textStyle },\n            text,\n            text2\n          ),\n          React.createElement(\n            'div',\n            { style: styles.buttons },\n            React.createElement(Button, { onClick: this.onCancel, style: { marginBottom: \"0px\" }, text: cancelText }),\n            extraButton,\n            React.createElement(Button, { onClick: this.onSubmit, isPrimary: !this.props.isDeleteSubmit, isDelete: this.props.isDeleteSubmit, style: submitButtonStyle, text: submitText })\n          )\n        )\n      )\n    );\n  }\n});\n\nmodule.exports = Confirmation;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./Button.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Button.jsx\",\"./Icon.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Icon.jsx\",\"./SimpleDialog.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/SimpleDialog.jsx\"}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Decision.jsx\":[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\n\nvar Icon = require('./Icon.jsx');\nvar SimpleDialog = require('./SimpleDialog.jsx');\nvar Button = require('./Button.jsx');\n\nvar RPT = React.PropTypes;\n\nvar styles = {\n  title: {\n    fontSize: \"25px\",\n    height: \"30px\",\n    width: \"330px\",\n    marginBottom: \"8px\",\n    marginTop: \"20px\"\n  },\n  text: {\n    fontSize: \"14px\"\n  },\n  buttons: {\n    float: \"right\",\n    whiteSpace: \"nowrap\"\n  },\n  icon: {\n    display: \"block\",\n    margin: \"20px auto\",\n    width: \"44px\"\n  },\n  iconContainer: {\n    position: \"absolute\",\n    top: \"0px\",\n    left: \"0px\",\n    width: \"100px\"\n\n  },\n  container: {\n    position: \"relative\"\n\n  },\n  content: {\n    position: \"relative\",\n    marginLeft: \"100px\"\n  }\n};\n\nvar Decision = React.createClass({\n  displayName: 'Decision',\n\n  propTypes: {\n    style: RPT.object,\n    theme: RPT.object.isRequired,\n    nls: RPT.object,\n    onAction: RPT.array,\n    onCancel: RPT.func,\n    icon: RPT.string,\n    buttonText: RPT.array,\n    title: RPT.string,\n    text: RPT.string,\n    width: RPT.number,\n    height: RPT.number\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      icon: \"error\"\n    };\n  },\n\n  componentDidMount: function componentDidMount() {},\n\n  onAction: function onAction(index) {\n    if (this.props.onAction) {\n      this.props.onAction[index]();\n    }\n  },\n\n  render: function render() {\n    var self = this;\n\n    var titleStyle = Object.assign({}, styles.title, { color: this.props.theme.major });\n    var textStyle = Object.assign({}, styles.text, { color: this.props.theme.minor });\n\n    var title = this.props.title ? this.props.title : this.props.nls.resolve(\"Dialog.Alert\");\n    var text = this.props.text ? React.createElement(\n      'div',\n      { style: textStyle },\n      text\n    ) : null;\n    var iconColor = this.props.theme.accent;\n\n    var buttonCount = -1;\n    return React.createElement(\n      SimpleDialog,\n      { theme: this.props.theme, nls: this.props.nls, onCancel: this.props.onCancel, width: this.props.width },\n      React.createElement(\n        'div',\n        { style: styles.container },\n        React.createElement(\n          'div',\n          { style: styles.iconContainer },\n          React.createElement(Icon, { style: styles.icon, theme: this.props.theme, color: iconColor, size: 44, icon: this.props.icon })\n        ),\n        React.createElement(\n          'div',\n          { style: styles.content },\n          React.createElement(\n            'div',\n            { style: titleStyle },\n            title\n          ),\n          React.createElement(\n            'div',\n            { style: textStyle },\n            text,\n            this.props.children\n          ),\n          React.createElement(\n            'div',\n            { style: styles.buttons },\n            this.props.buttonText.map(function (item) {\n              buttonCount++;\n              return React.createElement(Button, { isPrimary: true, onClick: function (buttonCount) {\n                  return function () {\n                    self.onAction(buttonCount);\n                  };\n                }(buttonCount), style: { marginBottom: \"0px\" }, text: item });\n            })\n          )\n        )\n      )\n    );\n  }\n});\n\nmodule.exports = Decision;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./Button.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Button.jsx\",\"./Icon.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Icon.jsx\",\"./SimpleDialog.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/SimpleDialog.jsx\"}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/DeviceAlerts.jsx\":[function(require,module,exports){\n(function (global){\n'use strict';\n\n/************ Dependencies *************/\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\n\nvar IoTFDeviceStore = require('../stores/IoTFDeviceStore.js');\n\nvar RPT = React.PropTypes;\n\n/************ Styles *************/\nvar styles = {\n  alertContainer: {\n    display: \"flex\"\n  },\n  alertBox: {\n    alignItems: \"center\",\n    color: \"#fff\",\n    display: \"flex\",\n    flex: 1,\n    flexDirection: \"column\",\n    flexGrow: 1,\n    height: \"65px\",\n    justifyContent: \"center\",\n    cursor: \"pointer\",\n    fontSize: \"14px\",\n    transition: \"all 0.5s ease\"\n  },\n  severityNumber: {\n    fontSize: \"14px\",\n    color: \"white\"\n  },\n  severityLabel: {\n    color: \"black\",\n    transition: \"all 0.5s ease\"\n  },\n  severityLabelSelected: {\n    color: \"white\",\n    transition: \"all 0.5s ease\"\n  }\n};\n\nvar DeviceAlerts = React.createClass({\n  displayName: 'DeviceAlerts',\n\n  /************ Models *************/\n  propTypes: {\n    alerts: RPT.object.isRequired,\n    nls: RPT.object,\n    severitiesShown: RPT.object,\n    style: RPT.object,\n    theme: RPT.object.isRequired,\n    onSelect: RPT.func\n  },\n\n  /************ Controller *************/\n  getDefaultProps: function getDefaultProps() {\n    return {\n      severitiesShown: {\n        critical: true,\n        high: true,\n        low: true,\n        medium: true\n      }\n    };\n  },\n\n  getInitialState: function getInitialState() {\n    return {};\n  },\n\n  componentDidMount: function componentDidMount() {},\n\n  componentWillUnmount: function componentWillUnmount() {},\n\n  onUpdate: function onUpdate() {},\n\n  onSelect: function onSelect(value) {\n    if (this.state.selected == value) {\n      value = null;\n    }\n    this.setState({\n      selected: value\n    });\n\n    if (this.props.onSelect) {\n      this.props.onSelect(value);\n    }\n  },\n\n  /************ View *************/\n  render: function render() {\n    var self = this;\n    var style = Object.assign({}, styles, this.props.style ? this.props.style : {});\n    var selectedColor = { backgroundColor: this.props.theme.dark };\n    var normalColor = { backgroundColor: this.props.theme.normal };\n    var label = Object.assign({}, styles.severityLabel, { color: this.props.theme.light });\n\n    var criticalAlertsBox = \"\",\n        highAlertsBox = \"\",\n        lowAlertsBox = \"\",\n        mediumAlertsBox = \"\";\n    // CriticalAlertsBox\n    if (this.props.severitiesShown.critical === true) {\n      criticalAlertsBox = React.createElement(\n        'div',\n        { onClick: function onClick() {\n            self.onSelect(\"CRITICAL\");\n          }, style: Object.assign({}, style.alertBox, this.state.selected == \"CRITICAL\" ? selectedColor : normalColor) },\n        React.createElement(\n          'div',\n          { style: style.severityNumber },\n          this.props.alerts.critical\n        ),\n        React.createElement(\n          'div',\n          { style: !this.state.selected || this.state.selected == \"CRITICAL\" ? styles.severityLabelSelected : label },\n          this.props.nls.resolve(\"Dashboard.RTI.DeviceAlerts.Critical\")\n        )\n      );\n    }\n\n    // HighAlertsBox\n    if (this.props.severitiesShown.high === true) {\n      highAlertsBox = React.createElement(\n        'div',\n        { onClick: function onClick() {\n            self.onSelect(\"HIGH\");\n          }, style: Object.assign({}, style.alertBox, this.state.selected == \"HIGH\" ? selectedColor : normalColor) },\n        React.createElement(\n          'div',\n          { style: style.severityNumber },\n          this.props.alerts.high\n        ),\n        React.createElement(\n          'div',\n          { style: !this.state.selected || this.state.selected == \"HIGH\" ? styles.severityLabelSelected : label },\n          this.props.nls.resolve(\"Dashboard.RTI.DeviceAlerts.High\")\n        )\n      );\n    }\n\n    // MediumAlertsBox\n    if (this.props.severitiesShown.medium === true) {\n      mediumAlertsBox = React.createElement(\n        'div',\n        { onClick: function onClick() {\n            self.onSelect(\"MEDIUM\");\n          }, style: Object.assign({}, style.alertBox, this.state.selected == \"MEDIUM\" ? selectedColor : normalColor) },\n        React.createElement(\n          'div',\n          { style: style.severityNumber },\n          this.props.alerts.medium\n        ),\n        React.createElement(\n          'div',\n          { style: !this.state.selected || this.state.selected == \"MEDIUM\" ? styles.severityLabelSelected : label },\n          this.props.nls.resolve(\"Dashboard.RTI.DeviceAlerts.Medium\")\n        )\n      );\n    }\n\n    // LowAlertsBox\n    if (this.props.severitiesShown.low == true) {\n      lowAlertsBox = React.createElement(\n        'div',\n        { onClick: function onClick() {\n            self.onSelect(\"LOW\");\n          }, style: Object.assign({}, style.alertBox, this.state.selected == \"LOW\" ? selectedColor : normalColor) },\n        React.createElement(\n          'div',\n          { style: style.severityNumber },\n          this.props.alerts.low\n        ),\n        React.createElement(\n          'div',\n          { style: !this.state.selected || this.state.selected == \"LOW\" ? styles.severityLabelSelected : label },\n          this.props.nls.resolve(\"Dashboard.RTI.DeviceAlerts.Low\")\n        )\n      );\n    }\n\n    var containerStyle = Object.assign({}, style.alertContainer, { backgroundColor: this.props.theme.normal });\n\n    // View output\n    return React.createElement(\n      'div',\n      { style: containerStyle },\n      criticalAlertsBox,\n      highAlertsBox,\n      mediumAlertsBox,\n      lowAlertsBox\n    );\n  }\n});\n\nmodule.exports = DeviceAlerts;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"../stores/IoTFDeviceStore.js\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/stores/IoTFDeviceStore.js\"}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/DonutChart.jsx\":[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\nvar ReactDOM = (typeof window !== \"undefined\" ? window['ReactDOM'] : typeof global !== \"undefined\" ? global['ReactDOM'] : null);\nvar c3 = (typeof window !== \"undefined\" ? window['c3'] : typeof global !== \"undefined\" ? global['c3'] : null);\nvar RPT = React.PropTypes;\nvar Icon = require('./Icon.jsx');\n\nvar styles = {\n  container: {\n    width: \"100%\",\n    height: \"100%\",\n    margin: \"0 auto\"\n  }\n};\n\nvar DonutChart = React.createClass({\n  displayName: 'DonutChart',\n\n  propTypes: {\n    style: RPT.object,\n    theme: RPT.object.isRequired,\n    data: RPT.array,\n    names: RPT.object,\n    title: RPT.string,\n    unit: RPT.string,\n    unit2: RPT.string,\n    label: RPT.number,\n    width: RPT.number,\n    height: RPT.number,\n    focus: RPT.string,\n    revert: RPT.bool,\n    click: RPT.string,\n    onOver: RPT.func,\n    onOut: RPT.func,\n    precision: RPT.number\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      data: [],\n      names: {},\n      precision: null\n    };\n  },\n\n  componentDidMount: function componentDidMount() {\n    this.createGraph();\n  },\n\n  createGraph: function createGraph() {\n    var self = this;\n    this.destroyGraph();\n\n    var container = ReactDOM.findDOMNode(this);\n\n    var dom = document.createElement(\"div\");\n    container.appendChild(dom);\n\n    this.width = this.props.width ? this.props.width : container.offsetWidth;\n    this.height = this.props.height ? this.props.height : container.offsetHeight;\n\n    var colors = this.props.theme.palette;\n\n    if (this.width > 0 && this.height > 0) {\n\n      dom.style.width = this.width + \"px\";\n      dom.style.height = this.height + \"px\";\n\n      var config = {\n        size: {\n          width: this.width,\n          height: this.height\n        },\n        data: {\n          onclick: function onclick(d, i) {\n            console.log(\"onclick\", d, i);\n          },\n          onmouseover: function onmouseover(d, i) {\n            if (self.props.onOver) {\n              self.props.onOver(d, i);\n            }\n          },\n          onmouseout: function onmouseout(d, i) {\n            if (self.props.onOut) {\n              self.props.onOut(d, i);\n            }\n          },\n          type: \"donut\",\n          columns: this.props.data\n        },\n        donut: {\n          title: this.props.title, // cannot be removed\n          label: {\n            show: false\n          },\n          expand: true,\n          width: 15\n        },\n        legend: {\n          show: false\n        },\n        color: {\n          pattern: colors\n        },\n        tooltip: {\n          show: false\n        }\n      };\n\n      this.graph = c3.generate(config);\n\n      dom.appendChild(this.graph.element);\n\n      this.setTitle();\n    }\n  },\n\n  setTitle: function setTitle(text) {\n    if (this.props.data) {\n      var count = 0;\n      for (var i = 0; i < this.props.data.length; i++) {\n        var item = this.props.data[i];\n        count += item[1];\n      }\n\n      if (count != Math.round(count)) {\n        var precision = 2;\n        if (this.props.precision != null) {\n          precision = this.props.precision;\n        }\n        count = count.toFixed(precision);\n      }\n\n      if (text && typeof text != 'string') {\n        var precision = 2;\n        if (this.props.precision != null) {\n          precision = this.props.precision;\n        }\n        text = text.toFixed(precision);\n      }\n\n      var label = d3.select('#' + this.id + ' text.c3-chart-arcs-title');\n\n      //default\n      var totalHeading = \"Total\";\n\n      if (this.props.totalHeading) {\n        totalHeading = this.props.totalHeading;\n      }\n\n      label.text('');\n      label.selectAll(\"*\").remove(); //html(''); // remove existant text\n\n      if (text !== undefined) {\n        label.insert('tspan').text(text).attr('dy', 0).attr('x', 0).attr('class', \"donutMain\").attr('fill', this.props.theme.normal);\n        label.insert('tspan').text(this.props.unit).attr('dy', 20).attr('x', 0).attr('class', \"donutMinor\").attr('fill', this.props.theme.normal);\n        if (this.props.unit2) label.insert('tspan').text(this.props.unit2).attr('dy', 18).attr('x', 0).attr('class', \"donutMinor\").attr('fill', this.props.theme.normal);\n      } else {\n        label.insert('tspan').text(count).attr('dy', 0).attr('x', 0).attr('class', \"donutMain\").attr('fill', this.props.theme.normal);\n        label.insert('tspan').text(totalHeading).attr('dy', -25).attr('x', 0).attr('class', \"donutMinor\").attr('fill', '#899399');\n        label.insert('tspan').text(this.props.unit).attr('dy', 45).attr('x', 0).attr('class', \"donutMinor\").attr('fill', this.props.theme.normal);\n        if (this.props.unit2) label.insert('tspan').text(this.props.unit2).attr('dy', 18).attr('x', 0).attr('class', \"donutMinor\").attr('fill', this.props.theme.normal);\n      }\n    }\n  },\n\n  focus: function focus(id) {\n    if (this.graph) {\n      this.graph.focus(id);\n    }\n  },\n\n  click: function click(id) {\n    if (this.graph) {\n      this.graph.click(id);\n    }\n  },\n\n  revert: function revert(id) {\n    if (this.graph) {\n      this.graph.revert();\n      this.setTitle();\n    }\n  },\n\n  destroyGraph: function destroyGraph() {\n    var dom = ReactDOM.findDOMNode(this);\n    while (dom.firstChild) {\n      dom.removeChild(dom.firstChild);\n    }\n    this.graph = null;\n  },\n\n  updateGraph: function updateGraph() {\n    if (!this.graph) {\n      this.createGraph();\n    }\n    if (this.graph) {\n      var self = this;\n\n      this.graph.load({\n        columns: self.props.data\n      });\n\n      this.graph.data.names(this.props.names);\n\n      var container = ReactDOM.findDOMNode(this);\n      var width = this.props.width ? this.props.width : container.offsetWidth;\n      var height = this.props.height ? this.props.height : container.offsetHeight;\n      if (this.width != width || this.height != height) {\n        this.width = width;\n        this.height = height;\n        this.graph.resize({ height: this.height, width: this.width });\n      }\n\n      this.setTitle();\n    }\n  },\n\n  shouldComponentUpdate: function shouldComponentUpdate(nextProps, nextState) {\n    var self = this;\n    // do not repaint for user interaction, otherwise the animation won't work\n    if (nextProps.focus || nextProps.label) {\n      if (nextProps.focus) {\n        this.focussed = true;\n        this.focus(nextProps.focus);\n      }\n      if (nextProps.label) {\n        this.focussed = true;\n        self.setTitle(nextProps.label);\n      }\n      return false;\n    } else if (this.focussed) {\n      this.focussed = false;\n      this.revert();\n      return false;\n    } else {\n      return true;\n    }\n  },\n\n  componentWillUnmount: function componentWillUnmount() {\n    this.destroyGraph();\n  },\n\n  componentDidUpdate: function componentDidUpdate(prevProps, prevState) {\n    this.updateGraph();\n    this.checkIfPropsChanged(prevProps, this.props);\n  },\n\n  checkIfPropsChanged: function checkIfPropsChanged(a, b) {\n    // Check if we have to remove an item. This fails in some situations if we use the normal\n    // unload method. Therefore we just redraw the whole thing.\n    var currentData = this.graph.data();\n    for (var i = 0; i < currentData.length; i++) {\n      var item = currentData[i];\n      var found = false;\n      for (var t = 0; t < this.props.data.length; t++) {\n        var dataItem = this.props.data[t];\n        if (dataItem[0] == item.id) {\n          found = true;\n          break;\n        }\n      }\n      if (!found) {\n        this.createGraph();\n        return;\n      }\n    }\n\n    if (JSON.stringify(a.theme) != JSON.stringify(b.theme) || a.unit != b.unit || a.precision != b.precision || a.width != b.width || a.height != b.height) {\n      this.createGraph();\n    }\n  },\n\n  render: function render() {\n    if (!this.id) {\n      this.id = \"X\" + Math.round(Math.random() * 1000000);\n    }\n    var style = Object.assign({}, styles.container, { width: this.props.width + \"px\", height: this.props.height + \"px\" }, this.props.style ? this.props.style : {});\n    return React.createElement('div', { id: this.id, style: style });\n  }\n});\n\nmodule.exports = DonutChart;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./Icon.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Icon.jsx\"}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Dropdown.jsx\":[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\nvar ReactDOM = (typeof window !== \"undefined\" ? window['ReactDOM'] : typeof global !== \"undefined\" ? global['ReactDOM'] : null);\nvar RPT = React.PropTypes;\nvar Option = require('./Option.jsx');\nvar Portal = require('./Portal.jsx');\n\nvar styles = {\n\tcontainerStyle: {},\n\tdropboxWrapper: {\n\t\tposition: \"absolute\"\n\t},\n\tdropboxContainer: {\n\t\tminWidth: \"160px\",\n\t\tposition: \"fixed\"\n\t}\n};\n\nvar Dropdown = React.createClass({\n\tdisplayName: 'Dropdown',\n\n\n\tpropTypes: {\n\t\ttheme: RPT.object.isRequired,\n\t\tstyle: RPT.object\n\t},\n\n\tgetDefaultProps: function getDefaultProps() {\n\t\treturn {\n\t\t\ttopCorrection: 0,\n\t\t\tleftCorrection: 0\n\t\t};\n\t},\n\n\tgetInitialState: function getInitialState() {\n\t\treturn {\n\t\t\tisOpen: false,\n\t\t\tleft: \"0px\",\n\t\t\ttop: \"0px\"\n\t\t};\n\t},\n\n\tcomponentDidMount: function componentDidMount() {\n\t\tdocument.addEventListener('click', this.handleClickOutside, true);\n\t\tconsole.log($(ReactDOM.findDOMNode(this.refs.trigger).children[0]));\n\t\tvar nodeOffsetPos = $(ReactDOM.findDOMNode(this.refs.trigger).children[0]).offset();\n\t\tvar nodeOffsetDim = $(ReactDOM.findDOMNode(this.refs.trigger).children[0])[0].offsetHeight;\n\t\tthis.setState({ left: nodeOffsetPos.left + \"px\", top: nodeOffsetPos.top + nodeOffsetDim - $(window).scrollTop() + \"px\" });\n\t},\n\n\tcomponentWillUnmount: function componentWillUnmount() {\n\t\tdocument.removeEventListener('click', this.handleClickOutside, true);\n\t},\n\n\thandleClickOutside: function handleClickOutside(e) {\n\t\tthis.setState({ isOpen: false });\n\t},\n\n\tonClick: function onClick(event) {\n\t\tthis.setState({ isOpen: !this.state.isOpen });\n\t},\n\n\trender: function render() {\n\t\tvar self = this;\n\t\tvar containerStyle = Object.assign({}, styles.containerStyle, this.props.style);\n\t\tstyles.dropboxWrapper.left = this.state.left;\n\t\tstyles.dropboxWrapper.top = this.state.top;\n\n\t\tstyles.dropboxWrapper.fontFamily = this.props.theme.font;\n\n\t\tvar lastIndex = Array.isArray(this.props.children) ? this.props.children.length - 1 : null;\n\t\tvar options = React.createElement(\n\t\t\tPortal,\n\t\t\tnull,\n\t\t\tReact.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ style: styles.dropboxWrapper },\n\t\t\t\tReact.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ style: styles.dropboxContainer },\n\t\t\t\t\tthis.state.isOpen ? React.Children.map(this.props.children, function (child, idx) {\n\t\t\t\t\t\tif (idx !== 0) {\n\t\t\t\t\t\t\tvar currProps = {};\n\t\t\t\t\t\t\tif (lastIndex && lastIndex == idx) {\n\t\t\t\t\t\t\t\tcurrProps = { onSelect: self.props.onSelect ? self.props.onSelect : function () {}, lastChild: true, firstChild: false };\n\t\t\t\t\t\t\t} else if (idx == 1) {\n\t\t\t\t\t\t\t\tcurrProps = { onSelect: self.props.onSelect ? self.props.onSelect : function () {}, lastChild: false, firstChild: true };\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcurrProps = { onSelect: self.props.onSelect ? self.props.onSelect : function () {}, lastChild: false, firstChild: false };\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar newChild = React.cloneElement(child, currProps);\n\t\t\t\t\t\t\treturn newChild;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t}\n\t\t\t\t\t}) : null\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t\treturn React.createElement(\n\t\t\t'div',\n\t\t\t{ style: containerStyle },\n\t\t\tReact.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ style: containerStyle, ref: 'trigger', onClick: this.onClick },\n\t\t\t\tthis.props.children[0] || this.props.children\n\t\t\t),\n\t\t\tthis.state.isOpen ? options : null\n\t\t);\n\t}\n});\n\nmodule.exports = Dropdown;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./Option.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Option.jsx\",\"./Portal.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Portal.jsx\"}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/GalleryAccordion.jsx\":[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\nvar ReactDOM = (typeof window !== \"undefined\" ? window['ReactDOM'] : typeof global !== \"undefined\" ? global['ReactDOM'] : null);\nvar RPT = React.PropTypes;\nvar Icon = require('./Icon.jsx');\n\nvar styles = {\n\n  container: {\n    marginBottom: '30px',\n    boxSizing: 'border-box',\n    clear: 'both',\n    cursor: 'pointer'\n  },\n  canvas: {\n    MozTransition: 'all 0.25s ease',\n    WebkitTransition: 'all 0.25s ease',\n    OTransition: 'all 0.25s ease',\n    transition: 'all 0.25s ease',\n    height: '116px',\n    overflow: 'hidden',\n    backgroundColor: '#F0F4F7',\n    paddingTop: '15px'\n  },\n  wideCanvas: {},\n  title: {\n    fontSize: '18px',\n    marginBottom: '20px',\n    fontWeight: '300'\n  },\n  icon: {\n    float: 'right'\n  },\n  toggleCtrlContainer: {\n    clear: 'both',\n    float: 'right',\n    marginTop: '10px'\n  }\n\n};\n\nvar ITEMS_PER_ROW = 4;\n\nvar GalleryAccordion = React.createClass({\n  displayName: 'GalleryAccordion',\n\n\n  propTypes: {\n    theme: RPT.object.isRequired,\n    style: RPT.object,\n    id: RPT.string,\n    label: RPT.string,\n    onRemove: RPT.func,\n    onExpand: RPT.func,\n    expanded: RPT.bool\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      label: ''\n    };\n  },\n\n  getInitialState: function getInitialState() {\n    var expandedStatus = false;\n    for (var i = 0; i < this.props.children.length; i++) {\n      if (this.props.selected === this.props.children[i].props.item.name && i >= ITEMS_PER_ROW * 2) {\n        expandedStatus = true;\n      }\n    }\n    return {\n      expanded: this.props.expanded || expandedStatus ? true : false\n    };\n  },\n\n  componentWillMount: function componentWillMount() {\n    for (var i = 0; i < this.props.children.length; i++) {\n      if (this.props.selected === this.props.children[i].props.item.name && i >= ITEMS_PER_ROW * 2) {\n        this.setState({ expanded: true });\n      }\n    }\n    if (this.props.children.length > 4) {\n      styles.canvas.height = '226px';\n    }\n  },\n  componentDidMount: function componentDidMount() {\n    this.componentDidUpdate();\n  },\n  componentDidUpdate: function componentDidUpdate() {\n    if (this.state.expanded) {\n      $(this.refs.cardCanvas).css('height', $(this.refs.cardCanvas)[0].scrollHeight);\n    } else {\n      if (this.props.children.length > 4) {\n        $(this.refs.cardCanvas).css('height', '226px');\n      } else {\n        $(this.refs.cardCanvas).css('height', '116px');\n      }\n    }\n  },\n  componentDidReceiveProps: function componentDidReceiveProps() {\n    this.setState({\n      selected: this.props.selected\n    });\n  },\n\n\n  onRemove: function onRemove() {\n    if (this.props.onRemove) {\n      this.props.onRemove(this.props.id);\n    }\n    return false;\n  },\n\n  onToggle: function onToggle() {\n    this.setState({\n      expanded: !this.state.expanded\n    });\n  },\n\n  render: function render() {\n    var self = this;\n    var canvas = '';\n    var toggleCtrl = '';\n    var childCount = ITEMS_PER_ROW * 2;\n    if (this.state.expanded) {\n      canvas = this.props.children;\n      toggleCtrl = React.createElement(\n        'div',\n        { style: styles.toggleCtrlContainer },\n        React.createElement(\n          'a',\n          { onClick: self.onToggle, href: 'javascript:void(0)' },\n          self.props.nls.resolve('Dashboard.Cards.Customization.ShowLess')\n        )\n      );\n    } else {\n      var i = 0;\n      canvas = this.props.children.filter(function (child) {\n        if (i < childCount) {\n          i++;\n          return true;\n        } else {\n          i++;\n          toggleCtrl = React.createElement(\n            'div',\n            { style: styles.toggleCtrlContainer },\n            React.createElement(\n              'a',\n              { onClick: self.onToggle, href: 'javascript:void(0)' },\n              self.props.nls.resolve('Dashboard.Cards.Customization.ShowMore')\n            )\n          );\n          return false;\n        }\n      });\n    }\n\n    return React.createElement(\n      'div',\n      { style: styles.container },\n      React.createElement(\n        'div',\n        { style: styles.title },\n        this.props.label\n      ),\n      React.createElement(\n        'div',\n        { style: styles.canvas, ref: 'cardCanvas' },\n        React.createElement('div', { style: styles.wideCanvas }),\n        canvas\n      ),\n      toggleCtrl\n    );\n  }\n});\n\nmodule.exports = GalleryAccordion;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./Icon.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Icon.jsx\"}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Gauge.jsx\":[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar d3 = (typeof window !== \"undefined\" ? window['d3'] : typeof global !== \"undefined\" ? global['d3'] : null);\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\nvar ReactDOM = (typeof window !== \"undefined\" ? window['ReactDOM'] : typeof global !== \"undefined\" ? global['ReactDOM'] : null);\nvar RPT = React.PropTypes;\n\n/**\n* Flexible gauge.\n*/\nvar styles = {\n\tcontainer: {\n\t\theight: \"100%\",\n\t\twidth: \"100%\",\n\t\tmargin: \"0 auto\"\n\t}\n};\n\nvar Gauge = React.createClass({\n\tdisplayName: 'Gauge',\n\n\n\tpropTypes: {\n\t\ttheme: RPT.object.isRequired,\n\t\tstyle: RPT.object,\n\t\tnls: RPT.object,\n\t\tvalue: RPT.number,\n\t\tminDegree: RPT.number,\n\t\tmaxDegree: RPT.number,\n\t\tmin: RPT.number,\n\t\tmax: RPT.number,\n\t\tprecision: RPT.number,\n\t\tneedle: RPT.bool,\n\t\tunit: RPT.string,\n\t\tlabel: RPT.number,\n\t\twidth: RPT.number,\n\t\theight: RPT.number,\n\t\tlowerThresholdMeaning: RPT.string,\n\t\tmiddleThresholdMeaning: RPT.string,\n\t\tupperThresholdMeaning: RPT.string,\n\t\tlowerThreshold: RPT.number,\n\t\tupperThreshold: RPT.number\n\t},\n\n\tgetDefaultProps: function getDefaultProps() {\n\t\treturn {\n\t\t\tminDegree: 45,\n\t\t\tmaxDegree: 315,\n\t\t\tmin: 0,\n\t\t\tmax: 100,\n\t\t\tneedle: false\n\t\t};\n\t},\n\n\tcomponentDidMount: function componentDidMount() {\n\t\t// create for the first time\n\t\tthis.createSVG();\n\t},\n\n\tcreateSVG: function createSVG() {\n\t\tthis.destroySVG();\n\n\t\tvar self = this;\n\n\t\tvar dom = ReactDOM.findDOMNode(this);\n\t\t// var dom = document.createElement(\"div\");\n\t\t// root.appendChild(dom);\n\n\t\tthis.width = this.props.width ? this.props.width : container.offsetWidth;\n\t\tthis.height = this.props.height ? this.props.height : container.offsetHeight;\n\t\tvar pi = Math.PI * 2;\n\t\tvar radius = Math.min(this.width, this.height) / 2;\n\t\tvar startAngle = this.props.minDegree / 360 * pi - pi / 2;\n\t\tvar endAngle = this.props.maxDegree / 360 * pi - pi / 2;\n\n\t\tvar group = d3.select(dom).append('svg').attr('width', +this.width).attr('height', +this.height).attr('viewBox', '0 0 ' + this.width + ' ' + this.height).attr('preserveAspectRatio', 'xMinYMin meet').append(\"g\").attr(\"transform\", \"translate(\" + this.width / 2 + \",\" + this.height / 2 + \")\");\n\n\t\t// the scale to show the full range\n\t\tvar scaleArc = d3.svg.arc().innerRadius(radius - 40).outerRadius(radius - 25).startAngle(startAngle).endAngle(endAngle);\n\n\t\tvar scale = group.append(\"path\").attr(\"fill\", this.props.theme.minor).attr(\"d\", scaleArc);\n\n\t\t// the value segment\n\t\tthis.valueSegment = group.append(\"path\").datum({ endAngle: 0, startAngle: 0 }).attr(\"fill\", this.props.theme.normal);\n\n\t\t// the textual value\n\t\tthis.label = group.append(\"svg:text\").attr(\"dy\", \"-10px\").attr(\"text-anchor\", \"middle\").attr(\"font-size\", \"40px\").attr(\"font-weight\", \"200\").attr(\"fill\", this.props.theme.normal);\n\n\t\t// the unit indicator\n\t\tif (this.props.unit) {\n\t\t\tvar unit = group.append(\"svg:text\").attr(\"dy\", \"20px\").attr(\"text-anchor\", \"middle\").attr(\"font-size\", \"16px\").attr(\"font-weight\", \"200\").attr(\"fill\", this.props.theme.minor).text(this.props.unit);\n\t\t}\n\n\t\t// threshold indicator\n\t\tvar tickSteps = (this.props.maxDegree - this.props.minDegree) / 100;\n\t\tvar range = this.props.max - this.props.min;\n\n\t\tfor (var i = 0; i <= 100; i++) {\n\t\t\tvar line = group.append(\"svg:line\").attr(\"x1\", this.width / 2 - 20).attr(\"x2\", this.width / 2 - 10).attr(\"y1\", 0).attr(\"y2\", 0).attr(\"stroke-width\", \"2\");\n\n\t\t\tif (this.props.lowerThresholdMeaning && this.props.lowerThresholdMeaning != \"NONE\" && i <= (this.props.lowerThreshold - this.props.min) / range * 100) {\n\t\t\t\tline.attr(\"stroke\", this.props.theme[this.props.lowerThresholdMeaning]);\n\t\t\t} else if (this.props.middleThresholdMeaning && this.props.middleThresholdMeaning != \"NONE\" && i > (this.props.lowerThreshold - this.props.min) / range * 100 && i < (this.props.upperThreshold - this.props.min) / range * 100) {\n\t\t\t\tline.attr(\"stroke\", this.props.theme[this.props.middleThresholdMeaning]);\n\t\t\t} else if (this.props.upperThresholdMeaning && this.props.upperThresholdMeaning != \"NONE\" && i >= (this.props.upperThreshold - this.props.min) / range * 100) {\n\t\t\t\tline.attr(\"stroke\", this.props.theme[this.props.upperThresholdMeaning]);\n\t\t\t} else {\n\t\t\t\tline.attr(\"stroke\", this.props.theme.minor);\n\t\t\t}\n\n\t\t\tline.attr(\"transform\", \"rotate(\" + (this.props.minDegree + tickSteps * i + 90) + \")\");\n\t\t}\n\n\t\tthis.updateSVG();\n\t},\n\n\tdestroySVG: function destroySVG() {\n\t\tvar dom = ReactDOM.findDOMNode(this);\n\t\tvar children = dom.childNodes;\n\t\tfor (var i = 0; i < children.length; i++) {\n\t\t\tvar child = children[i];\n\t\t\tif (child.tagName === 'svg') {\n\t\t\t\tdom.removeChild(child);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t},\n\n\tupdateSVG: function updateSVG() {\n\t\t// handle precision\n\t\tvar value = this.props.value ? this.props.value : 0;\n\n\t\tif (this.props.precision !== undefined) {\n\t\t\tvalue = value.toFixed(this.props.precision);\n\t\t}\n\t\tvar pi = Math.PI * 2;\n\n\t\tvar radius = Math.min(this.width, this.height) / 2;\n\t\tvar startAngle = this.props.minDegree / 360 * pi - pi / 2;\n\t\tvar endAngle = this.props.maxDegree / 360 * pi - pi / 2;\n\t\tvar val = (value - this.props.min) / (this.props.max - this.props.min);\n\t\tval = val * (endAngle - startAngle) + startAngle;\n\t\tval = Math.min(val, endAngle);\n\t\tval = Math.max(val, startAngle);\n\n\t\tvar arc, arcTween;\n\n\t\tthis.label.text(value);\n\n\t\tif (this.props.needle) {\n\t\t\t// show only a simple tick\n\t\t\tarc = d3.svg.arc().innerRadius(radius - 50).outerRadius(radius - 25);\n\n\t\t\tarcTween = function arcTween(transition, newAngle) {\n\t\t\t\ttransition.attrTween(\"d\", function (d) {\n\t\t\t\t\tif (d) {\n\t\t\t\t\t\tvar interpolate = d3.interpolate(d.endAngle, newAngle);\n\t\t\t\t\t\treturn function (t) {\n\t\t\t\t\t\t\tvar val = interpolate(t);\n\t\t\t\t\t\t\td.endAngle = val;\n\t\t\t\t\t\t\td.startAngle = val - 0.05;\n\t\t\t\t\t\t\treturn arc(d);\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\t\t} else {\n\t\t\t// show the full segment\n\t\t\tarc = d3.svg.arc().innerRadius(radius - 40).outerRadius(radius - 25).startAngle(startAngle);\n\n\t\t\tarcTween = function arcTween(transition, newAngle) {\n\t\t\t\ttransition.attrTween(\"d\", function (d) {\n\t\t\t\t\tif (d) {\n\t\t\t\t\t\tvar interpolate = d3.interpolate(d.endAngle, newAngle);\n\t\t\t\t\t\treturn function (t) {\n\t\t\t\t\t\t\td.endAngle = interpolate(t);\n\t\t\t\t\t\t\treturn arc(d);\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\t\t}\n\n\t\tthis.valueSegment.transition().duration(200).call(arcTween, val);\n\t},\n\n\tcomponentWillUnmount: function componentWillUnmount() {\n\t\tthis.destroySVG();\n\t},\n\n\tcomponentDidUpdate: function componentDidUpdate(prevProps, prevState) {\n\t\tthis.updateSVG();\n\t\tthis.checkIfPropsChanged(prevProps, this.props);\n\t},\n\n\tcheckIfPropsChanged: function checkIfPropsChanged(a, b) {\n\t\tif (JSON.stringify(a.theme) != JSON.stringify(b.theme) || a.min != b.min || a.max != b.max || a.unit != b.unit || a.lowerThresholdMeaning != b.lowerThresholdMeaning || a.middleThresholdMeaning != b.middleThresholdMeaning || a.upperThresholdMeaning != b.upperThresholdMeaning || a.lowerThreshold != b.lowerThreshold || a.upperThreshold != b.upperThreshold || a.unit != b.unit || a.min != b.min || a.max != b.max || a.precision != b.precision && !isNaN(a.precision) && !isNaN(b.precision) || a.width != b.width || a.height != b.height) {\n\t\t\tthis.createSVG();\n\t\t}\n\t},\n\n\trender: function render() {\n\t\tvar style = Object.assign({}, styles.container, { width: this.props.width + \"px\", height: this.props.height + \"px\" }, this.props.style ? this.props.style : {});\n\t\treturn React.createElement('div', { style: style });\n\t}\n});\n\nmodule.exports = Gauge;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Icon.jsx\":[function(require,module,exports){\n(function (global){\n\"use strict\";\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\nvar RPT = React.PropTypes;\n\nvar styles = {\n  icon: {\n    verticalAlign: \"middle\",\n    cursor: \"pointer\"\n  }\n};\n\n// Documentation link:\n// https://github.ibm.com/IoT/dashboard-component/wiki/Icon-component\n//\n\nvar Icon = React.createClass({\n  displayName: \"Icon\",\n\n  propTypes: {\n    style: RPT.object,\n    theme: RPT.object,\n    //icon: RPT.isRequired,\n    color: RPT.string,\n    disabled: RPT.bool,\n    size: RPT.number,\n    onClick: RPT.func,\n    onEnter: RPT.func,\n    onLeave: RPT.func\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      disabled: false,\n      size: 24,\n      onClick: function onClick() {}\n    };\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      viewportCorrection: this.getViewportCorrection()\n    };\n  },\n\n  getViewportCorrection: function getViewportCorrection() {\n    switch (this.props.icon) {\n      case 'dash':\n        return { x: 4 };\n      case 'delete':\n        // trashicon from design team\n        return { x: -3 };\n      case 'dot-empty':\n        return { x: -7, y: -7 };\n      case 'dot-full':\n        return { x: -7, y: -7 };\n      case 'fullscreen':\n        // fullscreen icon from design team\n        return { y: -2 };\n      case 'refresh':\n        // fullscreen icon from design team\n        return { x: -4 };\n      case 'bar-chart':\n        return { y: -1, width: 19, height: 19 };\n      case 'traffic-consumption':\n        return { y: -1, width: 19, height: 19 };\n      case 'storage-consumption':\n        return { y: -2, width: 19, height: 19 };\n      case 'device-types':\n        return { y: -0.75, width: 21, height: 21 };\n      case 'elevator':\n        return { y: -5 };\n      case 'horizontal-seperator':\n        return { y: -9 };\n      case 'line-chart':\n        return { y: -5 };\n      case 'line-graph2':\n        return { width: 28, height: 15 };\n      case 'pie-chart':\n        return { width: 21, height: 21 };\n      case 'text-based':\n        return { x: 0, y: 0, width: 16, height: 16 };\n      //case 'gauge':\n      //    return {x:5, y:5};\n      case 'weatherService':\n        return { y: -3, width: 26, height: 26 };\n      case 'mail':\n        return { x: 0, y: 0, width: 32, height: 32 };\n      case 'download':\n        return { x: 0, y: 0, width: 32, height: 32 };\n      case 'role':\n        return { x: 0, y: 0, width: 32, height: 32 };\n      case 'rule':\n        return { x: -5, y: -1 };\n      case 'add-new':\n        return { x: 0, y: 0, width: 24, height: 24 };\n      case 'firstPage':\n      case 'lastPage':\n        return { x: -3, y: -4, width: 18, height: 18 };\n      case 'nextPage':\n      case 'previousPage':\n        return { x: -6, y: -4, width: 18, height: 18 };\n      case 'edit':\n        return { x: 0, y: 0, width: 32, height: 32 };\n      case 'close':\n        return { x: 0, y: 0, width: 32, height: 32 };\n      case 'confirm':\n        return { x: 0, y: 0, width: 32, height: 32 };\n      case 'BrokenCard':\n        return { x: 0, y: 0, width: 56, height: 43 };\n      case 'bee':\n        return { x: 0, y: 0, width: 65, height: 57 };\n      case 'AllDeviceProperties':\n        return { x: 0, y: 0, width: 19, height: 19 };\n      case 'DeviceInfo':\n        return { x: 0, y: 0, width: 19, height: 19 };\n      case 'DeviceList':\n        return { x: 0, y: 0, width: 19, height: 19 };\n      case 'DeviceMap':\n        return { x: 0, y: 0, width: 19, height: 19 };\n      case 'DeviceProperties':\n        return { x: 0, y: 0, width: 19, height: 19 };\n      case 'RuleBreakInfo':\n        return { x: 0, y: 0, width: 19, height: 19 };\n      case 'RuleBreaks':\n        return { x: 0, y: 0, width: 19, height: 19 };\n      case 'Rules':\n        return { x: 0, y: 0, width: 19, height: 19 };\n      case 'deleted-rule':\n        return { x: -2, y: -1, width: 21, height: 21 };\n      case 'warning':\n        return { x: 0, y: 0, width: 128, height: 128 };\n      case 'PolicyCompliance':\n        return { x: 0, y: 0, width: 20, height: 20 };\n      case 'Blacklist':\n        return { x: 0, y: 0, width: 20, height: 20 };\n      case 'Whitelist':\n        return { x: 0, y: 0, width: 20, height: 20 };\n      case 'ConnectionSecurity':\n        return { x: 0, y: 0, width: 20, height: 20 };\n      case 'RiskManagement':\n        return { x: 0, y: 0, width: 32, height: 32 };\n    }\n  },\n\n  renderGraphic: function renderGraphic() {\n    // see list of icons: http://dmfrancisco.github.io/react-icons/\n    switch (this.props.icon) {\n      case 'close':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"polygon\", { points: \"20.293,10.293 16,14.586 11.707,10.293 10.293,11.707 14.586,16 10.293,20.293 11.707,21.707 16,17.414 20.293,21.707 21.707,20.293 17.414,16 21.707,11.707\" }),\n          React.createElement(\"path\", { d: \"M16,2C8.269,2,2,8.269,2,16s6.269,14,14,14s14-6.269,14-14S23.731,2,16,2z M16,28C9.383,28,4,22.617,4,16S9.383,4,16,4 s12,5.383,12,12S22.617,28,16,28z\" })\n        );\n      case 'confirm':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"polygon\", { points: \"14,18.586 10.707,15.293 9.293,16.707 14,21.414 22.707,12.707 21.293,11.293 \\t\" }),\n          React.createElement(\"path\", { d: \"M16,2C8.269,2,2,8.269,2,16s6.269,14,14,14s14-6.269,14-14S23.731,2,16,2z M16,28C9.383,28,4,22.617,4,16S9.383,4,16,4 s12,5.383,12,12S22.617,28,16,28z\" })\n        );\n      case 'copy':\n        return React.createElement(\n          \"g\",\n          { id: \"Group\" },\n          React.createElement(\"path\", { id: \"Shape\", className: \"st0\", d: \"M11,4.2V0H0v16.6h4.1v4.2h11V4.2H11L11,4.2z M4.1,15.2H1.4V1.4h8.3v2.8H4.1V15.2L4.1,15.2z M13.8,19.4H5.5V5.5h8.3V19.4L13.8,19.4z\" }),\n          React.createElement(\"rect\", { id: \"Rectangle-path\", x: \"7\", y: \"9\", className: \"st0\", width: \"5.5\", height: \"0.7\" }),\n          React.createElement(\"rect\", { id: \"Rectangle-path_1_\", x: \"7\", y: \"10\", className: \"st0\", width: \"5.5\", height: \"0.7\" }),\n          React.createElement(\"rect\", { id: \"Rectangle-path_2_\", x: \"7\", y: \"12\", className: \"st0\", width: \"5.5\", height: \"0.7\" }),\n          React.createElement(\"rect\", { id: \"Rectangle-path_3_\", x: \"7\", y: \"13\", className: \"st0\", width: \"2.8\", height: \"0.7\" })\n        );\n      case 'dash':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"rect\", { x: \"9\", y: \"15\", width: \"14\", height: \"2\" })\n        );\n      case 'edit':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"rect\", { x: \"24.379\", y: \"1.257\", transform: \"matrix(0.7071 -0.7071 0.7071 0.7071 3.8726 20.3492)\", width: \"4.243\", height: \"8.485\" }),\n          React.createElement(\"path\", { d: \"M5,21l6,6l15-15l-6-6L5,21z M11,24.171L7.828,21L20,8.829L23.172,12L11,24.171z\" }),\n          React.createElement(\"polygon\", { points: \"1,31 6,29 3,26\" })\n        );\n      case 'eye':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M12 4.5c-5 0-9.27 3.11-11 7.5 1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zm0 12.5c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z\" })\n        );\n      case 'close-cross':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M19 6.41l-1.41-1.41-5.59 5.59-5.59-5.59-1.41 1.41 5.59 5.59-5.59 5.59 1.41 1.41 5.59-5.59 5.59 5.59 1.41-1.41-5.59-5.59z\" })\n        );\n      case 'chevron-right':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M10 6l-1.41 1.41 4.58 4.59-4.58 4.59 1.41 1.41 6-6z\" })\n        );\n      case 'expand-more':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M16.59 8.59l-4.59 4.58-4.59-4.58-1.41 1.41 6 6 6-6z\" })\n        );\n      case 'mail':\n        return React.createElement(\n          \"g\",\n          { id: \"Layer_1\" },\n          React.createElement(\"path\", { d: \"M16,4L1,12v1v15h30V13v-1L16,4z M7,11h18v4.2L16,20l-9-4.8V11z M29,26H3V14.066L16,21l13-6.934V26z\" })\n        );\n      case 'role':\n        return React.createElement(\n          \"g\",\n          { id: \"Layer_1\" },\n          React.createElement(\"path\", { d: \"M18,5V1h-4v4H6v26h20V5H18z M16,2c0.552,0,1,0.448,1,1s-0.448,1-1,1s-1-0.448-1-1S15.448,2,16,2z M24,29H8V7h6v2h4V7h6V29z \" }),\n          React.createElement(\"path\", { d: \"M16,11c-2.762,0-5,2.238-5,5s2.238,5,5,5s5-2.238,5-5S18.762,11,16,11z M16,19c-1.654,0-3-1.346-3-3s1.346-3,3-3s3,1.346,3,3S17.654,19,16,19z\" }),\n          React.createElement(\"path\", { d: \"M12,23c-1.104,0-2,0.896-2,2v2h12v-2c0-1.104-0.896-2-2-2H12z\" })\n        );\n      case 'add-new':\n        return React.createElement(\n          \"g\",\n          { id: \"Layer_1\" },\n          React.createElement(\"path\", { d: \"M12,1C5.926,1,1,5.925,1,12s4.926,11,11,11s11-4.925,11-11S18.074,1,12,1z M17,13h-4v4h-2v-4H7v-2h4V7h2v4h4V13z\" }),\n          React.createElement(\"path\", { d: \"M12,1C5.926,1,1,5.925,1,12s4.926,11,11,11s11-4.925,11-11S18.074,1,12,1z M17,13h-4v4h-2v-4H7v-2h4V7h2v4h4V13z\" })\n        );\n      case 'download':\n        return React.createElement(\n          \"g\",\n          { id: \"Layer_1\" },\n          React.createElement(\"polygon\", { points: \"24.708,13.707 23.294,12.292 17,18.587 17,2 15,2 15,18.585 8.708,12.292 7.294,13.707 16.001,22.414 \\t\" }),\n          React.createElement(\"polygon\", { points: \"29,19 29,27 3,27 3,19 1,19 1,27 1,31 3,31 29,31 31,31 31,27 31,19 \\t\" })\n        );\n      case 'bee':\n        return React.createElement(\n          \"g\",\n          { id: \"Group\" },\n          React.createElement(\"path\", { d: \"M21.686,14 L38.313,14 C36.52,11.59 33.467,10 30,10 C26.533,10 23.48,11.59 21.687,14 L21.686,14 Z M20.064,18 C20.022,18.328 19.999,18.662 19.999,19 L19.999,22 L39.999,22 L39.999,19 C39.999,18.662 39.976,18.328 39.934,18 L20.064,18 L20.064,18 Z M19.999,29 C19.999,29.338 20.022,29.672 20.064,30 L39.934,30 C39.976,29.672 39.999,29.338 39.999,29 L39.999,26 L19.999,26 L19.999,29 L19.999,29 Z M29.999,38 C33.467,38 36.519,36.41 38.312,34 L21.686,34 C23.478,36.41 26.531,38 29.999,38 L29.999,38 Z M4.459,16.1 C3.609,16.453 2.809,16.972 2.115,17.665 C1.422,18.358 0.903,19.157 0.55,20.009 C0.185,20.892 0,21.832 0,22.772 C0,23.715 0.185,24.655 0.55,25.539 C0.904,26.393 1.423,27.191 2.116,27.884 C2.808,28.577 3.609,29.096 4.46,29.45 C5.340001,29.814 6.275001,30 7.212,30 L7.242,30 C8.178,30 9.112,29.814 9.992,29.45 C10.847,29.096 11.644,28.577 12.337,27.88501 C13.029,27.193 13.55,26.395 13.903,25.54 L19.999,10 L4.459,16.1 L4.459,16.1 Z M12.054,24.775 C11.79,25.412 11.408,25.982 10.921,26.47 C10.434,26.956 9.864,27.337 9.225,27.6 C8.588,27.866 7.92,28 7.211,28 C6.529,28 5.861,27.866 5.229,27.605 C4.585,27.335 4.014,26.955 3.529,26.469 C3.043,25.983 2.663,25.412 2.399,24.773 C2.131999,24.133 1.999,23.461 1.999,22.77 C1.999,22.085 2.131999,21.41401 2.397,20.77401 C2.663,20.13401 3.044,19.56401 3.529,19.07801 C4.014,18.59301 4.586,18.21201 5.189,17.96101 L16.462,13.53701 L12.054,24.77701 L12.054,24.775 Z M59.449,20.008 C59.094,19.156 58.576,18.358 57.883,17.664 C57.191,16.972 56.39,16.452 55.538,16.098 L39.999,10 L46.097,25.54 C46.451,26.394 46.971,27.192 47.663,27.885 C48.355,28.577 49.153,29.097 50.007,29.449 C50.887,29.813 51.822,29.999 52.757,29.999 L52.788,29.999 C53.724,29.999 54.66,29.813 55.538,29.449 C56.39,29.096 57.19,28.577 57.883,27.884 C58.576,27.192 59.095,26.394 59.448,25.539 C59.814,24.655 60,23.716 59.998,22.772 C59.998,21.832 59.813,20.892 59.448,20.007 L59.449,20.008 Z M57.599,24.775 C57.336,25.415 56.955,25.985 56.469,26.471 C55.985,26.955 55.413,27.337 54.776,27.604 C54.136,27.867 53.469,28.001 52.758,28.001 C52.078,28.001 51.408,27.867 50.77,27.601 C50.133,27.339 49.564,26.958 49.077,26.471 C48.589,25.984 48.207,25.413 47.957,24.811 L43.534,13.537 L54.77,17.947 C55.41,18.213 55.982,18.594 56.467,19.07899 C56.953,19.56499 57.334,20.13599 57.597,20.77299 C57.864,21.41499 57.997,22.08599 57.997,22.77599 C57.997,23.46299 57.864,24.13599 57.597,24.77599 L57.599,24.775 Z M24.999,8 C27.209,8 28.999,6.21 28.999,4 C28.999,1.79 27.209,0 24.999,0 C22.789,0 20.999,1.79 20.999,4 C20.999,6.21 22.789,8 24.999,8 L24.999,8 Z M24.999,2 C26.102,2 26.999,2.896 26.999,4 C26.999,5.104 26.102,6 24.999,6 C23.896,6 22.999,5.104 22.999,4 C22.999,2.896 23.896,2 24.999,2 L24.999,2 Z M34.999,8 C37.209,8 38.999,6.21 38.999,4 C38.999,1.79 37.209,0 34.999,0 C32.789,0 30.999,1.79 30.999,4 C30.999,6.21 32.789,8 34.999,8 L34.999,8 Z M34.999,2 C36.102,2 36.999,2.896 36.999,4 C36.999,5.104 36.102,6 34.999,6 C33.896,6 32.999,5.104 32.999,4 C32.999,2.896 33.896,2 34.999,2 L34.999,2 Z\", id: \"Page-1-Copy-7\" })\n        );\n      case 'line-graph':\n        return React.createElement(\n          \"g\",\n          { id: \"Page-1-Copy\" },\n          React.createElement(\"path\", { d: \"M12.94,18 L17.939,18 L17.939,11.118 L12.94,11.118 L12.94,18 Z M13.94,12.118 L16.94,12.118 L16.94,17.001 L13.94,17.001 L13.94,12.118 Z\", id: \"Fill-1\" }),\n          React.createElement(\"path\", { d: \"M6.47,18 L11.469,18 L11.469,17 L6.47,17 L6.47,18 Z\", id: \"Fill-2\" }),\n          React.createElement(\"path\", { d: \"M6.47,15.686 L11.469,15.686 L11.469,14.686 L6.47,14.686 L6.47,15.686 Z\", id: \"Fill-3\" }),\n          React.createElement(\"path\", { d: \"M6.47,13.372 L11.469,13.372 L11.469,12.372 L6.47,12.372 L6.47,13.372 Z\", id: \"Fill-4\" }),\n          React.createElement(\"path\", { d: \"M6.47,11.058 L11.469,11.058 L11.469,10.058 L6.47,10.058 L6.47,11.058 Z\", id: \"Fill-5\" }),\n          React.createElement(\"path\", { d: \"M6.47,8.744 L11.469,8.744 L11.469,7.743 L6.47,7.743 L6.47,8.744 Z\", id: \"Fill-6\" }),\n          React.createElement(\"path\", { d: \"M0,18 L5,18 L5,0.069 L0,0.069 L0,18 Z\", id: \"Fill-7\" })\n        );\n      case 'gauge':\n        return React.createElement(\n          \"g\",\n          { id: \"Page-1\", stroke: \"none\", strokeWidth: \"1\", fill: \"none\", fillRule: \"evenodd\" },\n          React.createElement(\n            \"g\",\n            { id: \"Group-9\", transform: \"translate(3.000000, 3.000000)\" },\n            React.createElement(\"path\", { d: \"M2.4863,13.0507 C-0.4697,10.0947 -0.4697,5.3017 2.4863,2.3457 C5.4423,-0.6103 10.2353,-0.6103 13.1913,2.3457 C16.1473,5.3017 16.1473,10.0947 13.1913,13.0507\", id: \"Stroke-76\", stroke: \"#3C3C3B\", strokeWidth: \"5\" }),\n            React.createElement(\"path\", { d: \"M7.8388,18.0507 C9.2198,18.0507 10.3388,16.9317 10.3388,15.5507 C10.3388,14.1697 9.2198,13.0507 7.8388,13.0507 C6.4578,13.0507 5.3388,14.1697 5.3388,15.5507 C5.3388,16.9317 6.4578,18.0507 7.8388,18.0507\", id: \"Fill-78\", fill: \"#3C3C3B\" }),\n            React.createElement(\"path\", { d: \"M7.8388,15.5507 L7.8388,6.5897\", id: \"Stroke-80\", stroke: \"#3C3C3B\" })\n          )\n        );\n      case 'bar-chart':\n        return React.createElement(\n          \"g\",\n          { id: \"Group-7\", transform: \"translate(2.000000, 0.000000)\" },\n          React.createElement(\"path\", { d: \"M0.9889,0.0854 L0.9889,17.9264\", id: \"Stroke-63\", stroke: \"#3C3C3B\", strokeWidth: \"5\" }),\n          React.createElement(\"path\", { d: \"M16.339,12.661 L11.339,12.661 L11.339,17.926 L16.339,17.926 L16.339,12.661 Z M15.339,16.926 L12.339,16.926 L12.339,13.661 L15.339,13.661 L15.339,16.926 Z\", id: \"Fill-64\", fill: \"#3C3C3B\" }),\n          React.createElement(\"path\", { d: \"M7.3215,17.9264 L7.3215,16.9114\", id: \"Stroke-65\", stroke: \"#3C3C3B\", strokeWidth: \"5\" }),\n          React.createElement(\"path\", { d: \"M7.3215,15.8014 L7.3215,14.7864\", id: \"Stroke-66\", stroke: \"#3C3C3B\", strokeWidth: \"5\" }),\n          React.createElement(\"path\", { d: \"M7.3215,13.6764 L7.3215,12.6614\", id: \"Stroke-67\", stroke: \"#3C3C3B\", strokeWidth: \"5\" }),\n          React.createElement(\"path\", { d: \"M7.3215,11.5514 L7.3215,10.5364\", id: \"Stroke-68\", stroke: \"#3C3C3B\", strokeWidth: \"5\" }),\n          React.createElement(\"path\", { d: \"M7.3215,9.4264 L7.3215,8.4114\", id: \"Stroke-69\", stroke: \"#3C3C3B\", strokeWidth: \"5\" })\n        );\n      case 'connected-devices':\n        return React.createElement(\n          \"g\",\n          { id: \"Page-1\", stroke: \"none\", strokeWidth: \"1\", fill: \"none\", fillRule: \"evenodd\" },\n          React.createElement(\n            \"g\",\n            { id: \"Group-3\" },\n            React.createElement(\"path\", { d: \"M12.5798,15.8594 C13.9608,15.8594 15.0798,14.7404 15.0798,13.3594 C15.0798,11.9784 13.9608,10.8594 12.5798,10.8594 C11.1988,10.8594 10.0798,11.9784 10.0798,13.3594 C10.0798,14.7404 11.1988,15.8594 12.5798,15.8594\", id: \"Fill-20\", fill: \"#3C3C3B\" }),\n            React.createElement(\"path\", { d: \"M12.5801,17.8594 C10.0991,17.8594 8.0801,15.8404 8.0801,13.3594 C8.0801,10.8784 10.0991,8.8594 12.5801,8.8594 C15.0611,8.8594 17.0801,10.8784 17.0801,13.3594 C17.0801,15.8404 15.0611,17.8594 12.5801,17.8594 L12.5801,17.8594 Z\", id: \"Stroke-21\", stroke: \"#3C3C3B\" }),\n            React.createElement(\"path\", { d: \"M20.0798,5.8594 C21.4608,5.8594 22.5798,4.7404 22.5798,3.3594 C22.5798,1.9784 21.4608,0.8594 20.0798,0.8594 C18.6988,0.8594 17.5798,1.9784 17.5798,3.3594 C17.5798,4.7404 18.6988,5.8594 20.0798,5.8594\", id: \"Fill-22\", fill: \"#3C3C3B\" }),\n            React.createElement(\"path\", { d: \"M2.5798,10.8594 C3.9608,10.8594 5.0798,9.7404 5.0798,8.3594 C5.0798,6.9784 3.9608,5.8594 2.5798,5.8594 C1.1988,5.8594 0.0798,6.9784 0.0798,8.3594 C0.0798,9.7404 1.1988,10.8594 2.5798,10.8594\", id: \"Fill-23\", fill: \"#3C3C3B\" }),\n            React.createElement(\"path\", { d: \"M2.1246,8.3594 L8.5076,11.4384\", id: \"Stroke-24\", stroke: \"#3C3C3B\" }),\n            React.createElement(\"path\", { d: \"M20.0798,3.3594 L15.3188,9.8994\", id: \"Stroke-25\", stroke: \"#3C3C3B\" })\n          )\n        );\n      case 'device-types':\n        return React.createElement(\n          \"g\",\n          { id: \"Page-1\", stroke: \"none\", strokeWidth: \"1\", fill: \"none\", fillRule: \"evenodd\" },\n          React.createElement(\n            \"g\",\n            { id: \"Group-2\", transform: \"translate(0.000000, 1.000000)\" },\n            React.createElement(\"path\", { d: \"M18.988,18.976 L0.5,18.976 L0.5,0.488 L18.988,0.488 L18.988,18.976 Z\", id: \"Stroke-13\", stroke: \"#3C3C3B\" }),\n            React.createElement(\"path\", { d: \"M2.3746,2.2473 L3.6136,2.2473\", id: \"Stroke-15\", stroke: \"#3C3C3B\" }),\n            React.createElement(\"path\", { d: \"M4.1246,2.2473 L5.3636,2.2473\", id: \"Stroke-16\", stroke: \"#3C3C3B\" }),\n            React.createElement(\"path\", { d: \"M15.8746,2.2473 L17.1136,2.2473\", id: \"Stroke-17\", stroke: \"#3C3C3B\" }),\n            React.createElement(\"path\", { d: \"M14.7683,9.9819 C14.7683,12.7569 12.5193,15.0059 9.7443,15.0059 C6.9693,15.0059 4.7203,12.7569 4.7203,9.9819 C4.7203,7.2069 6.9693,4.9579 9.7443,4.9579 C12.5193,4.9579 14.7683,7.2069 14.7683,9.9819\", id: \"Fill-18\", fill: \"#3C3C3B\" }),\n            React.createElement(\"path\", { d: \"M6.3668,9.9819 C6.3668,8.1169 7.8788,6.6039 9.7438,6.6039\", id: \"Stroke-19\", stroke: \"#FFFFFF\" })\n          )\n        );\n      case 'dot-empty':\n        return React.createElement(\n          \"g\",\n          { id: \"Page-1\", stroke: \"none\", strokeWidth: \"1\", fill: \"none\", fillRule: \"evenodd\" },\n          React.createElement(\n            \"g\",\n            { id: \"Artboard-4-Copy\", transform: \"translate(-914.000000, -466.000000)\", stroke: \"#3C3C3B\" },\n            React.createElement(\"ellipse\", { id: \"Oval-10-Copy\", cx: \"918.5\", cy: \"470.5\", rx: \"3.5\", ry: \"3.5\" })\n          )\n        );\n      case 'dot-full':\n        return React.createElement(\n          \"g\",\n          { id: \"Page-1\", stroke: \"none\", strokeWidth: \"1\", fill: \"none\", fillRule: \"evenodd\" },\n          React.createElement(\n            \"g\",\n            { id: \"Artboard-4-Copy\", transform: \"translate(-894.000000, -466.000000)\", stroke: \"#3C3C3B\", fill: \"#3C3C3B\" },\n            React.createElement(\"ellipse\", { id: \"Oval-10-Copy\", cx: \"898.5\", cy: \"470.5\", rx: \"3.5\", ry: \"3.5\" })\n          )\n        );\n      case 'horizontal-seperator':\n        return React.createElement(\n          \"g\",\n          { id: \"Page-1\", stroke: \"none\", strokeWidth: \"1\", fill: \"none\", fillRule: \"evenodd\" },\n          React.createElement(\"path\", { d: \"M0.2509,3.3819 L21.1429,3.3819\", id: \"Stroke-58\", stroke: \"#3C3C3B\", strokeWidth: \"5\" })\n        );\n      case 'line-chart':\n        return React.createElement(\n          \"g\",\n          { id: \"Page-1\", stroke: \"none\", strokeWidth: \"1\", fill: \"none\", fillRule: \"evenodd\" },\n          React.createElement(\n            \"g\",\n            { id: \"Group-6\" },\n            React.createElement(\"path\", { d: \"M8.5723,14.9209 C9.9533,14.9209 11.0723,13.8019 11.0723,12.4209 C11.0723,11.0399 9.9533,9.9209 8.5723,9.9209 C7.1913,9.9209 6.0723,11.0399 6.0723,12.4209 C6.0723,13.8019 7.1913,14.9209 8.5723,14.9209\", id: \"Fill-26\", fill: \"#3C3C3B\" }),\n            React.createElement(\"path\", { d: \"M15.0627,5.5368 C16.4437,5.5368 17.5627,4.4178 17.5627,3.0368 C17.5627,1.6558 16.4437,0.5368 15.0627,0.5368 C13.6817,0.5368 12.5627,1.6558 12.5627,3.0368 C12.5627,4.4178 13.6817,5.5368 15.0627,5.5368\", id: \"Fill-27\", fill: \"#3C3C3B\" }),\n            React.createElement(\"path\", { d: \"M20.936,10.6948 C22.317,10.6948 23.436,9.5758 23.436,8.1948 C23.436,6.8138 22.317,5.6948 20.936,5.6948 C19.555,5.6948 18.436,6.8138 18.436,8.1948 C18.436,9.5758 19.555,10.6948 20.936,10.6948\", id: \"Fill-28\", fill: \"#3C3C3B\" }),\n            React.createElement(\"path\", { d: \"M2.6535,7.2864 C4.0345,7.2864 5.1535,6.1674 5.1535,4.7864 C5.1535,3.4054 4.0345,2.2864 2.6535,2.2864 C1.2725,2.2864 0.1535,3.4054 0.1535,4.7864 C0.1535,6.1674 1.2725,7.2864 2.6535,7.2864\", id: \"Fill-29\", fill: \"#3C3C3B\" }),\n            React.createElement(\"path\", { d: \"M2.6535,4.7864 L8.5725,12.4204 L15.0625,3.0724 L20.9365,8.1944\", id: \"Stroke-30\", stroke: \"#3C3C3B\" })\n          )\n        );\n      case 'overview':\n        return React.createElement(\n          \"g\",\n          { id: \"Page-1\", stroke: \"none\", strokeWidth: \"1\", fill: \"none\", fillRule: \"evenodd\" },\n          React.createElement(\n            \"g\",\n            { id: \"Group\", stroke: \"#3C3C3B\" },\n            React.createElement(\"path\", { d: \"M13.3303,13.0401 C10.5043,15.8661 5.9223,15.8661 3.0953,13.0401 C0.2693,10.2141 0.2693,5.6321 3.0953,2.8051 C5.9223,-0.0209 10.5043,-0.0209 13.3303,2.8051 C16.1563,5.6321 16.1563,10.2141 13.3303,13.0401 L13.3303,13.0401 Z\", id: \"Stroke-59\" }),\n            React.createElement(\"path\", { d: \"M3.0956,13.0401 L13.3306,2.8051\", id: \"Stroke-60\" }),\n            React.createElement(\"path\", { d: \"M3.0956,2.8055 L13.3306,13.0405\", id: \"Stroke-61\" }),\n            React.createElement(\"path\", { d: \"M10.8447,10.5545 C8.0187,13.3805 4.5487,14.4935 3.0957,13.0405 C1.6417,11.5865 2.7547,8.1175 5.5807,5.2905 C8.4077,2.4645 11.8767,1.3515 13.3307,2.8055 C14.7837,4.2585 13.6707,7.7285 10.8447,10.5545 L10.8447,10.5545 Z\", id: \"Stroke-62\" })\n          )\n        );\n      case 'paste':\n        return React.createElement(\n          \"g\",\n          { id: \"Group-10\" },\n          React.createElement(\"path\", { id: \"Shape\", className: \"st0\", d: \"M8.7,3.2V0H0v12.8h3.3V16H12V3.2H8.7L8.7,3.2z M10.9,14.9H4.4V4.3h6.5V14.9L10.9,14.9z\" }),\n          React.createElement(\"rect\", { id: \"Rectangle-path\", x: \"5.5\", y: \"6.4\", className: \"st0\", width: \"4.4\", height: \"0.5\" }),\n          React.createElement(\"rect\", { id: \"Rectangle-path_1_\", x: \"5.5\", y: \"7.5\", className: \"st0\", width: \"4.4\", height: \"0.5\" }),\n          React.createElement(\"rect\", { id: \"Rectangle-path_2_\", x: \"5.5\", y: \"8.5\", className: \"st0\", width: \"4.4\", height: \"0.5\" }),\n          React.createElement(\"rect\", { id: \"Rectangle-path_3_\", x: \"5.5\", y: \"9.6\", className: \"st0\", width: \"2.2\", height: \"0.5\" })\n        );\n      case 'pie-chart':\n        return React.createElement(\n          \"g\",\n          { id: \"Page-1\", stroke: \"none\", strokeWidth: \"1\", fill: \"none\", fillRule: \"evenodd\" },\n          React.createElement(\n            \"g\",\n            { id: \"Group-8\", transform: \"translate(0.000000, -2.000000)\" },\n            React.createElement(\"path\", { d: \"M10.7812,4.6677 C14.9622,4.6677 18.3512,8.0567 18.3512,12.2377 C18.3512,16.4177 14.9622,19.8067 10.7812,19.8067 C6.6002,19.8067 3.2112,16.4177 3.2112,12.2377\", id: \"Stroke-70\", stroke: \"#3C3C3B\", strokeWidth: \"5\" }),\n            React.createElement(\"path\", { d: \"M9.5314,0.5909 L9.5314,9.7879\", id: \"Fill-71\", fill: \"#3C3C3B\" }),\n            React.createElement(\n              \"g\",\n              { id: \"Group-75\", transform: \"translate(0.000000, 1.000000)\" },\n              React.createElement(\n                \"mask\",\n                { id: \"mask-2\", fill: \"white\" },\n                React.createElement(\"use\", { href: \"#path-1\" })\n              ),\n              React.createElement(\"g\", { id: \"Clip-74\" }),\n              React.createElement(\"path\", { d: \"M3.2116,11.2372 C3.2116,7.0562 6.6006,3.6672 10.7816,3.6672\", id: \"Stroke-73\", stroke: \"#3C3C3B\", strokeWidth: \"5\", mask: \"url(#mask-2)\" })\n            )\n          )\n        );\n      case 'line-graph2':\n        return React.createElement(\n          \"g\",\n          { id: \"Group\" },\n          React.createElement(\"path\", { d: \"M19.6049314,1 L8.39641356,12.2071729 L3.58565424,7.39641356 L2,7.98206781 L8.39641356,14.3771365 L19.6049314,3.16996358 L24.4156907,7.98206781 L26.0013449,7.39641356 L19.6049314,1 Z\", id: \"Page-1\" }),\n          React.createElement(\"circle\", { id: \"Oval-10-Copy\", cx: \"8.5\", cy: \"12.5\", r: \"2.5\" }),\n          React.createElement(\"circle\", { id: \"Oval-10-Copy-2\", cx: \"19.5\", cy: \"2.5\", r: \"2.5\" }),\n          React.createElement(\"circle\", { id: \"Oval-10-Copy-3\", cx: \"25.5\", cy: \"7.5\", r: \"2.5\" }),\n          React.createElement(\"circle\", { id: \"Oval-10\", cx: \"2.5\", cy: \"7.5\", r: \"2.5\" })\n        );\n      case 'storage-consumption':\n        return React.createElement(\n          \"g\",\n          { id: \"Page-1\", stroke: \"none\", strokeWidth: \"1\", fill: \"none\", fillRule: \"evenodd\" },\n          React.createElement(\n            \"g\",\n            { id: \"Group-4\" },\n            React.createElement(\"path\", { d: \"M18.08,5.107 L0.744,5.107 L0.744,0.107 L18.08,0.107 L18.08,5.107 Z\", id: \"Fill-31\", fill: \"#3C3C3B\" }),\n            React.createElement(\"path\", { d: \"M2.0424,2.6068 L3.2814,2.6068\", id: \"Stroke-32\", stroke: \"#FFFFFF\" }),\n            React.createElement(\"path\", { d: \"M3.7924,2.6068 L5.0314,2.6068\", id: \"Stroke-33\", stroke: \"#FFFFFF\" }),\n            React.createElement(\"path\", { d: \"M15.5424,2.6068 L16.7814,2.6068\", id: \"Stroke-34\", stroke: \"#FFFFFF\" }),\n            React.createElement(\"path\", { d: \"M18.08,9.197 L0.744,9.197 L0.744,6.197 L18.08,6.197 L18.08,9.197 Z\", id: \"Fill-35\", fill: \"#3C3C3B\" }),\n            React.createElement(\"path\", { d: \"M2.0424,7.697 L3.2814,7.697\", id: \"Stroke-36\", stroke: \"#FFFFFF\" }),\n            React.createElement(\"path\", { d: \"M3.7924,7.697 L5.0314,7.697\", id: \"Stroke-37\", stroke: \"#FFFFFF\" }),\n            React.createElement(\"path\", { d: \"M15.5424,7.697 L16.7814,7.697\", id: \"Stroke-38\", stroke: \"#FFFFFF\" }),\n            React.createElement(\"path\", { d: \"M18.08,15.287 L0.744,15.287 L0.744,10.287 L18.08,10.287 L18.08,15.287 Z\", id: \"Fill-39\", fill: \"#3C3C3B\" }),\n            React.createElement(\"path\", { d: \"M2.0424,12.7873 L3.2814,12.7873\", id: \"Stroke-40\", stroke: \"#FFFFFF\" }),\n            React.createElement(\"path\", { d: \"M3.7924,12.7873 L5.0314,12.7873\", id: \"Stroke-41\", stroke: \"#FFFFFF\" }),\n            React.createElement(\"path\", { d: \"M15.5424,12.7873 L16.7814,12.7873\", id: \"Stroke-42\", stroke: \"#FFFFFF\" })\n          )\n        );\n      case 'rule':\n        return React.createElement(\n          \"g\",\n          { id: \"Page-1\", stroke: \"none\", strokeWidth: \"1\", fill: \"#3C3C3B\", fillRule: \"evenodd\" },\n          React.createElement(\"rect\", { id: \"Rectangle-path\", x: \"0.00076076233\", y: \"18.2612552\", width: \"12.9984785\", height: \"1.27096234\" }),\n          React.createElement(\"path\", { d: \"M0.00076076233,0.467782451 L0.00076076233,3.00970713 L0.00076076233,16.9902929 L12.9992392,16.9902929 L12.9992392,3.00970713 L12.9992392,0.467782451 L0.00076076233,0.467782451 L0.00076076233,0.467782451 Z M11.6993914,15.7193305 L1.30060861,15.7193305 L1.30060861,4.28066947 L11.6993914,4.28066947 L11.6993914,15.7193305 L11.6993914,15.7193305 Z\", id: \"Shape\" }),\n          React.createElement(\"rect\", { id: \"Rectangle-path\", x: \"2.60045646\", y: \"9.36451883\", width: \"7.79908709\", height: \"0.63548117\" }),\n          React.createElement(\"rect\", { id: \"Rectangle-path\", x: \"2.60045646\", y: \"6.82259415\", width: \"7.79908709\", height: \"0.63548117\" }),\n          React.createElement(\"rect\", { id: \"Rectangle-path\", x: \"2.60045646\", y: \"11.9064435\", width: \"7.79908709\", height: \"0.63548117\" })\n        );\n      case 'deleted-rule':\n        return React.createElement(\n          \"g\",\n          { id: \"Page-1\" },\n          React.createElement(\"polygon\", { id: \"Fill-1\", className: \"st0\", points: \"3,17.1 14,17.1 14,16 3,16 \\t\\t\\t\" }),\n          React.createElement(\"polygon\", { id: \"Fill-1-Copy\", className: \"st0\", points: \"0.8,15.8 15.8,0.8 15.1,0.1 0.1,15.1 \\t\\t\\t\" }),\n          React.createElement(\"polygon\", { id: \"Fill-2\", className: \"st0\", points: \"3,1 3,3.1 3,10.7 4.1,9.6 4.1,4.2 9.5,4.2 12.7,1 \\t\\t\\t\" }),\n          React.createElement(\"polygon\", { id: \"Fill-3\", className: \"st0\", points: \"12.9,5.1 12.9,13.8 4.2,13.8 3.1,14.9 14,14.9 14,4 \\t\\t\\t\" })\n        );\n      case 'star':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z\" })\n        );\n      case 'star-outline':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z\" })\n        );\n      case 'text-based':\n        return React.createElement(\n          \"g\",\n          { id: \"Page-1\", stroke: \"none\", strokeWidth: \"1\", fillRule: \"evenodd\" },\n          React.createElement(\"path\", { d: \"M10.2511681,9.97622275 L7.7465479,4.01586084 L5.27363179,9.97622275 L10.2511681,9.97622275 Z M0.909040527,15.535 L0.909040527,15.1439833 C1.46562557,15.0805749 1.88305809,14.8692167 2.16135061,14.5099023 C2.43964313,14.1505879 2.91696049,13.1748174 3.59331699,11.5825614 L8.1058605,0.96170376 L8.5285812,0.96170376 L13.9182702,13.2311722 C14.2775846,14.0484363 14.5646795,14.5539347 14.7795636,14.7476827 C14.9944477,14.9414306 15.355518,15.0735295 15.8627854,15.1439833 L15.8627854,15.535 L10.3568482,15.535 L10.3568482,15.1439833 C10.9909325,15.0876203 11.3995584,15.0189289 11.5827383,14.937907 C11.7659182,14.8568851 11.8575067,14.6578561 11.8575067,14.340814 C11.8575067,14.2351333 11.8222804,14.0484335 11.7518266,13.7807091 C11.6813728,13.5129846 11.5827389,13.2311736 11.4559221,12.9352677 L10.5576406,10.8533682 L4.89318315,10.8533682 C4.32955273,12.2694896 3.99314087,13.1342971 3.88393748,13.4478165 C3.77473408,13.761336 3.7201332,14.0096819 3.7201332,14.1928618 C3.7201332,14.5592215 3.86808397,14.8128514 4.16398994,14.953759 C4.34716983,15.0383036 4.69238828,15.1017111 5.19965566,15.1439833 L5.19965566,15.535 L0.909040527,15.535 Z\", id: \"A\" })\n        );\n      case 'traffic-consumption':\n        return React.createElement(\n          \"g\",\n          { id: \"Page-1\", stroke: \"none\", strokeWidth: \"1\", fill: \"none\", fillRule: \"evenodd\" },\n          React.createElement(\n            \"g\",\n            { id: \"Group-5\", transform: \"translate(0.000000, 1.000000)\" },\n            React.createElement(\"path\", { d: \"M0.6431,4.3771 L5.8771,4.3771\", id: \"Stroke-43\", stroke: \"#3C3C3B\" }),\n            React.createElement(\"path\", { d: \"M17.5295,4.1658 L17.8035,4.4398 L14.8365,7.4068\", id: \"Stroke-44\", stroke: \"#3C3C3B\" }),\n            React.createElement(\"path\", { d: \"M14.8365,1.4728 L17.5295,4.1658\", id: \"Stroke-45\", stroke: \"#3C3C3B\" }),\n            React.createElement(\"path\", { d: \"M5.7998,10.0021 L1.7398,10.0021\", id: \"Stroke-46\", stroke: \"#3C3C3B\" }),\n            React.createElement(\"path\", { d: \"M4.2269,12.9064 L1.2599,9.9394 L4.2269,6.9724\", id: \"Stroke-47\", stroke: \"#3C3C3B\" }),\n            React.createElement(\"path\", { d: \"M18.5091,10.0021 L8.7401,10.0021\", id: \"Stroke-48\", stroke: \"#3C3C3B\" }),\n            React.createElement(\"path\", { d: \"M8.8832,11.9352 C8.5252,10.6882 8.3002,8.9172 8.3002,6.9462 C8.3002,4.9752 8.5252,3.2042 8.8832,1.9572\", id: \"Stroke-49\", stroke: \"#3C3C3B\" }),\n            React.createElement(\"path\", { d: \"M7.6331,0.1129 C6.6201,0.1129 5.8001,3.1719 5.8001,6.9459 C5.8001,10.7199 6.6201,13.7799 7.6331,13.7799\", id: \"Stroke-50\", stroke: \"#3C3C3B\" }),\n            React.createElement(\"path\", { d: \"M8.8832,11.9352 C9.2112,13.0762 9.6492,13.7792 10.1332,13.7792 C11.1452,13.7792 11.9662,10.7202 11.9662,6.9462 C11.9662,3.1722 11.1452,0.1132 10.1332,0.1132 C9.6492,0.1132 9.2112,0.8162 8.8832,1.9572\", id: \"Stroke-51\", stroke: \"#3C3C3B\" }),\n            React.createElement(\"path\", { d: \"M8.8832,1.9573 C8.5252,3.2043 8.3002,4.9753 8.3002,6.9463 C8.3002,8.9173 8.5252,10.6883 8.8832,11.9353\", id: \"Stroke-52\", stroke: \"#3C3C3B\" }),\n            React.createElement(\"path\", { d: \"M10.1331,0.1129 L7.6331,0.1129\", id: \"Stroke-53\", stroke: \"#3C3C3B\" }),\n            React.createElement(\"path\", { d: \"M10.1331,13.7796 L7.6331,13.7796\", id: \"Stroke-54\", stroke: \"#3C3C3B\" }),\n            React.createElement(\"path\", { d: \"M8.6431,4.3771 L17.8031,4.4391\", id: \"Stroke-55\", stroke: \"#3C3C3B\" }),\n            React.createElement(\"path\", { d: \"M8.6939,11.6981 C8.6609,11.6841 8.6269,11.6701 8.5939,11.6561 C8.5899,11.6631 8.5859,11.6701 8.5819,11.6771 C8.6239,11.6791 8.6529,11.6941 8.6939,11.6981\", id: \"Fill-56\", fill: \"#3C3C3B\" }),\n            React.createElement(\"path\", { d: \"M8.7032,12.0734 L8.7032,12.0734 C8.1662,10.7214 7.8712,8.9004 7.8712,6.9464 C7.8712,4.9924 8.1662,3.1714 8.7032,1.8194 L8.7032,1.8194 C9.0092,1.0464 9.3792,0.4804 9.8072,0.1134 L7.6402,0.1134 L7.6402,0.3034 L7.6402,0.6134 C7.1062,0.6134 5.8002,2.8324 5.8002,6.9464 C5.8002,11.0604 7.1062,13.2794 7.6402,13.2794 L7.6402,13.4864 L7.6402,13.7794 L9.8072,13.7794 C9.3792,13.4124 9.0092,12.8464 8.7032,12.0734\", id: \"Fill-57\", fill: \"#3C3C3B\" })\n          )\n        );\n      case 'BrokenCard':\n        return React.createElement(\n          \"g\",\n          { id: \"Group-18\" },\n          React.createElement(\"polygon\", { points: \"30.6667 22.0557 37.2497 28.6737 39.4177 26.4937 30.6667 17.6947 15.3337 33.1107 8.7507 26.4937 6.5827 28.6737 15.3337 37.4727\" }),\n          React.createElement(\"path\", { d: \"M45.2,22.4 C44.952,22.4 44.711,22.377 44.467,22.363 L44.467,41.458 L1.533,41.458 L1.533,13.708 L33.518,13.708 C33.184,12.597 33,11.42 33,10.2 C33,8.722 33.276,7.311 33.758,6 L0,6 L0,12.167 L0,43 L46,43 L46,22.36 C45.734,22.377 45.47,22.4 45.2,22.4\" }),\n          React.createElement(\"polygon\", { points: \"48.2857 6 45.1577 9.128 42.0297 6 40.9997 7.03 44.1277 10.158 40.9997 13.286 42.0297 14.316 45.1577 11.188 48.2857 14.316 49.3157 13.286 46.1877 10.158 49.3157 7.03\" }),\n          React.createElement(\"path\", { d: \"M35,10.2 C35,15.833 39.567,20.4 45.2,20.4 C50.833,20.4 55.4,15.833 55.4,10.2 C55.4,4.567 50.833,0 45.2,0 C39.567,0 35,4.567 35,10.2 M45.2,18.486 C40.631,18.486 36.914,14.769 36.914,10.2 C36.914,5.631 40.631,1.914 45.2,1.914 C49.769,1.914 53.486,5.631 53.486,10.2 C53.486,14.769 49.769,18.486 45.2,18.486\" })\n        );\n      case 'Usage':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M19.35 10.04c-.68-3.45-3.71-6.04-7.35-6.04-2.89 0-5.4 1.64-6.65 4.04-3.01.32-5.35 2.87-5.35 5.96 0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zm-.35 7.96h-13c-2.21 0-4-1.79-4-4s1.79-4 4-4h.71c.66-2.31 2.77-4 5.29-4 3.04 0 5.5 2.46 5.5 5.5v.5h1.5c1.66 0 3 1.34 3 3s-1.34 3-3 3z\" })\n        );\n      case 'Alert':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M14.4 6l-.4-2h-9v17h2v-7h5.6l.4 2h7v-10z\" })\n        );\n      case 'Basic':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M19.35 10.04c-.68-3.45-3.71-6.04-7.35-6.04-2.89 0-5.4 1.64-6.65 4.04-3.01.32-5.35 2.87-5.35 5.96 0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zm-.35 7.96h-13c-2.21 0-4-1.79-4-4s1.79-4 4-4h.71c.66-2.31 2.77-4 5.29-4 3.04 0 5.5 2.46 5.5 5.5v.5h1.5c1.66 0 3 1.34 3 3s-1.34 3-3 3z\" })\n        );\n      case 'Devices':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M15 9h-6v6h6v-6zm-2 4h-2v-2h2v2zm8-2v-2h-2v-2c0-1.1-.9-2-2-2h-2v-2h-2v2h-2v-2h-2v2h-2c-1.1 0-2 .9-2 2v2h-2v2h2v2h-2v2h2v2c0 1.1.9 2 2 2h2v2h2v-2h2v2h2v-2h2c1.1 0 2-.9 2-2v-2h2v-2h-2v-2h2zm-4 6h-10v-10h10v10z\" })\n        );\n      case 'favorite':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M12 21.35l-1.45-1.32c-5.15-4.67-8.55-7.75-8.55-11.53 0-3.08 2.42-5.5 5.5-5.5 1.74 0 3.41.81 4.5 2.09 1.09-1.28 2.76-2.09 4.5-2.09 3.08 0 5.5 2.42 5.5 5.5 0 3.78-3.4 6.86-8.55 11.54l-1.45 1.31z\" })\n        );\n      case 'favorite-outline':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M16.5 3c-1.74 0-3.41.81-4.5 2.09-1.09-1.28-2.76-2.09-4.5-2.09-3.08 0-5.5 2.42-5.5 5.5 0 3.78 3.4 6.86 8.55 11.54l1.45 1.31 1.45-1.32c5.15-4.67 8.55-7.75 8.55-11.53 0-3.08-2.42-5.5-5.5-5.5zm-4.4 15.55l-.1.1-.1-.1c-4.76-4.31-7.9-7.16-7.9-10.05 0-2 1.5-3.5 3.5-3.5 1.54 0 3.04.99 3.57 2.36h1.87c.52-1.37 2.02-2.36 3.56-2.36 2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z\" })\n        );\n      case 'Sample':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M11.99 2c-5.52 0-9.99 4.48-9.99 10s4.47 10 9.99 10c5.53 0 10.01-4.48 10.01-10s-4.48-10-10.01-10zm.01 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5-1.5.67-1.5 1.5.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5-1.5.67-1.5 1.5.67 1.5 1.5 1.5zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5h-10.22c.8 2.04 2.78 3.5 5.11 3.5z\" })\n        );\n      case 'Custom':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M20.5 11h-1.5v-4c0-1.1-.9-2-2-2h-4v-1.5c0-1.38-1.12-2.5-2.5-2.5s-2.5 1.12-2.5 2.5v1.5h-4c-1.1 0-1.99.9-1.99 2v3.8h1.49c1.49 0 2.7 1.21 2.7 2.7s-1.21 2.7-2.7 2.7h-1.5v3.8c0 1.1.9 2 2 2h3.8v-1.5c0-1.49 1.21-2.7 2.7-2.7 1.49 0 2.7 1.21 2.7 2.7v1.5h3.8c1.1 0 2-.9 2-2v-4h1.5c1.38 0 2.5-1.12 2.5-2.5s-1.12-2.5-2.5-2.5z\" })\n        );\n      case 'Test':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M14.4 6l-.4-2h-9v17h2v-7h5.6l.4 2h7v-10z\" })\n        );\n      case 'camera':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M9.4 10.5l4.77-8.26c-.7-.15-1.42-.24-2.17-.24-2.4 0-4.6.85-6.32 2.25l3.66 6.35.06-.1zm12.14-1.5c-.92-2.92-3.15-5.26-6-6.34l-3.66 6.34h9.66zm.26 1h-7.49l.29.5 4.76 8.25c1.64-1.78 2.64-4.14 2.64-6.75 0-.69-.07-1.35-.2-2zm-13.26 2l-3.9-6.75c-1.63 1.78-2.64 4.14-2.64 6.75 0 .69.07 1.35.2 2h7.49l-1.15-2zm-6.08 3c.92 2.92 3.15 5.26 6 6.34l3.66-6.34h-9.66zm11.27 0l-3.9 6.76c.7.15 1.42.24 2.17.24 2.4 0 4.6-.85 6.32-2.25l-3.66-6.35-.93 1.6z\" })\n        );\n      case 'map':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M20.5 3l-.16.03-5.34 2.07-6-2.1-5.64 1.9c-.21.07-.36.25-.36.48v15.12c0 .28.22.5.5.5l.16-.03 5.34-2.07 6 2.1 5.64-1.9c.21-.07.36-.25.36-.48v-15.12c0-.28-.22-.5-.5-.5zm-5.5 16l-6-2.11v-11.89l6 2.11v11.89z\" })\n        );\n      case 'menu':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M3 18h18v-2h-18v2zm0-5h18v-2h-18v2zm0-7v2h18v-2h-18z\" })\n        );\n      case 'CRITICAL':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M12 2c-5.53 0-10 4.47-10 10s4.47 10 10 10 10-4.47 10-10-4.47-10-10-10zm5 13.59l-1.41 1.41-3.59-3.59-3.59 3.59-1.41-1.41 3.59-3.59-3.59-3.59 1.41-1.41 3.59 3.59 3.59-3.59 1.41 1.41-3.59 3.59 3.59 3.59z\" })\n        );\n      case 'GOOD':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M9 16.17l-4.17-4.17-1.42 1.41 5.59 5.59 12-12-1.41-1.41z\" })\n        );\n      case 'FAIR':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M9 16.17l-4.17-4.17-1.42 1.41 5.59 5.59 12-12-1.41-1.41z\" })\n        );\n      case 'radio-button-on':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\" })\n        );\n      case 'check':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M9 16.17l-4.17-4.17-1.42 1.41 5.59 5.59 12-12-1.41-1.41z\" })\n        );\n      case 'search':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M15.5 14h-.79l-.28-.27c.98-1.14 1.57-2.62 1.57-4.23 0-3.59-2.91-6.5-6.5-6.5s-6.5 2.91-6.5 6.5 2.91 6.5 6.5 6.5c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99 1.49-1.49-4.99-5zm-6 0c-2.49 0-4.5-2.01-4.5-4.5s2.01-4.5 4.5-4.5 4.5 2.01 4.5 4.5-2.01 4.5-4.5 4.5z\" })\n        );\n      case 'dots':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\" })\n        );\n      case 'arrow-drop-up':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M7 14l5-5 5 5z\" })\n        );\n      case 'arrow-drop-down':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M7 10l5 5 5-5z\" })\n        );\n      case 'more-vert':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\" })\n        );\n      case 'delete':\n        // trashicon from design team\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M4.46428571,1.5 L10.4166667,1.5 L10.4166667,0 L4.46428571,0 L4.46428571,1.5 Z M0,2.24985 L0,5.99985 L0.744047619,5.99985 L0.744047619,20.99985 L14.1369048,20.99985 L14.1369048,5.99985 L14.8809524,5.99985 L14.8809524,2.24985 L0,2.24985 Z M2.23214286,7.49985 L12.6488095,7.49985 L12.6488095,19.49985 L2.23214286,19.49985 L2.23214286,7.49985 Z M3.7202381,18 L4.46428571,18 L4.46428571,8.99925 L3.7202381,8.99925 L3.7202381,18 Z M5.95238095,18 L6.69642857,18 L6.69642857,8.99925 L5.95238095,8.99925 L5.95238095,18 Z M8.18452381,18 L8.92857143,18 L8.92857143,8.99925 L8.18452381,8.99925 L8.18452381,18 Z M10.4166667,18 L11.1607143,18 L11.1607143,8.99925 L10.4166667,8.99925 L10.4166667,18 Z\" })\n        );\n      case 'fullscreen-exit':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M5 16h3v3h2v-5h-5v2zm3-8h-3v2h5v-5h-2v3zm6 11h2v-3h3v-2h-5v5zm2-11v-3h-2v5h5v-2h-3z\" })\n        );\n      case 'highlight-remove':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M14.59 8l-2.59 2.59-2.59-2.59-1.41 1.41 2.59 2.59-2.59 2.59 1.41 1.41 2.59-2.59 2.59 2.59 1.41-1.41-2.59-2.59 2.59-2.59-1.41-1.41zm-2.59-6c-5.53 0-10 4.47-10 10s4.47 10 10 10 10-4.47 10-10-4.47-10-10-10zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\" })\n        );\n      case 'fullscreen':\n        // fullscreen icon from design team\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M0,-0.0002375 L0,3.16722083 L0,18.9997625 L24,18.9997625 L24,-0.0002375 L0,-0.0002375 Z M1.6,4.7497625 L22.4,4.7497625 L22.4,17.4164292 L1.6,17.4164292 L1.6,4.7497625 Z M14.1656,14.0180417 L19.2,9.03608333 L19.2,12.6666667 L20.8,12.6666667 L20.8,6.33333333 L14.4,6.33333333 L14.4,7.91666667 L18.0688,7.91666667 L13.0344,12.898625 L14.1656,14.0180417 Z\" })\n        );\n      case 'remove':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M19 13h-14v-2h14v2z\" })\n        );\n      case 'undo':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M12.5 8c-2.65 0-5.05.99-6.9 2.6l-3.6-3.6v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78c-1.39-4.19-5.32-7.22-9.97-7.22z\" })\n        );\n      case 'settings':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M11,14 C9.345,14 8,12.657 8,11 C8,9.343 9.345,8 11,8 C12.655,8 14,9.343 14,11 C14,12.657 12.655,14 11,14 M19.433,11 C19.433,10.549 19.388,10.11 19.319,9.678 L22,7.333 L19.723,3.595 L16.526,4.639 C15.762,3.975 14.877,3.449 13.909,3.092 L13.2,0 L8.8,0 L8.091,3.092 C7.123,3.449 6.238,3.975 5.474,4.64 L2.277,3.595 L0,7.333 L2.68,9.679 C2.612,10.11 2.567,10.549 2.567,11 C2.567,11.451 2.612,11.89 2.68,12.321 L0,14.667 L2.278,18.405 L5.474,17.36 C6.238,18.025 7.123,18.551 8.091,18.908 L8.8,22 L13.2,22 L13.909,18.908 C14.877,18.551 15.762,18.025 16.526,17.361 L19.722,18.405 L22,14.667 L19.319,12.322 C19.388,11.89 19.433,11.451 19.433,11\" })\n        );\n      case 'add-circle-outline':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M13 7h-2v4h-4v2h4v4h2v-4h4v-2h-4v-4zm-1-5c-5.52 0-10 4.48-10 10s4.48 10 10 10 10-4.48 10-10-4.48-10-10-10zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\" })\n        );\n      case 'save':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M17 3h-12c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-12l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10h-10v-4h10v4z\" })\n        );\n      case 'restore':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M13 3c-4.97 0-9 4.03-9 9h-3l3.89 3.89.07.14 4.04-4.03h-3c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42c1.63 1.63 3.87 2.64 6.36 2.64 4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08v-4.25h-1.5z\" })\n        );\n      case 'apps':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M4 8h4v-4h-4v4zm6 12h4v-4h-4v4zm-6 0h4v-4h-4v4zm0-6h4v-4h-4v4zm6 0h4v-4h-4v4zm6-10v4h4v-4h-4zm-6 4h4v-4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z\" })\n        );\n      case 'arrow-down':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M7.41 7.84l4.59 4.58 4.59-4.58 1.41 1.41-6 6-6-6z\" })\n        );\n      case 'arrow-up':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M7.41 15.41l4.59-4.58 4.59 4.58 1.41-1.41-6-6-6 6z\" })\n        );\n      case 'info':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M11 17h2v-6h-2v6zm1-15c-5.52 0-10 4.48-10 10s4.48 10 10 10 10-4.48 10-10-4.48-10-10-10zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-11h2v-2h-2v2z\" })\n        );\n      case 'date':\n        return React.createElement(\n          \"g\",\n          { fill: \"#1D394D\", fillRule: \"evenodd\" },\n          React.createElement(\"path\", { d: \"M13 1V0h-2v1H5V0H3v1H0v15h16V1h-3zm1 13H2V5h12v9z\" }),\n          React.createElement(\"path\", { d: \"M4 7h2v2H4V7zm6 0h2v2h-2V7zM7 7h2v2H7V7zm-3 3h2v2H4v-2zm6 0h2v2h-2v-2zm-3 0h2v2H7v-2z\" })\n        );\n      case 'blueInfo':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { fill: \"#5C91CC\", d: \"M11,0C4.9,0,0,4.9,0,11s4.9,11,11,11s11-4.9,11-11S17.1,0,11,0z M12.8,18.2H9.2V8.9h3.6V18.2z M12.8,7.4H9.2 V4.3h3.6V7.4z\" })\n        );\n      case 'dashboard':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M3 13h8v-10h-8v10zm0 8h8v-6h-8v6zm10 0h8v-10h-8v10zm0-18v6h8v-6h-8z\" })\n        );\n      case 'grade':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M12 17.27l6.18 3.73-1.64-7.03 5.46-4.73-7.19-.61-2.81-6.63-2.81 6.63-7.19.61 5.46 4.73-1.64 7.03z\" })\n        );\n      case 'lock':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M18 8h-1v-2c0-2.76-2.24-5-5-5s-5 2.24-5 5v2h-1c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9h-6.2v-2c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z\" })\n        );\n      case 'location':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M12 2c-3.87 0-7 3.13-7 7 0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z\" })\n        );\n      case 'play-arrow':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M8 5v14l11-7z\" })\n        );\n      case 'circle-filled':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z\" })\n        );\n      case 'sync':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M12 4v-3l-4 4 4 4v-3c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46c.78-1.23 1.24-2.69 1.24-4.26 0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8l-1.46-1.46c-.78 1.23-1.24 2.69-1.24 4.26 0 4.42 3.58 8 8 8v3l4-4-4-4v3z\" })\n        );\n      case 'refresh':\n        // refresh icon from design team\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M8.88679436,20.5188676 C4.80331235,20.5188676 1.48113239,17.1966876 1.48113239,13.1132056 C1.48113239,9.02972363 4.80331235,5.70754368 8.88679436,5.70754368 L13.7641633,5.70754368 L10.5849126,8.88679436 L11.6320732,9.93395496 L16.5990507,4.96697748 L11.6320732,0 L10.5849126,1.0471606 L13.7641633,4.22641128 L8.88679436,4.22641128 C3.98646784,4.22641128 0,8.21287912 0,13.1132056 C0,18.0135322 3.98646784,22 8.88679436,22 C11.260309,22 13.491635,21.0757734 15.1704985,19.3969098 L14.1233379,18.3497492 C12.7244084,19.7486788 10.8648467,20.5188676 8.88679436,20.5188676\" })\n        );\n      case 'headset-mic':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M12 1c-4.97 0-9 4.03-9 9v7c0 1.66 1.34 3 3 3h3v-8h-4v-2c0-3.87 3.13-7 7-7s7 3.13 7 7v2h-4v8h4v1h-7v2h6c1.66 0 3-1.34 3-3v-10c0-4.97-4.03-9-9-9z\" })\n        );\n      case 'bug-report':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96l1.63-1.63-1.41-1.41-2.17 2.17c-.46-.11-.93-.17-1.42-.17-.49 0-.96.06-1.41.17l-2.18-2.17-1.41 1.41 1.62 1.63c-.74.51-1.36 1.18-1.81 1.96h-2.81v2h2.09c-.05.33-.09.66-.09 1v1h-2v2h2v1c0 .34.04.67.09 1h-2.09v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3h2.81v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1h2.09v-2zm-6 8h-4v-2h4v2zm0-4h-4v-2h4v2z\" })\n        );\n      case 'message':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M20 2h-16c-1.1 0-1.99.9-1.99 2l-.01 18 4-4h14c1.1 0 2-.9 2-2v-12c0-1.1-.9-2-2-2zm-2 12h-12v-2h12v2zm0-3h-12v-2h12v2zm0-3h-12v-2h12v2z\" })\n        );\n      case 'messenger':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M20 2h-16c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2v-12c0-1.1-.9-2-2-2z\" })\n        );\n      case 'instant-mix':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M7 4H5v5h2V4zm12 0h-2v9h2V4zM3 13h2v7h2v-7h2v-2H3v2zm12-6h-2V4h-2v3H9v2h6V7zm-4 13h2v-9h-2v9zm4-5v2h2v3h2v-3h2v-2h-6z\" })\n        );\n      case 'home':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M10 20v-6h4v6h5v-8h3l-10-9-10 9h3v8z\" })\n        );\n      case 'error':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M12 2c-5.52 0-10 4.48-10 10s4.48 10 10 10 10-4.48 10-10-4.48-10-10-10zm1 15h-2v-2h2v2zm0-4h-2v-6h2v6z\" })\n        );\n      case 'warn':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M16.2,13.5L8.7,0.4c-0.3-0.5-0.7-0.5-1,0L0.1,13.5c-0.3,0.5,0,0.9,0.5,0.9h15.1 C16.3,14.3,16.5,13.9,16.2,13.5z M9.2,12.9h-2V11h2V12.9z M9.2,7.2L9,10.4H7.4L7.1,7.2V4.3h2.1V7.2z\" })\n        );\n      case 'warning':\n        return React.createElement(\n          \"g\",\n          { id: \"Warning\" },\n          React.createElement(\"path\", { d: \"M62.5,10.5l-60,104h120L62.5,10.5z M62.5,18.504l53.074,91.996H9.426L62.5,18.504z\" }),\n          React.createElement(\"polygon\", { points: \"58.5,54.5 58.5,62.5 60.5,82.5 64.5,82.5 66.5,62.5 66.5,54.5\" }),\n          React.createElement(\"circle\", { cx: \"62.5\", cy: \"90.5\", r: \"4\" })\n        );\n\n      // for demos\n      case 'elevator':\n        return React.createElement(\n          \"g\",\n          { id: \"Page-1\", stroke: \"#3C3C3B\", fill: \"none\", strokeWidth: \"1\", fillRule: \"evenodd\" },\n          React.createElement(\n            \"g\",\n            { id: \"Group-11\" },\n            React.createElement(\"path\", { d: \"M23.477,12.633 L8.609,12.633 L8.609,0.508 L23.477,0.508 L23.477,12.633 Z\", id: \"Stroke-5\" }),\n            React.createElement(\"path\", { d: \"M16.0428,12.633 L16.0428,0.508\", id: \"Stroke-6\" }),\n            React.createElement(\"path\", { d: \"M3.3297,10.0326 L3.3297,3.9696\", id: \"Stroke-7\" }),\n            React.createElement(\"path\", { d: \"M0.4254,6.4563 L3.3924,3.4893 L6.3594,6.4563\", id: \"Stroke-8\" }),\n            React.createElement(\"path\", { d: \"M28.7559,3.4895 L28.7559,9.5525\", id: \"Stroke-9\" }),\n            React.createElement(\"path\", { d: \"M31.6602,7.0658 L28.6932,10.0328 L25.7262,7.0658\", id: \"Stroke-10\", s: true })\n          )\n        );\n      case 'weatherService':\n        return React.createElement(\n          \"g\",\n          { id: \"Page-1\", stroke: \"none\", strokeWidth: \"1\", fillRule: \"evenodd\" },\n          React.createElement(\n            \"g\",\n            { id: \"Group-10\" },\n            React.createElement(\"path\", { d: \"M19.5047,5.8701 C19.4827,5.8701 19.4627,5.8731 19.4407,5.8731 C19.0467,3.0931 16.6637,0.9531 13.7747,0.9531 C11.5457,0.9531 9.6187,2.2281 8.6707,4.0861 C8.2977,4.0211 7.9167,3.9811 7.5257,3.9811 C3.8387,3.9811 0.8507,6.9691 0.8507,10.6561 C0.8507,14.3421 3.8387,17.3311 7.5257,17.3311 L19.5047,17.3311 C22.6697,17.3311 25.2347,14.7651 25.2347,11.6001 C25.2347,8.4361 22.6697,5.8701 19.5047,5.8701 L19.5047,5.8701 Z\", id: \"Stroke-11\" })\n          )\n        );\n      case 'sport':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M14 3.8c.99 0 1.8-.81 1.8-1.8 0-1-.81-1.8-1.8-1.8-1 0-1.8.81-1.8 1.8s.8 1.8 1.8 1.8zm.12 6.2h4.88v-1.8h-3.62l-2-3.33c-.3-.5-.84-.83-1.46-.83-.17 0-.34.03-.49.07l-5.43 1.69v5.2h1.8v-3.67l2.11-.66-3.91 15.33h1.8l2.87-8.11 2.33 3.11v5h1.8v-6.41l-2.49-4.54.73-2.87 1.08 1.82z\" })\n        );\n      case 'visibility':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M12 4.5c-5 0-9.27 3.11-11 7.5 1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zm0 12.5c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z\" })\n        );\n      case 'visibility-off':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16c.57-.23 1.18-.36 1.83-.36zm-10-2.73l2.28 2.28.46.46c-1.66 1.29-2.96 3.01-3.74 4.99 1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42 2.93 2.92 1.27-1.27-17.73-17.73-1.27 1.27zm5.53 5.53l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z\" })\n        );\n      case 'previousPage':\n        return React.createElement(\n          \"g\",\n          { id: \"Rule-Break-(Luke)\", stroke: \"none\", strokeWidth: \"1\", fill: \"none\", fillRule: \"evenodd\" },\n          React.createElement(\n            \"g\",\n            { id: \"Prev-Page\", fill: \"#838383\" },\n            React.createElement(\"polygon\", { id: \"Shape\", points: \"4.61236111 0.0316666667 0.0582253086 5 4.61236111 9.96833333 5.57282407 8.92055556 1.97881173 5 5.57282407 1.07944444\" })\n          )\n        );\n      case 'up':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M12 8l-6 6 1.41 1.41 4.59-4.58 4.59 4.58 1.41-1.41z\" })\n        );\n      case 'down':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M16.59 8.59l-4.59 4.58-4.59-4.58-1.41 1.41 6 6 6-6z\" })\n        );\n      case 'nextPage':\n        return React.createElement(\n          \"g\",\n          { id: \"Rule-Break-(Luke)\", stroke: \"none\", strokeWidth: \"1\", fill: \"none\", fillRule: \"evenodd\" },\n          React.createElement(\n            \"g\",\n            { id: \"Next-Page\", transform: \"translate(3.000000, 5.000000) rotate(-180.000000) translate(-3.000000, -5.000000) \", fill: \"#838383\" },\n            React.createElement(\"polygon\", { id: \"Shape\", points: \"4.61236111 0.0316666667 0.0582253086 5 4.61236111 9.96833333 5.57282407 8.92055556 1.97881173 5 5.57282407 1.07944444\" })\n          )\n        );\n      case 'firstPage':\n        return React.createElement(\n          \"g\",\n          { id: \"Rule-Break-(Luke)\", stroke: \"none\", strokeWidth: \"1\", fill: \"none\", fillRule: \"evenodd\" },\n          React.createElement(\n            \"g\",\n            { id: \"First-page\", fill: \"#838383\" },\n            React.createElement(\"polygon\", { id: \"Shape\", points: \"4.61236111 0.0316666667 0.0582253086 5 4.61236111 9.96833333 5.57282407 8.92055556 1.97881173 5 5.57282407 1.07944444\" }),\n            React.createElement(\"polygon\", { id: \"Shape\", points: \"9.74569444 0.0316666667 5.19155864 5 9.74569444 9.96833333 10.7061574 8.92055556 7.11214506 5 10.7061574 1.07944444\" })\n          )\n        );\n      case 'lastPage':\n        return React.createElement(\n          \"g\",\n          { id: \"Rule-Break-(Luke)\", stroke: \"none\", strokeWidth: \"1\", fill: \"none\", fillRule: \"evenodd\" },\n          React.createElement(\n            \"g\",\n            { id: \"Last-Page\", transform: \"translate(5.500000, 5.000000) rotate(-180.000000) translate(-5.500000, -5.000000) \", fill: \"#838383\" },\n            React.createElement(\"polygon\", { id: \"Shape\", points: \"4.61236111 0.0316666667 0.0582253086 5 4.61236111 9.96833333 5.57282407 8.92055556 1.97881173 5 5.57282407 1.07944444\" }),\n            React.createElement(\"polygon\", { id: \"Shape\", points: \"9.74569444 0.0316666667 5.19155864 5 9.74569444 9.96833333 10.7061574 8.92055556 7.11214506 5 10.7061574 1.07944444\" })\n          )\n        );\n      case 'invert':\n        return React.createElement(\n          \"g\",\n          { id: \"Access-Copy-7\", transform: \"translate(-891.000000, -252.000000)\", fill: \"#355d7f\" },\n          React.createElement(\"path\", { d: \"M894.3102,268.3 L893.6778,267.668 L892.7293,266.7195 L892.729,266.7198 L892.7286,266.7194 L891.9485,267.4995 L891.7533,267.6945 L893.052,268.9932 L894.9996,270.9414 L895.0003,270.9415 L897.5971,268.3439 L898.2466,267.6944 L897.2706,266.7194 L897.2704,266.7196 L897.2703,266.7195 L895.6902,268.2996 L895.6902,266.67 C895.6902,263.924 897.9242,261.691 900.6692,261.691 L902.2993,261.691 L900.7195,263.2708 L901.6944,264.246 L904.9404,261 L903.9666,260.0259 L901.6944,257.753 L900.8169,258.6314 L900.7195,258.7288 L900.7194,258.729 L901.1938,259.2034 L902.299701,260.31 L900.6692,260.31 C897.1622,260.31 894.3102,263.163 894.3102,266.67 L894.3102,268.3 Z\", id: \"Combined-Shape\" })\n        );\n      case 'AllDeviceProperties':\n        return React.createElement(\n          \"g\",\n          { id: \"Group\" },\n          React.createElement(\"path\", { className: \"a\", d: \"M7.64,14.19a2.57,2.57,0,0,0-5,0H0v1.29H2.66a2.57,2.57,0,0,0,5,0H19.36V14.19H7.64ZM5.15,15.48a0.65,0.65,0,1,1,.65-0.65A0.65,0.65,0,0,1,5.15,15.48Z\" }),\n          React.createElement(\"path\", { className: \"a\", d: \"M16.68,9a2.57,2.57,0,0,0-5,0H0v1.29H11.7a2.57,2.57,0,0,0,5,0h2.67V9H16.68Zm-2.49,1.29a0.65,0.65,0,1,1,.65-0.65A0.65,0.65,0,0,1,14.19,10.31Z\" }),\n          React.createElement(\"path\", { className: \"a\", d: \"M7.64,3.86a2.57,2.57,0,0,0-5,0H0V5.15H2.66a2.57,2.57,0,0,0,5,0H19.36V3.86H7.64ZM5.15,5.15A0.65,0.65,0,1,1,5.79,4.5,0.65,0.65,0,0,1,5.15,5.15Z\" })\n        );\n      case 'DeviceMap':\n        return React.createElement(\n          \"g\",\n          { id: \"Group\", fill: \"#000000\" },\n          React.createElement(\"path\", { d: \"M12.67,3.67l-6-2.25L1.42,2.92V17.17l5.25-1.5,6,2.25,5.25-1.5V2.17ZM5.92,13.79l-3,.75V4l3-.75v10.5Zm6,1.69-4.5-1.69V3.29L11.92,5v10.5Zm4.5-.94-3,.94V5l3-.75V14.54Z\" })\n        );\n      case 'DeviceProperties':\n        return React.createElement(\n          \"g\",\n          { id: \"Group\" },\n          React.createElement(\"path\", { className: \"a\", d: \"M7.64,4.83a2.57,2.57,0,0,0-5,0H0V6.12H2.66a2.57,2.57,0,0,0,5,0H19.36V4.83H7.64ZM5.15,6.12a0.65,0.65,0,1,1,.65-0.65A0.65,0.65,0,0,1,5.15,6.12Z\" }),\n          React.createElement(\"rect\", { x: \"-0.02\", y: \"9.99\", width: \"19.38\", height: \"1.29\" }),\n          React.createElement(\"rect\", { x: \"-0.02\", y: \"15.16\", width: \"19.38\", height: \"1.29\" })\n        );\n      case 'DeviceInfo':\n        return React.createElement(\n          \"g\",\n          { id: \"Group\" },\n          React.createElement(\"path\", { className: \"a\", d: \"M18,11.84h-3V10.48h3A0.46,0.46,0,0,0,18.41,10V9.5A0.46,0.46,0,0,0,18,9h-3V7.58h3a0.46,0.46,0,0,0,.46-0.46V6.59A0.46,0.46,0,0,0,18,6.13h-3V4.33H13.33V1.13A0.46,0.46,0,0,0,12.87.67H12.35a0.46,0.46,0,0,0-.46.46v3.2H10.38V1.16A0.46,0.46,0,0,0,9.92.71H9.39a0.46,0.46,0,0,0-.46.46V4.33H7.46V1.16A0.46,0.46,0,0,0,7,.71H6.48A0.46,0.46,0,0,0,6,1.16V4.33H4.37V6h-3a0.46,0.46,0,0,0-.46.46V7a0.46,0.46,0,0,0,.46.46h3V9h-3a0.46,0.46,0,0,0-.46.46V10a0.46,0.46,0,0,0,.46.46h3V12h-3a0.46,0.46,0,0,0-.46.46v0.52a0.46,0.46,0,0,0,.46.46h3v1.65H6v3.16a0.31,0.31,0,0,0,0,.07l0.36,0.36H7a0.46,0.46,0,0,0,.46-0.46V15H8.92v3.16a0.46,0.46,0,0,0,.46.46H9.9a0.46,0.46,0,0,0,.46-0.46V15h1.51v3.13a0.46,0.46,0,0,0,.46.46h0.53a0.46,0.46,0,0,0,.46-0.46V15h1.62V13.28h3a0.46,0.46,0,0,0,.46-0.46V12.3A0.46,0.46,0,0,0,18,11.84Zm-8.15,2.5a4.67,4.67,0,1,1,4.67-4.67A4.67,4.67,0,0,1,9.84,14.34Z\" }),\n          React.createElement(\"path\", { className: \"a\", d: \"M10.62,7.33a0.78,0.78,0,1,1-.78-0.78,0.78,0.78,0,0,1,.78.78\" }),\n          React.createElement(\"polyline\", { className: \"a\", points: \"10.62 8.89 8.29 8.89 8.29 9.67 9.07 9.67 9.07 12 8.29 12 8.29 12.78 11.4 12.78 11.4 12 10.62 12\" })\n        );\n      case 'DeviceList':\n        return React.createElement(\n          \"g\",\n          { id: \"Group\" },\n          React.createElement(\"path\", { className: \"a\", d: \"M18,11.84h-3V10.48h3A0.46,0.46,0,0,0,18.41,10V9.5A0.46,0.46,0,0,0,18,9h-3V7.58h3a0.46,0.46,0,0,0,.46-0.46V6.59A0.46,0.46,0,0,0,18,6.13h-3V4.33H13.33V1.13A0.46,0.46,0,0,0,12.87.67H12.35a0.46,0.46,0,0,0-.46.46v3.2H10.38V1.17A0.46,0.46,0,0,0,9.92.71H9.4a0.46,0.46,0,0,0-.46.46V4.33H7.47V1.17A0.46,0.46,0,0,0,7,.71H6.48A0.46,0.46,0,0,0,6,1.17V4.33H4.37V6h-3a0.46,0.46,0,0,0-.46.46V7a0.46,0.46,0,0,0,.46.46h3V9h-3a0.46,0.46,0,0,0-.46.46V10a0.46,0.46,0,0,0,.46.46h3V12h-3a0.46,0.46,0,0,0-.46.46v0.52a0.46,0.46,0,0,0,.46.46h3v1.65H6v3.16a0.31,0.31,0,0,0,0,.07l0.37,0.37H7a0.46,0.46,0,0,0,.46-0.46V15H8.92v3.16a0.46,0.46,0,0,0,.46.46H9.9a0.46,0.46,0,0,0,.46-0.46V15h1.51v3.13a0.46,0.46,0,0,0,.46.46h0.53a0.46,0.46,0,0,0,.46-0.46V15h1.62V13.28h3a0.46,0.46,0,0,0,.46-0.46V12.3A0.46,0.46,0,0,0,18,11.84m-8.32,0a2.12,2.12,0,1,1,2.12-2.12,2.12,2.12,0,0,1-2.12,2.12\" })\n        );\n      case 'RuleBreakInfo':\n        return React.createElement(\n          \"g\",\n          { id: \"Group\" },\n          React.createElement(\"rect\", { x: \"3.17\", y: \"17.93\", width: \"13\", height: \"1.27\" }),\n          React.createElement(\"path\", { className: \"a\", d: \"M3.17,0.14V16.66h13V0.14h-13Zm11.7,15.25H4.47V3.95h10.4V15.39Z\" }),\n          React.createElement(\"polyline\", { className: \"a\", points: \"10.7 8.66 8.36 8.66 8.36 9.44 9.14 9.44 9.14 11.78 8.36 11.78 8.36 12.56 11.47 12.56 11.47 11.78 10.7 11.78\" }),\n          React.createElement(\"path\", { className: \"a\", d: \"M10.7,7.11a0.78,0.78,0,1,1-.78-0.78,0.78,0.78,0,0,1,.78.78\" })\n        );\n      case 'RuleBreaks':\n        return React.createElement(\n          \"g\",\n          { id: \"Group\" },\n          React.createElement(\"rect\", { x: \"3.17\", y: \"17.93\", width: \"13\", height: \"1.27\" }),\n          React.createElement(\"path\", { className: \"a\", d: \"M3.17,0.14V16.66h13V0.14h-13Zm11.7,15.25H4.47V3.95h10.4V15.39Z\" }),\n          React.createElement(\"polyline\", { className: \"a\", points: \"8.96 6.45 8.96 7.76 9.31 11.02 10.03 11.02 10.38 7.76 10.38 6.45\" }),\n          React.createElement(\"path\", { className: \"a\", d: \"M10.38,12.33a0.72,0.72,0,1,1-.71-0.65,0.68,0.68,0,0,1,.71.65\" })\n        );\n      case 'Rules':\n        return React.createElement(\n          \"g\",\n          { id: \"Group\" },\n          React.createElement(\"rect\", { x: \"3.17\", y: \"17.93\", width: \"13\", height: \"1.27\" }),\n          React.createElement(\"path\", { className: \"a\", d: \"M3.17,0.14V16.66h13V0.14h-13Zm11.7,15.25H4.47V3.95h10.4V15.39Z\" }),\n          React.createElement(\"rect\", { x: \"5.77\", y: \"9.03\", width: \"7.8\", height: \"0.64\" }),\n          React.createElement(\"rect\", { x: \"5.77\", y: \"6.49\", width: \"7.8\", height: \"0.64\" }),\n          React.createElement(\"rect\", { x: \"5.77\", y: \"11.58\", width: \"7.8\", height: \"0.64\" })\n        );\n      case 'ConnectionSecurity':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M14.72,1.3V2.94L11.2,6.46H9.56V8.1L8.63,9l-.44.44.18.59A3.61,3.61,0,1,1,6,7.65l.59.18L7,7.39,13.08,1.3h1.64M16,0H12.54l-.38.38-6,6A4.92,4.92,0,1,0,9.66,9.84L10.48,9l.38-.38V7.76h.88l.38-.38,3.52-3.53L16,3.48V0Z\" }),\n          React.createElement(\"circle\", { cx: \"3.88\", cy: \"12.14\", r: \"1.03\" }),\n          React.createElement(\"rect\", { x: \"9.95\", y: \"3.62\", width: \"4.38\", height: \"0.52\", transform: \"translate(0.81 9.72) rotate(-45)\" })\n        );\n      case 'PolicyCompliance':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M13.35,7.63V0H3.18V7.63H0v8.9H16.52V7.63ZM4.45,1.27h7.63V7.63H4.45ZM15.25,8.9v6.35h-14V8.9Z\" }),\n          React.createElement(\"rect\", { x: \"5.72\", y: \"3.81\", width: \"5.08\", height: \"0.64\" }),\n          React.createElement(\"rect\", { x: \"5.72\", y: \"5.08\", width: \"5.08\", height: \"0.64\" }),\n          React.createElement(\"polygon\", { points: \"10.17 12.07 6.36 12.07 6.36 11.44 5.72 11.44 5.72 12.07 5.72 12.71 6.36 12.71 10.17 12.71 10.8 12.71 10.8 12.07 10.8 11.44 10.17 11.44 10.17 12.07\" })\n        );\n      case 'Blacklist':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M11.7,1.3V15.22H1.3V1.3H11.7M13,0H0V16.52H13V0Z\" }),\n          React.createElement(\"polygon\", { points: \"10.64 12.9 2.36 12.9 2.36 14.17 10.64 14.17 10.64 12.9 10.64 12.9\" }),\n          React.createElement(\"polygon\", { points: \"8.99 6.49 8.27 5.77 6.5 7.54 4.73 5.77 4 6.49 5.77 8.26 4 10.03 4.73 10.76 6.5 8.99 8.27 10.76 8.99 10.03 7.22 8.26 8.99 6.49\" })\n        );\n      case 'Whitelist':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M11.7,1.3V15.22H1.3V1.3H11.7M13,0H0V16.52H13V0Z\" }),\n          React.createElement(\"polygon\", { points: \"10.64 12.9 2.36 12.9 2.36 14.17 10.64 14.17 10.64 12.9 10.64 12.9\" }),\n          React.createElement(\"polygon\", { points: \"5.52 8.98 3.7 7.16 2.92 7.95 5.52 10.55 10.33 5.74 9.55 4.95 5.52 8.98\" })\n        );\n      case 'Blockchain':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"path\", { d: \"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4v-1.9h-4c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9h-4c-1.71 0-3.1-1.39-3.1-3.1zm4.1 1h8v-2h-8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4v1.9h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z\" })\n        );\n      case 'RiskManagement':\n        return React.createElement(\n          \"g\",\n          null,\n          React.createElement(\"polygon\", { points: \"14.5,21.586 12.207,19.293 10.793,20.707 14.5,24.414 21.207,17.707 19.793,16.293\" }),\n          React.createElement(\"path\", { d: \"M24,12.466V9c0-4.418-3.582-8-8-8c-4.419,0-8,3.582-8,8v3.467C6.145,14.436,5,17.082,5,20c0,6.074,4.926,11,11,11 c6.076,0,11-4.926,11-11C27,17.081,25.855,14.436,24,12.466z M10,9c0-3.309,2.691-6,6-6c3.309,0,6,2.691,6,6v1.788 C20.273,9.661,18.215,9,16,9c-2.215,0-4.273,0.661-6,1.788V9z M16,29c-4.971,0-9-4.029-9-9s4.029-9,9-9c4.971,0,9,4.029,9,9 S20.971,29,16,29z\" })\n        );\n      default:\n        return null;\n    }\n  },\n\n  onClick: function onClick(evt) {\n    if (this.props.onClick) {\n      this.props.onClick(evt);\n    }\n  },\n\n  onEnter: function onEnter(evt) {\n    if (this.props.onEnter) {\n      this.props.onEnter(evt);\n    }\n  },\n\n  onLeave: function onLeave(evt) {\n    if (this.props.onLeave) {\n      this.props.onLeave(evt);\n    }\n  },\n\n  componentWillMount: function componentWillMount() {\n    // If there is no color specified take the theme color or (if the theme is absent) a default color\n    // TODO: this should be state.  props can't change\n    //this.props.color=this.props.color?this.props.color:this.props.theme&&this.props.theme.title||\"#5a5a5a\";\n  },\n\n  loadExternalIcon: function loadExternalIcon(icon, styleIcon) {\n    if (icon.type === 'svg') {\n      return icon;\n    } else if (icon instanceof String) {\n      return React.createElement(\"img\", { src: icon, style: styleIcon });\n    }\n  },\n\n  render: function render() {\n    var iotIcon = '';\n\n    var styleIcon = Object.assign({}, styles.icon, {\n      fill: this.props.color,\n      width: this.props.size,\n      height: this.props.size\n    }, this.props.style);\n\n    if (this.props.disabled) {\n      styleIcon.cursor = \"not-allowed\";\n      styleIcon.opacity = 0.3;\n    }\n\n    iotIcon = this.renderGraphic();\n\n    if (iotIcon) {\n      var viewport = Object.assign({}, { x: 0, y: 0, width: 24, height: 24 }, this.state.viewportCorrection);\n      iotIcon = React.createElement(\n        \"svg\",\n        { viewBox: viewport.x + ' ' + viewport.y + ' ' + viewport.width + ' ' + viewport.height,\n          preserveAspectRatio: \"xMidYMid meet\",\n          style: styleIcon\n        },\n        iotIcon\n      );\n    } else {\n      iotIcon = this.loadExternalIcon(this.props.icon, styleIcon);\n      console.log(iotIcon);\n    }\n\n    return React.createElement(\n      \"span\",\n      { onClick: this.onClick, onMouseEnter: this.onEnter, onMouseLeave: this.onLeave },\n      iotIcon\n    );\n  }\n});\n\nmodule.exports = Icon;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/IconLink.jsx\":[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\nvar RPT = React.PropTypes;\nvar Icon = require('./Icon.jsx');\n\nvar styles = {\n\tcontainer: {\n\t\tcursor: \"pointer\"\n\t},\n\taction: {\n\t\tverticalAlign: \"middle\",\n\t\tmargin: \"4px\"\n\t},\n\tlabel: {\n\t\tmarginLeft: \"5px\"\n\t}\n};\n\nvar IconLink = React.createClass({\n\tdisplayName: 'IconLink',\n\n\tpropTypes: {\n\t\tstyle: RPT.object,\n\t\ttheme: RPT.object.isRequired,\n\t\ticon: RPT.string,\n\t\tcolor: RPT.string,\n\t\tsize: RPT.number,\n\t\taction: RPT.func\n\t},\n\n\tgetDefaultProps: function getDefaultProps() {\n\t\treturn {\n\t\t\tsize: 24\n\t\t\t// color default is set in componentWillMount\n\t\t};\n\t},\n\n\tonClick: function onClick() {\n\t\tif (this.props.action) {\n\t\t\tthis.props.action();\n\t\t}\n\t},\n\n\tcomponentWillMount: function componentWillMount() {\n\t\t// TODO: this should be state.  props can't change\n\t\t//this.props.color=this.props.color?this.props.color:this.props.theme&&this.props.theme.major||\"#5a5a5a\";\n\t},\n\n\trender: function render() {\n\t\tvar styleContainer = Object.assign({}, this.props.style, styles.container);\n\t\tvar linkLabel = Object.assign({}, styles.label, {\n\t\t\tlineHeight: this.props.size + \"px\",\n\t\t\tcolor: this.props.color\n\t\t});\n\n\t\treturn React.createElement(\n\t\t\t'div',\n\t\t\t{ style: styleContainer, onClick: this.onClick },\n\t\t\tReact.createElement(Icon, { icon: this.props.icon,\n\t\t\t\tcolor: this.props.color,\n\t\t\t\tsize: this.props.size,\n\t\t\t\tstyle: { verticalAlign: \"middle\" },\n\t\t\t\ttheme: this.props.theme\n\t\t\t}),\n\t\t\tReact.createElement(\n\t\t\t\t'span',\n\t\t\t\t{ style: linkLabel },\n\t\t\t\tthis.props.children\n\t\t\t)\n\t\t);\n\t}\n});\n\nmodule.exports = IconLink;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./Icon.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Icon.jsx\"}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Image.jsx\":[function(require,module,exports){\n(function (global){\n\"use strict\";\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\nvar RPT = React.PropTypes;\n\nvar styles = {\n    imageWrapper: {\n        width: \"inherit\",\n        height: \"inherit\"\n    },\n    imageError: {\n        height: \"100%\",\n        width: \"100%\",\n        display: \"table\"\n    },\n    imageErrorText: {\n        display: \"table-cell\",\n        verticalAlign: \"middle\",\n        textAlign: \"center\"\n    }\n};\n\n// TODO Called IoTImage because of Namespace conflicts -> Fix this\nvar Image = React.createClass({\n    displayName: \"Image\",\n\n    propTypes: {\n        url: RPT.string,\n        width: RPT.number,\n        height: RPT.number,\n        style: RPT.object,\n        onError: RPT.func\n    },\n\n    getDefaultProps: function getDefaultProps() {\n        return {};\n    },\n\n    getInitialState: function getInitialState() {\n        return {\n            url: this.props.url ? this.props.url : \"\",\n            width: this.props.width ? this.props.width + \"px\" : \"\",\n            height: this.props.height ? this.props.height + \"px\" : \"\",\n            error: false\n        };\n    },\n\n    componentWillReceiveProps: function componentWillReceiveProps(props) {\n        this.setState({ error: false });\n        console.log(props.url);\n        this.setState({ url: props.url });\n        if (this.state.width !== props.width) {\n            this.setState({ width: props.width });\n        }\n        if (this.state.height !== props.height) {\n            this.setState({ height: props.height });\n        }\n    },\n\n    handleError: function handleError(e) {\n        if (typeof this.props.onError === 'function') {\n            this.props.onError(e.target.value);\n        } else {\n            this.setState({ error: true });\n        }\n    },\n\n    onLoad: function onLoad(e) {\n        if (typeof this.props.onLoad === 'function') {\n            this.props.onLoad(e);\n        }\n    },\n\n    render: function render() {\n        var errorMsg = \"\";\n\n        var image = React.createElement(\"img\", { width: this.state.width, height: this.state.height, src: this.state.url, onError: this.handleError, onLoad: this.onLoad, style: this.props.style });\n\n        if (this.state.error && this.state.url !== \"\") {\n            errorMsg = React.createElement(\n                \"div\",\n                { style: styles.imageError },\n                React.createElement(\n                    \"span\",\n                    { style: styles.imageErrorText },\n                    \"No image available\"\n                )\n            );\n            image = \"\";\n        }\n\n        return React.createElement(\n            \"div\",\n            { style: styles.imageWrapper },\n            image,\n            errorMsg\n        );\n    }\n});\n\nmodule.exports = Image;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Information.jsx\":[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\n\nvar Icon = require('./Icon.jsx');\nvar SimpleDialog = require('./SimpleDialog.jsx');\nvar Button = require('./Button.jsx');\n\nvar RPT = React.PropTypes;\n\nvar styles = {\n  title: {\n    fontSize: \"25px\",\n    height: \"30px\",\n    width: \"330px\",\n    marginBottom: \"8px\",\n    marginTop: \"20px\"\n  },\n  text: {\n    fontSize: \"14px\",\n    width: \"385px\",\n    height: \"50px\"\n  },\n  buttons: {\n    float: \"right\"\n  },\n  icon: {\n    display: \"block\",\n    margin: \"20px auto\",\n    width: \"44px\"\n  },\n  iconContainer: {\n    position: \"absolute\",\n    top: \"0px\",\n    left: \"0px\",\n    width: \"100px\"\n\n  },\n  container: {\n    position: \"relative\"\n\n  },\n  content: {\n    position: \"relative\",\n    marginLeft: \"100px\"\n  }\n};\n\nvar Information = React.createClass({\n  displayName: 'Information',\n\n  propTypes: {\n    style: RPT.object,\n    theme: RPT.object.isRequired,\n    nls: RPT.object,\n    onSubmit: RPT.func,\n    icon: RPT.string,\n    submitText: RPT.string,\n    title: RPT.string,\n    text: RPT.string,\n    width: RPT.number,\n    height: RPT.number\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      icon: \"info\"\n    };\n  },\n\n  componentDidMount: function componentDidMount() {},\n\n  onSubmit: function onSubmit() {\n    if (this.props.onSubmit) {\n      this.props.onSubmit();\n    }\n  },\n\n  render: function render() {\n    var self = this;\n\n    var titleStyle = Object.assign({}, styles.title, { color: this.props.theme.major });\n    var textStyle = Object.assign({}, styles.text, { color: this.props.theme.minor });\n\n    var submitText = this.props.submitText ? this.props.submitText : this.props.nls.resolve(\"Dialog.Submit\");\n    var title = this.props.title ? this.props.title : this.props.nls.resolve(\"Dialog.Alert\");\n    var text = this.props.text ? this.props.text : this.props.nls.resolve(\"Dialog.AreUSure\");\n    var iconColor = this.props.theme.accent;\n\n    return React.createElement(\n      SimpleDialog,\n      { theme: this.props.theme, nls: this.props.nls, onCancel: this.onCancel },\n      React.createElement(\n        'div',\n        { style: styles.container },\n        React.createElement(\n          'div',\n          { style: styles.iconContainer },\n          React.createElement(Icon, { style: styles.icon, theme: this.props.theme, color: iconColor, size: 44, icon: this.props.icon })\n        ),\n        React.createElement(\n          'div',\n          { style: styles.content },\n          React.createElement(\n            'div',\n            { style: titleStyle },\n            title\n          ),\n          React.createElement(\n            'div',\n            { style: textStyle },\n            text\n          ),\n          React.createElement(\n            'div',\n            { style: styles.buttons },\n            React.createElement(Button, { onClick: this.onSubmit, isPrimary: true, style: { marginRight: \"0px\", marginBottom: \"0px\" }, text: submitText })\n          )\n        )\n      )\n    );\n  }\n});\n\nmodule.exports = Information;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./Button.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Button.jsx\",\"./Icon.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Icon.jsx\",\"./SimpleDialog.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/SimpleDialog.jsx\"}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/InputField.jsx\":[function(require,module,exports){\n(function (global){\n'use strict';\n\n/*global require, module */\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\nvar RPT = React.PropTypes;\nvar re_weburl = require('../../Dashboard/utils/regex-weburl');\nvar re_email = require('../../Dashboard/utils/regex-email');\n\nvar styles = {\n  field: {\n    border: 'none',\n    borderBottom: '3px solid #9EAAA9',\n    boxShadow: 'none!important',\n    display: 'block',\n    position: 'relative',\n    width: '100%',\n    height: '42px',\n    //  padding: '8px 0px',\n    fontWeight: 'bold',\n    fontSize: '14px',\n    color: '#555',\n    outline: 'none',\n    lineHeight: '1.42857143',\n    boxSizing: 'border-box',\n    WebkitTransition: 'all .2s ease-in-out',\n    transition: 'all .2s ease-in-out',\n    backgroundColor: 'transparent',\n    left: '0px !important',\n    paddingLeft: '0px !important'\n  },\n  fieldContainer: {\n    width: '100%',\n    float: 'left'\n  },\n  validationWarning: {\n    position: 'relative',\n    top: '-25px',\n    textAlign: 'right',\n    height: '0px',\n    paddingRight: '10px'\n  },\n  after: {\n    clear: 'both'\n  },\n  disabled: {\n    cursor: 'not-allowed',\n    color: '#9EAAA9'\n  },\n  warningMessage: {\n    color: '#d10e0e'\n  }\n};\n\nvar InputField = React.createClass({\n  displayName: 'InputField',\n\n\n  propTypes: {\n    theme: RPT.object.isRequired,\n    style: RPT.object,\n    containerStyle: RPT.object,\n    onChange: RPT.func,\n    onSubmit: RPT.func,\n    initialValue: RPT.string,\n    isInvalid: RPT.bool,\n    placeholder: RPT.string,\n    readOnly: RPT.bool,\n    required: RPT.bool,\n    noTyping: RPT.bool,\n    noUnderscore: RPT.bool,\n    min: RPT.number,\n    max: RPT.number,\n    type: RPT.string,\n    warning: RPT.string\n  },\n\n  validated: false,\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      initialValue: '',\n      isInvalid: false,\n      type: 'text',\n      style: { label: {} },\n      readOnly: false,\n      noTyping: false,\n      noUnderscore: false,\n      required: false\n    };\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      value: this.props.initialValue !== undefined ? this.props.initialValue : '',\n      isValid: !this.props.isInvalid || !this.props.required || this.props.initialValue\n    };\n  },\n\n  validateType: function validateType(value) {\n    var currType = this.props.type || 'text';\n    var isValid = true;\n\n    switch (currType) {\n      case 'url':\n        isValid = value.match(re_weburl) !== null;\n        break;\n      case 'email':\n        isValid = value.match(re_email) !== null;\n        break;\n      case 'text':\n        isValid = !this.props.required || value.length > 0;\n        break;\n    }\n    if (this.props.isInvalid) {\n      isValid = false;\n    }\n    this.validated = true;\n    if (this.state.isValid !== isValid) {\n      this.setState({ isValid: isValid });\n    }\n    return isValid;\n  },\n\n  componentWillReceiveProps: function componentWillReceiveProps(props) {\n    if (props.value) {\n      this.setState({ value: props.value });\n    }\n    if (props.isInvalid != this.props.isInvalid) {\n      this.setState({ isValid: !props.isInvalid });\n    }\n  },\n\n  handleChange: function handleChange(event) {\n    this.setState({\n      value: event.target.value\n    });\n    if (this.props.onChange) {\n      this.props.onChange(event.target.value);\n    }\n    this.validateType(event.target.value);\n  },\n\n  handleSubmit: function handleSubmit(event) {\n    if (event.key == \"Enter\") {\n      if (this.validateType(event.target.value) && this.props.onSubmit) {\n        this.props.onSubmit(event.target.value);\n      }\n    }\n  },\n\n  handleOnFocus: function handleOnFocus(event) {\n    if (!this.props.readOnly) {\n      this.setState({\n        hasFocus: true\n      });\n      if (this.props.onFocus) {\n        this.props.onFocus(event.target.value);\n      }\n    }\n  },\n\n  handleClick: function handleClick(event) {\n    if (!this.props.readOnly) {\n      this.setState({\n        hasFocus: true\n      });\n      if (this.props.onClick) {\n        this.props.onClick(event.target.value);\n      }\n    }\n  },\n\n  handleOnBlur: function handleOnBlur(event) {\n    this.setState({\n      hasFocus: false\n    });\n    if (this.props.onBlur) {\n      this.props.onBlur(event.target.value);\n    }\n    this.validateType(event.target.value);\n  },\n\n  render: function render() {\n    var warning = \"\";\n    var warningMessage = \"\";\n    if (!this.state.isValid && this.validated) {\n      if (this.props.warning) {\n        warningMessage = React.createElement(\n          'div',\n          { style: styles.warningMessage },\n          this.props.warning\n        );\n      } else {\n        warning = React.createElement(\n          'div',\n          { style: styles.validationWarning },\n          '!'\n        );\n      }\n    }\n    if (this.state.hasFocus) {\n      styles.field.borderColor = '#4581E0';\n    } else {\n      styles.field.borderColor = '#9EAAA9';\n    }\n    if (!this.state.isValid && this.validated) {\n      styles.field.borderColor = '#d10e0e';\n    }\n    var inputStyle;\n    if (this.props.noUnderscore === true) {\n      inputStyle = Object.assign({}, styles.field, { borderBottom: \"none\" }, this.props.style);\n    } else {\n      inputStyle = Object.assign({}, styles.field, this.props.style);\n    }\n\n    if (this.props.readOnly) {\n      inputStyle = Object.assign({}, inputStyle, styles.disabled);\n    }\n\n    var containerStyle = Object.assign({}, styles.fieldContainer, this.props.containerStyle);\n\n    var inputField = React.createElement('input', { type: this.props.type, min: this.props.min, max: this.props.max, style: inputStyle, name: 'field',\n      value: this.state.value, readOnly: this.props.readOnly || this.props.noTyping, onKeyDown: this.handleSubmit, onChange: this.handleChange,\n      onFocus: this.handleOnFocus, onClick: this.handleClick, onBlur: this.handleOnBlur, placeholder: this.props.placeholder, title: ' ' });\n\n    return React.createElement(\n      'div',\n      { style: styles.formElement },\n      React.createElement(\n        'div',\n        { style: containerStyle },\n        inputField,\n        warning\n      ),\n      warningMessage,\n      React.createElement('div', { style: styles.after })\n    );\n  }\n});\n\nmodule.exports = InputField;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"../../Dashboard/utils/regex-email\":\"/Users/frank/Documents/Projects/IOTFoundation/components/Dashboard/utils/regex-email.js\",\"../../Dashboard/utils/regex-weburl\":\"/Users/frank/Documents/Projects/IOTFoundation/components/Dashboard/utils/regex-weburl.js\"}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Label.jsx\":[function(require,module,exports){\n(function (global){\n\"use strict\";\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\nvar RPT = React.PropTypes;\n\nvar styles = {\n\n  container: {\n    marginBottom: \"15px\",\n    boxSizing: \"border-box\",\n    clear: \"both\"\n  },\n  childContainer: {},\n  label: {\n    textAlign: \"left\",\n    paddingRight: \"15px\",\n    paddingTop: \"7px\",\n    display: \"inline-block\",\n    fontSize: \"13px\",\n    color: \"#9EAAA9\"\n  }\n\n};\n\n// Documentation link:\n// https://github.ibm.com/IoT/dashboard-component/wiki/Label-component\n//\n\nvar Label = React.createClass({\n  displayName: \"Label\",\n\n\n  propTypes: {\n    theme: RPT.object.isRequired,\n    style: RPT.object,\n    label: RPT.string,\n    labelFor: RPT.string,\n    customContainerStyle: RPT.object\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      label: \"\"\n    };\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      hasFocus: false\n    };\n  },\n\n  componentWillMount: function componentWillMount() {\n    this.updateTheme();\n  },\n\n  onFocus: function onFocus(e) {\n    this.setState({ hasFocus: true });\n  },\n\n  onBlur: function onBlur(e) {\n    this.setState({ hasFocus: false });\n  },\n\n  updateTheme: function updateTheme() {\n    styles.label.color = this.state.hasFocus ? \"#4581E0\" : \"#9EAAA9\";\n    styles.label.color = styles.label.color ? styles.label.color : this.props.theme && this.props.theme.title || \"#323232\";\n  },\n\n  render: function render() {\n    var self = this;\n    this.updateTheme();\n    var styleLabel = Object.assign({}, styles.label, this.props.style);\n    var styleContainer = Object.assign({}, styles.container, this.props.customContainerStyle);\n    return React.createElement(\n      \"div\",\n      { style: styleContainer },\n      React.createElement(\n        \"label\",\n        { style: styleLabel, htmlFor: this.props.labelFor },\n        this.props.label\n      ),\n      React.createElement(\n        \"div\",\n        { style: styles.childContainer },\n        React.Children.map(this.props.children, function (child, idx) {\n          // TODO: can't modify props\n          //child.props.onFocus=self.onFocus;\n          //child.props.onBlur=self.onBlur;\n          return child;\n        })\n      )\n    );\n  }\n});\n\nmodule.exports = Label;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/LineChart.jsx\":[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\nvar ReactDOM = (typeof window !== \"undefined\" ? window['ReactDOM'] : typeof global !== \"undefined\" ? global['ReactDOM'] : null);\nvar c3 = (typeof window !== \"undefined\" ? window['c3'] : typeof global !== \"undefined\" ? global['c3'] : null);\nvar RPT = React.PropTypes;\nvar Icon = require('./Icon.jsx');\n\nvar styles = {\n  container: {\n    width: \"100%\",\n    height: \"100%\"\n  }\n};\n\nvar LineChart = React.createClass({\n  displayName: 'LineChart',\n\n  propTypes: {\n    style: RPT.object,\n    theme: RPT.object.isRequired,\n    data: RPT.object,\n    initialData: RPT.object,\n    plots: RPT.array,\n    title: RPT.string,\n    range: RPT.number,\n    autoscroll: RPT.bool,\n    stacked: RPT.bool,\n    steps: RPT.bool,\n    threshold: RPT.number,\n    overview: RPT.bool,\n    legend: RPT.bool,\n    small: RPT.bool,\n    width: RPT.number,\n    height: RPT.number\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      data: {},\n      plots: [],\n      range: 60,\n      threshold: 300,\n      autoscroll: true,\n      overview: true,\n      stacked: false,\n      steps: false,\n      legend: true,\n      small: false\n\n    };\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      data: this.props.initialData ? this.props.initialData : []\n    };\n  },\n\n  componentDidMount: function componentDidMount() {\n    this.createGraph();\n  },\n\n  startScrolling: function startScrolling() {\n    this.stopScrolling();\n    var self = this;\n    this.scrollInterval = setInterval(function () {\n      self.adjustWindow();\n    }, 1000);\n  },\n\n  stopScrolling: function stopScrolling() {\n    if (this.scrollInterval) {\n      clearInterval(this.scrollInterval);\n    }\n  },\n\n  adjustWindow: function adjustWindow() {\n    if (this.graph) {\n      this.graph.axis.max({\n        x: new Date()\n      });\n      if (this.props.threshold) {\n        var startDate = new Date(new Date().getTime() - this.props.threshold * 1000);\n        this.graph.axis.min({\n          x: startDate\n        });\n      }\n      var end = new Date(new Date().getTime() - this.props.range * 1000);\n      var start = new Date();\n      this.graph.internal.config.axis_x_tick_values = this.generateTickValues(end, start);\n      this.graph.zoom([end, start]);\n    }\n  },\n\n  createGraph: function createGraph() {\n    if (this.props.autoscroll) {\n      this.startScrolling();\n    } else {\n      this.stopScrolling();\n    }\n\n    var self = this;\n    this.destroyGraph();\n\n    var container = ReactDOM.findDOMNode(this);\n\n    var dom = document.createElement(\"div\");\n    container.appendChild(dom);\n\n    this.width = this.props.width ? this.props.width : container.offsetWidth;\n    this.height = this.props.height ? this.props.height : container.offsetHeight;\n\n    var colors = this.props.theme.palette;\n\n    if (this.width > 0 && this.height > 0) {\n\n      dom.style.width = this.width + \"px\";\n      dom.style.height = this.height + \"px\";\n\n      var now = new Date();\n      var before = new Date(now.getTime() - 1000 * this.props.range);\n      var zoomStart = now;\n      var zoomEnd = before;\n\n      var keys = [];\n      var colorMap = {};\n      var names = {};\n      for (var i = 0; i < this.props.plots.length; i++) {\n        var plot = this.props.plots[i];\n        keys.push(plot.id);\n        colorMap[plot.id] = colors[i % colors.length];\n        names[plot.id] = plot.label;\n      }\n\n      var config = {\n        size: {\n          width: this.width,\n          height: this.height\n        },\n        padding: {\n          left: this.props.small ? 0 : 50,\n          bottom: 0,\n          right: 0,\n          top: 0\n        },\n        // padding: {\n        //   left: this.props.small?20:50,\n        //   bottom: 20,\n        //   right: 20,\n        //   top: 20\n        // },\n        data: {\n          type: this.props.steps ? \"step\" : \"area\",\n          json: [this.state.data],\n          x: 'timestamp',\n          keys: {\n            x: 'timestamp',\n            value: keys\n          },\n          groups: this.props.stacked ? [keys] : undefined,\n          colors: colorMap,\n          names: names\n          //            xFormat: '%Y-%m-%d %H:%M:%S'\n        },\n        line: {\n          connectNull: true,\n          step: {\n            type: 'step-after'\n          }\n        },\n        axis: {\n          x: {\n            type: \"timeseries\",\n            extent: [zoomEnd, zoomStart],\n            tick: {\n              values: this.generateTickValues(zoomEnd, zoomStart),\n              format: '%H:%M:%S',\n              culling: {\n                max: 3\n              },\n              fit: true\n            },\n            min: before,\n            show: true\n          },\n          y: {\n            show: !this.props.small\n          }\n        },\n        grid: {\n          x: {\n            show: true\n          },\n          y: {\n            show: true\n          }\n        },\n        point: {\n          r: 4,\n          focus: {\n            expand: {\n              enabled: true,\n              r: 6\n            }\n          },\n          show: !this.props.stacked // seems not to work with stacked\n        },\n        transition: {\n          duration: 0\n        },\n        legend: {\n          hide: !this.props.legend\n        }\n      };\n\n      if (this.props.overview) {\n        config.subchart = {\n          show: true,\n          size: {\n            height: 30\n          },\n          onbrush: function onbrush(domain) {\n            self.onZoomOrPan(domain);\n          }\n        };\n      }\n\n      this.graph = c3.generate(config);\n\n      dom.appendChild(this.graph.element);\n\n      this.beautifyLegend();\n    }\n  },\n\n  beautifyLegend: function beautifyLegend() {\n    //<rect class=\"c3-legend-item-tile\" x=\"22.75\" y=\"0\" width=\"10\" height=\"10\" style=\"pointer-events: none; fill: rgb(186, 143, 247);\"></rect>\n\n    var tiles = d3.selectAll('#' + this.id + ' .c3-legend-item-tile');\n    tiles.attr('rx', 7).attr('ry', 7);\n  },\n\n  onZoomOrPan: function onZoomOrPan(domain) {\n    console.log(\"Zoom and Pan! \");\n    console.log(domain);\n    if (this.graph && domain && domain.length > 1) {\n      this.graph.internal.config.axis_x_tick_values = this.generateTickValues(domain[0], domain[1]);\n      this.graph.flush();\n    }\n  },\n\n  generateTickValues: function generateTickValues(end, start) {\n    // range in seconds\n    var range = (start.getTime() - end.getTime()) / 1000;\n    var leftEnd = end.getTime() / 1000;\n    // depending on size, show 2 or 5 ticks\n    var steps = range / (this.props.small ? 2 : 5);\n\n    var breakpoints = [1, 5, 15, 60, 300, 1800, 3600, 10800, 21600, 86400];\n\n    for (var i = 0; i < breakpoints.length; i++) {\n      var breakpoint = breakpoints[i];\n      if (steps < breakpoint) {\n        steps = breakpoint;\n        leftEnd = Math.floor(leftEnd / breakpoint) * breakpoint;\n        break;\n      }\n    }\n\n    var values = [];\n    var date = leftEnd;\n    for (var j = 0; j < 5; j++) {\n      var newDate = new Date(leftEnd * 1000);\n      values.push(newDate);\n      leftEnd = leftEnd + steps;\n    }\n    return values;\n  },\n\n  destroyGraph: function destroyGraph() {\n    var dom = ReactDOM.findDOMNode(this);\n    while (dom.firstChild) {\n      dom.removeChild(dom.firstChild);\n    }\n    this.graph = null;\n  },\n\n  updateGraph: function updateGraph() {\n    var self = this;\n    if (!this.graph) {\n      this.createGraph();\n    }\n    if (this.graph) {\n      var container = ReactDOM.findDOMNode(this);\n      var width = this.props.width ? this.props.width : container.offsetWidth;\n      var height = this.props.height ? this.props.height : container.offsetHeight;\n      if (this.width != width || this.height != height) {\n        this.width = width;\n        this.height = height;\n        this.graph.resize({ height: this.height, width: this.width });\n      }\n\n      var keys = [];\n      for (var i = 0; i < this.props.plots.length; i++) {\n        keys.push(this.props.plots[i].id);\n      }\n\n      // sort by timestamp\n      var done = false;\n      for (var i = this.state.data.length - 1; i >= 0; i--) {\n        if (this.state.data[i].timestamp == this.props.data.timestamp) {\n          // replace a value with identical timestamp\n          this.state.data.splice(i, 1, this.props.data);\n          done = true;\n          break;\n        } else if (this.state.data[i].timestamp > this.props.data.timestamp) {\n          // squeeze it into the right place according to the timestamp\n          this.state.data.splice(i + 1, 0, this.props.data);\n          done = true;\n          break;\n        }\n      }\n      if (!done) {\n        this.state.data.push(this.props.data);\n      }\n\n      if (this.props.threshold) {\n        var startDate = new Date().getTime() - this.props.threshold * 1000;\n        while (this.state.data.length > 0) {\n          var item = this.state.data[0];\n          if (!item.timestamp || item.timestamp < startDate) {\n            this.state.data.shift();\n          } else {\n            break;\n          }\n        }\n      }\n\n      self.graph.load({\n        json: this.state.data,\n        keys: {\n          x: \"timestamp\",\n          value: keys\n        }\n      });\n\n      this.beautifyLegend();\n    }\n  },\n\n  componentWillUnmount: function componentWillUnmount() {\n    this.destroyGraph();\n  },\n\n  componentDidUpdate: function componentDidUpdate(prevProps, prevState) {\n    var oldProps = Object.assign({}, this.props);\n    var newProps = Object.assign({}, prevProps);\n    oldProps.data = null;\n    newProps.data = null;\n    if (JSON.stringify(oldProps) != JSON.stringify(newProps)) {\n      this.createGraph();\n      this.updateGraph();\n    } else {\n      this.updateGraph();\n    }\n  },\n\n  onEnter: function onEnter() {\n    this.stopScrolling();\n  },\n\n  onLeave: function onLeave() {\n    if (this.props.autoscroll) {\n      this.startScrolling();\n    }\n  },\n\n  render: function render() {\n    var style = Object.assign({}, styles.container, this.props.style ? this.props.style : {});\n    if (!this.id) {\n      this.id = \"X\" + Math.round(Math.random() * 1000000);\n    }\n    return React.createElement('div', { id: this.id, className: 'lineChart', style: style, onMouseOver: this.onEnter, onMouseOut: this.onLeave });\n  }\n});\n\nmodule.exports = LineChart;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./Icon.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Icon.jsx\"}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/LineChartDygraphs.jsx\":[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar _legend;\n\nvar _react = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\n\nvar _reactDom = (typeof window !== \"undefined\" ? window['ReactDOM'] : typeof global !== \"undefined\" ? global['ReactDOM'] : null);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _dygraphs = (typeof window !== \"undefined\" ? window['Dygraph'] : typeof global !== \"undefined\" ? global['Dygraph'] : null);\n\nvar _dygraphs2 = _interopRequireDefault(_dygraphs);\n\nvar _LineChartRangeSelection = require('./LineChartRangeSelection.jsx');\n\nvar _LineChartRangeSelection2 = _interopRequireDefault(_LineChartRangeSelection);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar styles = {\n  container: {\n    width: \"100%\",\n    height: \"100%\"\n  },\n  legend: (_legend = {\n    width: \"100%\",\n    height: \"30px\",\n    margin: \"10 auto\"\n  }, _defineProperty(_legend, 'width', \"80%\"), _defineProperty(_legend, 'textAlign', \"center\"), _legend),\n  legendEntry: {\n    //float: \"left\"\n    display: \"inline-block\",\n    cursor: \"pointer\"\n  },\n  legendIcon: {\n    width: \"8px\",\n    height: \"8px\",\n    display: \"inline-block\",\n    borderRadius: \"4px\",\n    margin: \"0 5px 0 15px\"\n  },\n  legendLabel: {\n    fontSize: \"12px\"\n  }\n};\n\nvar LineChartDygraphs = function (_Component) {\n  _inherits(LineChartDygraphs, _Component);\n\n  function LineChartDygraphs(props) {\n    _classCallCheck(this, LineChartDygraphs);\n\n    var _this = _possibleConstructorReturn(this, (LineChartDygraphs.__proto__ || Object.getPrototypeOf(LineChartDygraphs)).call(this, props));\n\n    _this.componentWillReceiveProps = function (nextProps) {};\n\n    _this.componentDidUpdate = function (prevProps, prevState) {\n      if (_this.props.legend != prevProps.legend || _this.props.overview != prevProps.overview || _this.props.stacked != prevProps.stacked || _this.props.steps != prevProps.steps || _this.height <= 0 || _this.width <= 0 || _this.props.height != prevProps.height || _this.props.width != prevProps.width || JSON.stringify(_this.props.plots) != JSON.stringify(prevProps.plots) || JSON.stringify(_this.props.theme) != JSON.stringify(prevProps.theme)) {\n        _this.createGraph();\n        _this.updateGraph();\n      } else if (_this.props.data != prevProps.data) {\n        _this.updateGraph();\n      }\n\n      if (_this.props.isRealTime != prevProps.isRealTime || _this.props.threshold != prevProps.threshold || _this.props.windowStart != prevProps.windowStart || _this.props.windowEnd != prevProps.windowEnd) {\n\n        if (_this.graph) {\n          if (_this.props.isRealTime) {\n            setTimeout(function () {\n              _this.startScrolling();\n            }, 1);\n          } else {\n            _this.stopScrolling();\n            _this.graph.updateOptions({\n              dateWindow: [_this.props.windowStart, _this.props.windowEnd]\n            });\n          }\n        }\n      }\n    };\n\n    _this.componentDidMount = function () {\n      _this.createGraph();\n    };\n\n    _this.startScrolling = function () {\n      _this.stopScrolling();\n      _this.adjustWindow();\n    };\n\n    _this.stopScrolling = function () {\n      if (_this.scrollInterval) {\n        clearTimeout(_this.scrollInterval);\n      }\n    };\n\n    _this.adjustWindow = function () {\n      if (_this.graph) {\n        var end = new Date().getTime() - _this.props.threshold * 1000;\n        var start = new Date().getTime();\n        _this.graph.updateOptions({ 'dateWindow': [end, start] });\n        // simple algorithm to calculate the speed\n        var speed = _this.props.threshold * 2;\n        if (speed < 50) {\n          speed = 50;\n        }\n\n        if (_this.props.standby) {\n          // slow down when a dialog is open\n          speed = 1000;\n        }\n\n        var next = start + speed;\n        var now = new Date().getTime();\n        var wait = next - now;\n        if (wait < 1) {\n          wait = 1;\n        }\n      }\n      var self = _this;\n      _this.scrollInterval = setTimeout(function () {\n        self.adjustWindow();\n      }, wait);\n    };\n\n    _this.createGraph = function () {\n      var self = _this;\n      _this.destroyGraph();\n\n      if (_this.props.isRealTime) {\n        _this.startScrolling();\n      } else {\n        _this.stopScrolling();\n      }\n\n      var container = _reactDom2.default.findDOMNode(_this).firstChild;\n\n      var dom = document.createElement(\"div\");\n      dom.style.height = \"100%\";\n      container.appendChild(dom);\n\n      _this.width = _this.props.width ? _this.props.width : container.offsetWidth;\n      _this.height = _this.props.height ? _this.props.height : container.offsetHeight;\n\n      if (_this.props.overview) {\n        _this.height -= 40;\n      }\n\n      if (_this.props.legend) {\n        _this.height = _this.height - 40;\n      }\n\n      var colors = _this.props.theme.palette;\n\n      if (_this.width > 0 && _this.height > 0) {\n        dom.style.width = _this.width + \"px\";\n        dom.style.height = _this.height + \"px\";\n\n        var keys = [];\n        var colorMap = {};\n        var names = {};\n        for (var i = 0; i < _this.props.plots.length; i++) {\n          var plot = _this.props.plots[i];\n          keys.push(plot.id);\n          colorMap[plot.id] = colors[i % colors.length];\n          names[plot.id] = plot.label;\n        }\n\n        if (Object.keys(_this.props.plots).length > 0) {\n          var _dgConfig;\n\n          var labels = ['Time'];\n\n          var dgConfig = (_dgConfig = {\n            showRoller: false,\n            animatedZooms: false,\n            labels: labels,\n            hideOverlayOnMouseOut: true,\n            showLabelsOnHighlight: true,\n            connectSeparatedPoints: true,\n            ylabel: \"\",\n            includeZero: true,\n            fillGraph: true,\n            strokeWidth: 1,\n            drawPoints: true,\n            stepPlot: _this.props.steps,\n            stackedGraph: _this.props.stacked,\n            gridLineColor: _this.props.theme.minor,\n            axisLabelColor: _this.props.theme.minor,\n            axisLineColor: _this.props.theme.minor\n          }, _defineProperty(_dgConfig, 'strokeWidth', 1), _defineProperty(_dgConfig, 'highlightCircleSize', 3), _defineProperty(_dgConfig, 'highlightSeriesOpts', {\n            strokeWidth: 2,\n            strokeBorderWidth: 0,\n            highlightCircleSize: 3\n          }), _defineProperty(_dgConfig, 'series', {}), _defineProperty(_dgConfig, 'legend', _this.props.isRealTime ? \"never\" : \"onmouseover\"), _dgConfig);\n\n          var plot;\n          for (var i in _this.props.plots) {\n            plot = _this.props.plots[i];\n            if (plot) {\n              var item = {};\n              dgConfig.series[plot.label] = item;\n              labels.push(plot.label);\n              item.color = _this.props.theme.palette[i % _this.props.theme.palette.length];\n            }\n          }\n\n          dgConfig.labels = labels;\n          _this.graph = new _dygraphs2.default(dom, _this.props.data, dgConfig);\n        }\n      }\n    };\n\n    _this.destroyGraph = function () {\n      _this.stopScrolling();\n      var dom = _reactDom2.default.findDOMNode(_this).firstChild;\n      while (dom.firstChild) {\n        dom.removeChild(dom.firstChild);\n      }\n      _this.graph = null;\n    };\n\n    _this.updateGraph = function () {\n      var self = _this;\n      if (!_this.graph) {\n        _this.createGraph();\n      }\n      if (_this.graph) {\n        var container = _reactDom2.default.findDOMNode(_this);\n        var width = _this.props.width ? _this.props.width : container.offsetWidth;\n        var height = _this.props.height ? _this.props.height : container.offsetHeight;\n        if (_this.width != width || _this.height != height) {\n          _this.width = width;\n          _this.height = height;\n          //this.graph.resize({height: this.height, width: this.width});\n        }\n\n        var data = _this.props.data;\n        if (data.length == 0) {\n          data = [];\n          // add fake data to avoid charting error\n          var fakeData = [];\n          fakeData.push(new Date());\n          for (var i = 0; i < _this.props.plots.length; i++) {\n            fakeData.push(null);\n          }\n          data.push(fakeData);\n        }\n        _this.graph.updateOptions({ 'file': data });\n      }\n    };\n\n    _this.componentWillUnmount = function () {\n      _this.destroyGraph();\n    };\n\n    _this.onHighlight = function (plot) {\n      if (plot) {\n        // TODO this does not work if the last item has no value for this series\n        _this.graph.setSelection(_this.props.data[_this.props.data.length - 1], plot.label);\n      } else {\n        _this.graph.clearSelection();\n      }\n    };\n\n    _this.onRangeChanged = function (evt, temporary) {\n      // var left = new Date(evt[0]);\n      // var right = new Date(evt[1]);\n      _this.graph.updateOptions({\n        dateWindow: [evt[0], evt[1]]\n      });\n      if (_this.props.onChange) {\n        _this.props.onChange(evt[0], evt[1], temporary);\n      }\n    };\n\n    _this.render = function () {\n      var self = _this;\n      var style = Object.assign({}, styles.container, _this.props.style ? _this.props.style : {});\n      if (!_this.id) {\n        _this.id = \"X\" + Math.round(Math.random() * 1000000);\n      }\n      var count = 0;\n\n      var legend = \"\";\n      if (_this.props.legend && _this.height > 0) {\n        var legend = React.createElement(\n          'div',\n          { style: styles.legend },\n          _this.props.plots.map(function (plot) {\n            var iconStyle = Object.assign({}, styles.legendIcon, { backgroundColor: self.props.theme.palette[count % self.props.theme.palette.length] });\n            var labelStyle = Object.assign({}, styles.legendLabel, { color: self.props.theme.minor });\n            count++;\n            return React.createElement(\n              'div',\n              { key: plot.id, style: styles.legendEntry, onMouseOver: function onMouseOver() {\n                  self.onHighlight(plot);\n                }, onMouseOut: function onMouseOut() {\n                  self.onHighlight();\n                } },\n              React.createElement('div', { style: iconStyle }),\n              React.createElement(\n                'span',\n                { style: labelStyle },\n                plot.label\n              )\n            );\n          })\n        );\n      }\n\n      var overview = \"\";\n      if (_this.props.overview && _this.graph) {\n        var end = void 0,\n            start = void 0,\n            endDate = void 0,\n            startDate = void 0;\n        if (_this.props.isRealTime) {\n          endDate = moment();\n          startDate = endDate.clone().subtract(_this.props.threshold, 's');\n          end = endDate.valueOf();\n          start = startDate.valueOf();\n        } else {\n          endDate = _this.props.endDate;\n          startDate = _this.props.startDate;\n          end = _this.props.windowEnd;\n          start = _this.props.windowStart;\n        }\n        overview = React.createElement(_LineChartRangeSelection2.default, {\n          theme: _this.props.theme,\n          nls: _this.props.nls,\n          data: _this.props.data,\n          plots: _this.props.plots,\n          height: 30,\n          width: _this.props.rangeWidth,\n          stacked: _this.props.stacked,\n          steps: _this.props.steps,\n          onChange: _this.onRangeChanged,\n          windowStart: start,\n          windowEnd: end,\n          defaultThresholds: _this.props.defaultThresholds,\n          isRealTime: _this.props.isRealTime,\n          threshold: _this.props.threshold,\n          startDate: startDate,\n          endDate: endDate,\n          setDateTime: _this.props.setDateTime,\n          setThreshold: _this.props.setThreshold,\n          setRealTime: _this.props.setRealTime,\n          getMinimumRange: _this.props.getMinimumRange\n        });\n      }\n\n      return React.createElement(\n        'div',\n        { id: _this.id, className: 'lineChart', style: style },\n        React.createElement('div', null),\n        overview,\n        legend\n      );\n    };\n\n    _this.state = {};\n    return _this;\n  }\n\n  return LineChartDygraphs;\n}(_react.Component);\n\nLineChartDygraphs.propTypes = {\n  style: _react.PropTypes.object,\n  theme: _react.PropTypes.object.isRequired,\n  nls: _react.PropTypes.object,\n  data: _react.PropTypes.array,\n  plots: _react.PropTypes.array,\n  height: _react.PropTypes.number,\n  width: _react.PropTypes.number,\n  stacked: _react.PropTypes.bool,\n  steps: _react.PropTypes.bool,\n  overview: _react.PropTypes.bool,\n  legend: _react.PropTypes.bool,\n  small: _react.PropTypes.bool, //still needed?\n  standby: _react.PropTypes.bool,\n  range: _react.PropTypes.number,\n  threshold: _react.PropTypes.number,\n  isRealTime: _react.PropTypes.bool,\n  startDate: _react.PropTypes.object,\n  endDate: _react.PropTypes.object,\n  windowStart: _react.PropTypes.number,\n  windowEnd: _react.PropTypes.number,\n  onChange: _react.PropTypes.func,\n  //children only:\n  defaultThresholds: _react.PropTypes.array,\n  setDateTime: _react.PropTypes.func,\n  setRealTime: _react.PropTypes.func,\n  setThreshold: _react.PropTypes.func,\n  getMinimumRange: _react.PropTypes.func,\n  rangeWidth: _react.PropTypes.number\n};\n\nLineChartDygraphs.defaultProps = {\n  data: [],\n  plots: [],\n  threshold: 300,\n  overview: true,\n  stacked: false,\n  steps: false,\n  legend: true,\n  small: false\n};\n\nmodule.exports = LineChartDygraphs;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./LineChartRangeSelection.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/LineChartRangeSelection.jsx\"}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/LineChartInteractionPane.jsx\":[function(require,module,exports){\n(function (global){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _react = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\n\nvar _dygraphs = (typeof window !== \"undefined\" ? window['Dygraph'] : typeof global !== \"undefined\" ? global['Dygraph'] : null);\n\nvar _dygraphs2 = _interopRequireDefault(_dygraphs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar styles = {\n  container: {\n    width: \"100%\",\n    height: \"100%\",\n    backgroundColor: \"rgba(255,255,255,0.5)\",\n    position: \"absolute\",\n    top: 0,\n    borderBottom: \"1px solid grey\"\n  },\n  slider: {\n    borderBottom: \"3px solid black\",\n    position: \"absolute\",\n    bottom: -2,\n    height: \"30px\"\n  },\n  handle: {\n    position: \"absolute\",\n    width: \"12px\",\n    height: \"12px\",\n    borderRadius: \"6px\",\n    border: \"4px solid black\",\n    backgroundColor: \"white\",\n    transition: \"all 0.3s ease\"\n  },\n  mover: {\n    position: \"absolute\",\n    width: \"20px\",\n    height: \"40px\",\n    backgroundColor: \"transparent\",\n    zIndex: 1\n  },\n  cover: {\n    position: \"absolute\",\n    backgroundColor: \"rgba(0,0,0,0.05)\",\n    height: \"30px\"\n  }\n};\n\nvar LineChartInteractionPane = function (_Component) {\n  _inherits(LineChartInteractionPane, _Component);\n\n  function LineChartInteractionPane(props) {\n    _classCallCheck(this, LineChartInteractionPane);\n\n    var _this = _possibleConstructorReturn(this, (LineChartInteractionPane.__proto__ || Object.getPrototypeOf(LineChartInteractionPane)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    _this.state = {\n      dragging: false,\n      dragElement: null,\n      initialPos: null,\n      windowStart: props.windowStart,\n      windowEnd: props.windowEnd,\n      grabLeft: false,\n      grabRight: false\n    };\n    return _this;\n  }\n\n  return LineChartInteractionPane;\n}(_react.Component);\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this2 = this;\n\n  this.componentWillReceiveProps = function (props) {\n    var model = {};\n    console.log(props);\n    if (!_this2.state.dragging) {\n      if (props.windowStart != _this2.state.windowStart) {\n        model.windowStart = props.windowStart;\n      }\n      if (props.windowEnd != _this2.state.windowEnd) {\n        model.windowEnd = props.windowEnd;\n      }\n      if (Object.keys(model).length > 0) {\n        _this2.setState(model);\n      }\n    }\n  };\n\n  this.componentDidUpdate = function (props, state) {\n    if (_this2.state.dragging && (!state || !state.dragging)) {\n      document.addEventListener('mousemove', _this2.onMouseMove);\n      document.addEventListener('mouseup', _this2.onMouseUp);\n    } else if (!_this2.state.dragging && state && state.dragging) {\n      document.removeEventListener('mousemove', _this2.onMouseMove);\n      document.removeEventListener('mouseup', _this2.onMouseUp);\n    }\n  };\n\n  this.onMouseDown = function (type, evt) {\n    if (evt.button !== 0) return;\n    //console.log(evt)\n    _this2.setState({\n      dragging: true,\n      dragType: type,\n      dragElement: evt.target,\n      dragStart: evt.clientX,\n      grabLeft: type != \"right\",\n      grabRight: type != \"left\"\n    });\n    evt.stopPropagation();\n    evt.preventDefault();\n  };\n\n  this.onMouseMove = function (evt) {\n    if (!_this2.state.dragging) return;\n    var diff = evt.pageX - _this2.state.dragStart;\n    _this2.setState({\n      dragDiff: diff\n    }, function () {\n      var range = _this2.getZoomRange();\n      if (_this2.props.onChange) {\n        _this2.props.onChange(range, true);\n      }\n    });\n  };\n\n  this.onMouseUp = function (evt) {\n    var range = _this2.getZoomRange();\n\n    _this2.setState({\n      dragging: false,\n      dragType: null,\n      dragElement: null,\n      dragStart: 0,\n      dragDiff: 0,\n      grabLeft: false,\n      grabRight: false,\n      windowStart: range[0],\n      windowEnd: range[1]\n    });\n    if (_this2.props.onChange) {\n      _this2.props.onChange(range, false);\n    }\n  };\n\n  this.getZoomRange = function () {\n    var start = _this2.props.startDate.valueOf();\n    var end = _this2.props.endDate.valueOf();\n    var factor = (end - start) / _this2.props.width;\n    var zoomStart = _this2.state.windowStart + (_this2.state.dragType == 'left' || _this2.state.dragType == 'center' ? _this2.state.dragDiff * factor : 0);\n    var zoomEnd = _this2.state.windowEnd + (_this2.state.dragType == 'center' || _this2.state.dragType == 'right' ? _this2.state.dragDiff * factor : 0);\n    var minimumDist = _this2.props.getMinimumRange() * 1000;\n\n    if (zoomStart < start) {\n      zoomStart = start;\n      if (zoomEnd < start + minimumDist) {\n        zoomEnd = start + minimumDist;\n      }\n    }\n    if (zoomEnd > end) {\n      zoomEnd = end;\n      if (zoomStart > end - minimumDist) {\n        zoomStart = end - minimumDist;\n      }\n    }\n    if ((_this2.state.dragType == \"left\" || _this2.state.dragType == \"center\" && _this2.state.dragDiff > 0) && zoomStart > zoomEnd - minimumDist) {\n      zoomStart = zoomEnd - minimumDist;\n    }\n    if ((_this2.state.dragType == \"right\" || _this2.state.dragType == \"center\" && _this2.state.dragDiff < 0) && zoomEnd < zoomStart + minimumDist) {\n      zoomEnd = zoomStart + minimumDist;\n    }\n    return [zoomStart, zoomEnd];\n  };\n\n  this.render = function () {\n    var currentRange = _this2.getZoomRange();\n    var zoomStart = currentRange[0];\n    var zoomEnd = currentRange[1];\n\n    var start = _this2.props.startDate.valueOf();\n    var end = _this2.props.endDate.valueOf();\n\n    if (_this2.props.width > 0) {\n      var leftPos = (zoomStart - start) / (end - start) * _this2.props.width;\n      var rightPos = (zoomEnd - start) / (end - start) * _this2.props.width;\n\n      var containerStyle = _extends({}, styles.container, { width: _this2.props.width + \"px\",\n        height: _this2.props.height + \"px\", borderColor: _this2.props.theme.minor });\n      var sliderStyle = _extends({}, styles.slider, { borderColor: _this2.props.theme.normal,\n        left: leftPos + \"px\", width: rightPos - leftPos + \"px\" });\n      var coverLeftStyle = _extends({}, styles.cover, { left: \"0px\", width: leftPos + \"px\" });\n      var coverRightStyle = _extends({}, styles.cover, { left: rightPos + \"px\", right: \"0px\" });\n      var leftHandleStyle = _extends({}, styles.handle, { borderColor: _this2.props.theme.normal,\n        left: \"-5px\", bottom: \"-7px\", transform: _this2.state.grabLeft ? \"scale(1.3)\" : \"scale(1)\" });\n      var rightHandleStyle = _extends({}, styles.handle, { borderColor: _this2.props.theme.normal,\n        right: \"-5px\", bottom: \"-7px\", transform: _this2.state.grabRight ? \"scale(1.3)\" : \"scale(1)\" });\n      var leftMoverStyle = _extends({}, styles.mover, { left: \"-10px\", bottom: \"-10px\" });\n      var rightMoverStyle = _extends({}, styles.mover, { right: \"-10px\", bottom: \"-10px\" });\n\n      return React.createElement(\n        'div',\n        { style: containerStyle },\n        React.createElement('div', { style: coverLeftStyle }),\n        React.createElement(\n          'div',\n          {\n            onMouseDown: function onMouseDown(evt) {\n              return _this2.onMouseDown('center', evt);\n            },\n            style: sliderStyle },\n          React.createElement('div', { style: leftHandleStyle }),\n          React.createElement('div', { style: rightHandleStyle }),\n          React.createElement('div', {\n            onMouseDown: function onMouseDown(evt) {\n              return _this2.onMouseDown('left', evt);\n            },\n            style: leftMoverStyle }),\n          React.createElement('div', {\n            onMouseDown: function onMouseDown(evt) {\n              return _this2.onMouseDown('right', evt);\n            },\n            style: rightMoverStyle })\n        ),\n        React.createElement('div', { style: coverRightStyle })\n      );\n    } else {\n      return React.createElement('div', null);\n    }\n  };\n};\n\nLineChartInteractionPane.propTypes = {\n  style: _react.PropTypes.object,\n  theme: _react.PropTypes.object.isRequired,\n  windowStart: _react.PropTypes.number,\n  windowEnd: _react.PropTypes.number,\n  startDate: _react.PropTypes.object,\n  endDate: _react.PropTypes.object,\n  onChange: _react.PropTypes.func,\n  width: _react.PropTypes.number,\n  height: _react.PropTypes.number,\n  getMinimumRange: _react.PropTypes.func\n};\n\nexports.default = LineChartInteractionPane;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/LineChartRangeSelection.jsx\":[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _react = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\n\nvar _dygraphs = (typeof window !== \"undefined\" ? window['Dygraph'] : typeof global !== \"undefined\" ? global['Dygraph'] : null);\n\nvar _dygraphs2 = _interopRequireDefault(_dygraphs);\n\nvar _Button = require('./Button.jsx');\n\nvar _Button2 = _interopRequireDefault(_Button);\n\nvar _Select = require('./Select.jsx');\n\nvar _Select2 = _interopRequireDefault(_Select);\n\nvar _Option = require('./Option.jsx');\n\nvar _Option2 = _interopRequireDefault(_Option);\n\nvar _LineChartInteractionPane = require('./LineChartInteractionPane.jsx');\n\nvar _LineChartInteractionPane2 = _interopRequireDefault(_LineChartInteractionPane);\n\nvar _DateTimePicker = require('../../app/shared/DatePicker/DateTimePicker.jsx');\n\nvar _DateTimePicker2 = _interopRequireDefault(_DateTimePicker);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar styles = {\n  outerContainer: {\n    position: \"relative\",\n    height: \"30px\"\n  },\n  buttonContainer: {\n    position: \"absolute\",\n    top: \"0px\",\n    height: \"30px\",\n    width: \"90px\"\n  },\n  button: {\n    width: \"100%\",\n    height: \"30px\"\n  },\n  alignLeft: {\n    left: \"0px\"\n  },\n  alignRight: {\n    right: \"0px\"\n  },\n  container: {\n    position: \"relative\",\n    marginLeft: \"100px\",\n    marginRight: \"100px\",\n    marginTop: \"10px\"\n  },\n  inputStyle: {\n    fontSize: 12,\n    fontWeight: \"normal\",\n    textAlign: \"center\",\n    marginTop: \"-2px\"\n  }\n};\n\nvar LineChartRangeSelection = function (_Component) {\n  _inherits(LineChartRangeSelection, _Component);\n\n  function LineChartRangeSelection(props) {\n    _classCallCheck(this, LineChartRangeSelection);\n\n    var _this = _possibleConstructorReturn(this, (LineChartRangeSelection.__proto__ || Object.getPrototypeOf(LineChartRangeSelection)).call(this, props));\n\n    _this.componentWillReceiveProps = function (nextProps) {};\n\n    _this.componentDidMount = function () {\n      _this.createGraph();\n    };\n\n    _this.createGraph = function () {\n      var self = _this;\n      _this.destroyGraph();\n      var container = ReactDOM.findDOMNode(_this).firstChild.firstChild;\n\n      var dom = document.createElement(\"div\");\n      dom.style.height = \"100%\";\n      container.appendChild(dom);\n\n      _this.width = _this.props.width ? _this.props.width : container.offsetWidth;\n      _this.height = _this.props.height ? _this.props.height : container.offsetHeight;\n\n      var colors = _this.props.theme.palette;\n\n      var start = void 0,\n          end = void 0;\n      if (_this.props.isRealTime) {\n        end = moment().valueOf();\n        start = moment().clone().subtract(_this.props.threshold, 's').valueOf();\n      } else {\n        end = _this.props.endDate.valueOf();\n        start = _this.props.startDate.valueOf();\n      }\n\n      if (_this.width > 0 && _this.height > 0) {\n        dom.style.width = _this.width + \"px\";\n        dom.style.height = _this.height + \"px\";\n\n        var keys = [];\n        var colorMap = {};\n        var names = {};\n        for (var i = 0; i < _this.props.plots.length; i++) {\n          var plot = _this.props.plots[i];\n          keys.push(plot.id);\n          colorMap[plot.id] = colors[i % colors.length];\n          names[plot.id] = plot.label;\n        }\n\n        if (Object.keys(_this.props.plots).length > 0) {\n          var labels = ['Time'];\n          var dgConfig = {\n            showRoller: false,\n            animatedZooms: false,\n            labels: labels,\n            legend: \"never\",\n            hideOverlayOnMouseOut: true,\n            highlightCircleSize: 0,\n            interactionModel: _dygraphs2.default.Interaction.nonInteractiveModel_,\n            connectSeparatedPoints: true,\n            includeZero: true,\n            fillGraph: false,\n            strokeWidth: 1,\n            drawPoints: false,\n            stepPlot: _this.props.steps,\n            stackedGraph: _this.props.stacked,\n            showRangeSelector: false,\n            series: {},\n            axes: {\n              y: {\n                drawGrid: false,\n                drawAxis: false\n              },\n              x: {\n                drawGrid: false,\n                drawAxis: false\n              }\n            },\n            dateWindow: [start, end]\n\n          };\n\n          var plot;\n          for (var i in _this.props.plots) {\n            plot = _this.props.plots[i];\n            if (plot) {\n              var item = {};\n              dgConfig.series[plot.label] = item;\n              labels.push(plot.label);\n              var color = _this.props.theme.palette[i % _this.props.theme.palette.length];\n              item.color = color;\n            }\n          }\n\n          dgConfig.labels = labels;\n\n          _this.graph = new _dygraphs2.default(dom, _this.props.data, dgConfig);\n        }\n      }\n    };\n\n    _this.destroyGraph = function () {\n      var dom = ReactDOM.findDOMNode(_this).firstChild.firstChild;\n      while (dom.firstChild) {\n        dom.removeChild(dom.firstChild);\n      }\n      _this.graph = null;\n    };\n\n    _this.updateGraph = function () {\n      var self = _this;\n      if (!_this.graph) {\n        _this.createGraph();\n      }\n      if (_this.graph) {\n        var container = ReactDOM.findDOMNode(_this).firstChild;\n        var width = _this.props.width ? _this.props.width : container.offsetWidth;\n        var height = _this.props.height ? _this.props.height : container.offsetHeight;\n        if (_this.width != width || _this.height != height) {\n          _this.width = width;\n          _this.height = height;\n          _this.graph.resize({ height: _this.height, width: _this.width });\n        }\n\n        var data = _this.props.data;\n        if (data.length == 0) {\n          data = [];\n          // add fake data to avoid charting error\n          var fakeData = [];\n          fakeData.push(new Date());\n          for (var i = 0; i < _this.props.plots.length; i++) {\n            fakeData.push(null);\n          }\n          data.push(fakeData);\n        }\n\n        var start = void 0,\n            end = void 0;\n        if (_this.props.isRealTime) {\n          end = moment().valueOf();\n          start = moment().clone().subtract(_this.props.threshold, 's').valueOf();\n        } else {\n          end = _this.props.endDate.valueOf();\n          start = _this.props.startDate.valueOf();\n        }\n\n        _this.graph.updateOptions({\n          'file': data,\n          dateWindow: [start, end]\n        });\n      }\n    };\n\n    _this.onThresholdChanged = function (value) {\n      console.log(\"threshold changed to \", value);\n      if (value && typeof value === 'string') {\n        value = parseInt(value, 10);\n      }\n      _this.props.setThreshold(value);\n    };\n\n    _this.componentWillUnmount = function () {\n      _this.destroyGraph();\n    };\n\n    _this.componentDidUpdate = function (prevProps, prevState) {\n      var oldProps = _extends({}, prevProps, { start: null, end: null, startDate: null, endDate: null, data: null });\n      var newProps = _extends({}, _this.props, { start: null, end: null, startDate: null, endDate: null, data: null });\n      if (JSON.stringify(oldProps) != JSON.stringify(newProps)) {\n        _this.createGraph();\n        _this.updateGraph();\n      } else {\n        _this.updateGraph();\n      }\n    };\n\n    _this.render = function () {\n      var style = Object.assign({}, styles.container, _this.props.style ? _this.props.style : {});\n      style = _extends({}, style, { width: _this.width + \"px\", height: _this.height + \"px\" });\n      var leftStyle = Object.assign({}, styles.buttonContainer, styles.alignLeft);\n      var rightStyle = Object.assign({}, styles.buttonContainer, styles.alignRight);\n      var threshold = parseInt(_this.props.threshold, 10);\n      var selectStyle = { height: \"36px\", backgroundColor: \"#eceff1\" };\n      var optionsStyle = { width: \"200px\", bottom: \"30px\", fontSize: \"12px\", backgroundColor: \"#eceff1\" };\n      var thresholdSelect = React.createElement(\n        _Select2.default,\n        {\n          onChange: _this.onThresholdChanged,\n          value: \"\" + _this.props.threshold,\n          noUnderscore: true,\n          style: selectStyle,\n          optionsStyle: optionsStyle,\n          inputStyle: styles.inputStyle,\n          theme: _this.props.theme },\n        _this.props.defaultThresholds.map(function (optionData, index) {\n          return React.createElement(\n            _Option2.default,\n            {\n              key: index,\n              style: { paddingTop: \"5px\", paddingBottom: \"5px\" },\n              value: optionData.value.toString(),\n              selected: threshold == optionData.value },\n            optionData.text\n          );\n        })\n      );\n      var nowOnlyText = React.createElement('button', { style: styles.button, value: 'nls.now' });\n      var rightPicker = React.createElement(_DateTimePicker2.default, {\n        isLeft: false,\n        isRealTime: _this.props.isRealTime,\n        dateTime: _this.props.endDate,\n        nowAlias: 'now',\n        checkboxLabel: 'real-time',\n        onChange: function onChange(byDatePicker, date) {\n          _this.props.setDateTime(false, byDatePicker, date);\n        },\n        setRealTime: _this.props.setRealTime,\n        maxDate: moment(),\n        minDate: _this.props.startDate.clone().add(60, 's'),\n        theme: _this.props.theme\n      });\n      var leftPicker = React.createElement(_DateTimePicker2.default, {\n        isLeft: true,\n        isRealTime: _this.props.isRealTime,\n        dateTime: _this.props.startDate,\n        nowAlias: 'now',\n        checkboxLabel: 'real-time',\n        onChange: function onChange(byDatePicker, date) {\n          _this.props.setDateTime(true, byDatePicker, date);\n        },\n        setRealTime: _this.props.setRealTime,\n        maxDate: _this.props.endDate.clone().subtract(60, 's'),\n        theme: _this.props.theme\n      });\n      var leftButton = React.createElement(\n        'div',\n        { style: leftStyle },\n        _this.props.isRealTime ? thresholdSelect : leftPicker\n      );\n      var rightButton = React.createElement(\n        'div',\n        { style: rightStyle },\n        rightPicker\n      );\n      return React.createElement(\n        'div',\n        { className: 'historyDatepicker', style: styles.outerContainer },\n        React.createElement(\n          'div',\n          { className: 'lineChart', style: style },\n          React.createElement('div', null),\n          !_this.props.isRealTime ? React.createElement(_LineChartInteractionPane2.default, _this.props) : undefined\n        ),\n        leftButton,\n        rightButton\n      );\n    };\n\n    _this.state = {};\n    return _this;\n  }\n\n  return LineChartRangeSelection;\n}(_react.Component);\n\nLineChartRangeSelection.propTypes = {\n  style: _react.PropTypes.object,\n  theme: _react.PropTypes.object.isRequired,\n  nls: _react.PropTypes.object,\n  data: _react.PropTypes.array,\n  plots: _react.PropTypes.array,\n  stacked: _react.PropTypes.bool,\n  steps: _react.PropTypes.bool,\n  windowStart: _react.PropTypes.number,\n  windowEnd: _react.PropTypes.number,\n  defaultThresholds: _react.PropTypes.array,\n  isRealTime: _react.PropTypes.bool,\n  threshold: _react.PropTypes.number,\n  startDate: _react.PropTypes.object,\n  endDate: _react.PropTypes.object,\n  setDateTime: _react.PropTypes.func,\n  setRealTime: _react.PropTypes.func,\n  setThreshold: _react.PropTypes.func,\n  getMinimumRange: _react.PropTypes.func,\n  onChange: _react.PropTypes.func,\n  width: _react.PropTypes.number,\n  height: _react.PropTypes.number\n};\n\nLineChartRangeSelection.defaultProps = {\n  data: [],\n  plots: [],\n  stacked: false,\n  steps: false\n};\n\nmodule.exports = LineChartRangeSelection;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"../../app/shared/DatePicker/DateTimePicker.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/app/shared/DatePicker/DateTimePicker.jsx\",\"./Button.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Button.jsx\",\"./LineChartInteractionPane.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/LineChartInteractionPane.jsx\",\"./Option.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Option.jsx\",\"./Select.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Select.jsx\"}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/List.jsx\":[function(require,module,exports){\n(function (global){\n'use strict';\n\n/************ Dependencies *************/\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\nvar Icon = require('./Icon.jsx');\nvar Tooltip = require('./Tooltip.jsx');\nvar Paging = require('./Paging.jsx');\nvar RPT = React.PropTypes;\nvar ReactCSSTransitionGroup = React.addons.CSSTransitionGroup;\n\n/************ Styles *************/\nvar styles = {\n  actionsContainer: {\n    MozTransition: 'all 0.25s ease',\n    WebkitTransition: 'all 0.25s ease',\n    OTransition: 'all 0.25s ease',\n    transition: 'all 0.25s ease',\n    whiteSpace: \"nowrap\",\n    opacity: \"1\",\n    marginTop: \"7px\"\n  },\n  outerActions: {\n    flex: \"0 0 auto\"\n  },\n  description: {\n    fontSize: \"12px\",\n    overflow: \"hidden\",\n    width: \"100%\"\n  },\n  infoContainer: {\n    flex: \"0 1 auto\",\n    overflow: \"hidden\",\n    width: \"100%\"\n  },\n  itemContainer: {\n    padding: \"8px 20px\",\n    cursor: \"pointer\",\n    position: \"relative\",\n    display: \"flex\",\n    justifyContent: \"space-between\"\n  },\n  list: {\n    position: \"relative\",\n    MozTransition: 'top 0.5s ease',\n    WebkitTransition: 'top 0.5s ease',\n    OTransition: 'top 0.5s ease',\n    transition: 'top 0.5s ease',\n    top: 0\n  },\n  border: {\n    borderBottom: \"1px solid #bbb\"\n  },\n  listAndPaging: {\n    flex: '1 0 auto',\n    height: '100px',\n    overflow: 'hidden'\n  },\n  listSeparator: {\n    borderTop: \"1px solid #bbb\",\n    marginBottom: \"5px\",\n    marginTop: \"3px\"\n  },\n  paging: {\n    bottom: \"0px\",\n    position: \"absolute\",\n    width: \"100%\"\n  },\n  title: {\n    fontSize: \"14px\",\n    textOverflow: \"ellipsis\",\n    overflow: \"hidden\",\n    whiteSpace: \"nowrap\"\n  },\n  icon: {\n    margin: \"0 5px\"\n  },\n  expandIcon: {\n    position: \"absolute\",\n    cursor: \"pointer\",\n    zIndex: 1,\n    overflow: \"visible\",\n    right: \"25px\",\n    top: \"15px\",\n    opacity: '1',\n    MozTransition: 'all 0.25s ease',\n    WebkitTransition: 'all 0.25s ease',\n    OTransition: 'all 0.25s ease',\n    transition: 'all 0.25s ease',\n    outline: 'none',\n    width: \"0px\"\n  },\n  expandIconRotate: {\n    transform: \"rotate(90deg)\"\n  },\n  expandIconOpen: {\n    opacity: \"0.3\"\n  },\n  actionContainerCollapsed: {\n    width: \"0px\",\n    opacity: \"0\"\n  },\n  scroller: {\n    position: 'absolute',\n    bottom: '20px',\n    right: '20px'\n  },\n  scrollerButton: {\n    width: '30px',\n    height: '30px',\n    borderRadius: '2px',\n    display: 'inline-block',\n    border: '1px solid silver',\n    margin: '2px',\n    backgroundColor: 'white'\n  },\n  scrollerIcon: {\n    top: '2px',\n    left: '2px',\n    position: 'relative'\n  },\n  spaceEater: {\n    flex: \"99 0 auto\"\n  }\n};\n\n/*----------- ListItem ------------*/\n\nvar ListItem = React.createClass({\n  displayName: 'ListItem',\n\n  /************ Models *************/\n  propTypes: {\n    actions: RPT.array,\n    nls: RPT.object,\n    style: RPT.object,\n    theme: RPT.object.isRequired,\n    title: RPT.string,\n    selected: RPT.bool,\n    onClick: RPT.func,\n    noBorder: RPT.bool,\n    onSelection: RPT.func,\n    alwaysExpand: RPT.bool,\n    id: RPT.string\n  },\n\n  /************ Controller *************/\n  getDefaultProps: function getDefaultProps() {\n    return {\n      actions: [],\n      title: \"\",\n      selected: false,\n      inactive: false,\n      noBorder: false,\n      onSelection: null,\n      alwaysExpand: false\n    };\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      hover: false,\n      expanded: false\n    };\n  },\n\n  componentDidMount: function componentDidMount() {\n    var listEntryHeight = $(this.refs.listEntry).height() + 1; // Addition with 1, because of borderHeight\n  },\n\n  componentWillUnmount: function componentWillUnmount() {},\n\n  onClick: function onClick() {\n    if (this.props.onClick) {\n      this.props.onClick(this.props.id, !this.props.selected);\n    }\n    if (this.props.onSelection) {\n      this.props.onSelection(this.props.id, !this.props.selected);\n    }\n  },\n\n  onMouseOver: function onMouseOver() {\n    this.setState({\n      hover: true\n    });\n  },\n\n  onMouseOut: function onMouseOut() {\n    this.setState({\n      hover: false\n    });\n  },\n\n  onExpand: function onExpand(evt) {\n    evt.stopPropagation();\n    this.setState({\n      expanded: !this.state.expanded\n    });\n    return false;\n  },\n\n  onCloseActions: function onCloseActions() {\n    this.setState({\n      expanded: false\n    });\n  },\n  /************ View *************/\n  render: function render() {\n    var self = this;\n    var style = Object.assign({}, styles);\n\n    var descriptionStyle = Object.assign({}, style.description, { color: this.props.theme.minor });\n    var titleStyle = Object.assign({}, style.title, { color: this.props.theme.major });\n    if (this.props.inactive) {\n      descriptionStyle.opacity = \"0.3\";\n      titleStyle.opacity = \"0.3\";\n    }\n\n    var containerStyle = Object.assign({}, style.itemContainer, this.props.style);\n\n    if (this.state.hover) {\n      containerStyle.backgroundColor = this.props.theme.hover;\n    }\n    if (this.props.selected) {\n      containerStyle.backgroundColor = this.props.theme.select;\n    }\n\n    if (!this.props.noBorder) {\n      containerStyle = Object.assign(containerStyle, style.border);\n    }\n\n    // Construct actions\n    var actions = this.props.actions.map(function (item, index) {\n      var itemStyle = Object.assign({}, styles.icon, item.style ? item.style : {});\n\n      if (item.tooltip !== undefined) {\n        return React.createElement(\n          Tooltip,\n          { theme: self.props.theme, value: item.tooltip.value, direction: 'left', showOnClick: true, asSpan: true, delay: 500, idx: index },\n          React.createElement(Icon, {\n            icon: item.icon,\n            style: itemStyle,\n            color: self.props.theme.major,\n            key: index //to prevent react warning\n            , nls: self.props.nls,\n            onClick: function onClick(evt) {\n              item.onClick(self.props.id);evt.stopPropagation();return false;\n            },\n            theme: self.props.theme\n          })\n        );\n      } else {\n        return React.createElement(Icon, {\n          icon: item.icon,\n          style: itemStyle,\n          color: self.props.theme.major,\n          key: index //to prevent react warning\n          , nls: self.props.nls,\n          onClick: function onClick(evt) {\n            item.onClick(self.props.id);evt.stopPropagation();return false;\n          },\n          theme: self.props.theme\n        });\n      }\n    });\n\n    var expandIconStyle = Object.assign({}, styles.expandIcon, this.state.expanded ? styles.expandIconOpen : {});\n    var expandIcon = \"\";\n    if (!this.props.alwaysExpand && actions.length > 0) {\n      expandIcon = React.createElement(\n        'a',\n        { style: expandIconStyle, tabIndex: '1', href: 'javascript:void(0)', onBlur: this.onCloseActions },\n        React.createElement(Icon, { theme: this.props.theme, style: styles.expandIconRotate, color: this.props.theme.major, icon: 'dots', onClick: this.onExpand })\n      );\n    }\n\n    var actionContainerStyle = Object.assign({}, styles.actionsContainer, !this.state.expanded && !this.props.alwaysExpand ? styles.actionContainerCollapsed : {});\n\n    // View output\n    return React.createElement(\n      'div',\n      { name: 'entry', ref: 'listEntry', style: containerStyle, onClick: this.onClick, onMouseOver: this.onMouseOver, onMouseOut: this.onMouseOut },\n      React.createElement(\n        'div',\n        { style: style.infoContainer },\n        React.createElement(\n          'div',\n          { style: titleStyle },\n          this.props.title\n        ),\n        React.createElement(\n          'div',\n          { style: descriptionStyle },\n          this.props.children\n        )\n      ),\n      React.createElement('div', { style: styles.spaceEater }),\n      React.createElement(\n        'div',\n        { style: styles.outerActions },\n        React.createElement(\n          'div',\n          { style: actionContainerStyle },\n          actions\n        )\n      ),\n      expandIcon\n    );\n  }\n\n});\n\n/*----------- List ------------*/\n\nvar List = React.createClass({\n  displayName: 'List',\n\n  /************ Models *************/\n  propTypes: {\n    nls: RPT.object,\n    border: RPT.object,\n    style: RPT.object,\n    theme: RPT.object.isRequired,\n    expanded: RPT.bool,\n    selectFirstItem: RPT.bool,\n    scrollable: RPT.bool,\n    height: RPT.number\n  },\n\n  /************ Controller *************/\n  getDefaultProps: function getDefaultProps() {\n    return {\n      border: {\n        between: true,\n        bottom: true,\n        top: true\n      },\n      expanded: false\n    };\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      filteredList: []\n    };\n  },\n\n  componentDidMount: function componentDidMount() {\n    this.computeEntriesPerPage();\n  },\n\n  componentWillMount: function componentWillMount() {},\n\n  componentWillUnmount: function componentWillUnmount() {\n    console.log(\"Unmount\");\n  },\n\n  componentWillReceiveProps: function componentWillReceiveProps(newProps) {\n    var self = this;\n    // FLM: Removed this because it can lead to loops\n    if (newProps.height != this.props.height) {\n      setTimeout(function () {\n        self.computeEntriesPerPage();\n      }, 500);\n    }\n  },\n\n  computeEntriesPerPage: function computeEntriesPerPage() {\n    var tag = $(this.refs.list);\n    var availableHeight = this.props.height ? this.props.height : tag.height();\n    if (availableHeight <= 0) {\n      return;\n    }\n    var entryHeight = tag.find(\"[name='entry']\").outerHeight(true);\n    if (typeof entryHeight == \"number\" && typeof availableHeight == \"number\") {\n      //entryHeight += 1; // addition of 1 for border between entries\n      var entriesPerPage = Math.floor(availableHeight / entryHeight);\n      if (entriesPerPage != this.state.entriesPerPage || entryHeight != this.state.entryHeight) {\n        this.setState({\n          entriesPerPage: entriesPerPage,\n          entryHeight: entryHeight\n        });\n        console.log(\"Entries per pages: \", entriesPerPage);\n      }\n    } else if (this.state.entriesPerPage != -1) {\n      this.setState({\n        entriesPerPage: -1\n      });\n    }\n  },\n\n  filterByPage: function filterByPage(from, to, entriesPerNewPage, currentPage) {\n    var self = this;\n    //    setTimeout(function() {\n    if (from === undefined) {\n      // empty list and no paging\n      self.setState({\n        from: null,\n        to: null\n      });\n    } else {\n      if (self.state.from != from || self.state.to != to) {\n        self.setState({\n          from: from,\n          to: to\n        });\n      }\n    }\n    //    },1);\n  },\n\n  onSelection: function onSelection(id, state) {\n    if (state) {\n      this.setState({\n        selected: id\n      });\n    } else {\n      this.setState({\n        selected: null\n      });\n    }\n  },\n\n  onClearSelection: function onClearSelection() {\n    var self = this;\n    var allItems = React.Children.toArray(this.props.children);\n    if (this.state.selected) {\n      for (var i = 0; i < allItems.length; i++) {\n        var item = allItems[i];\n        if (item.props && item.props.id == this.state.selected) {\n          if (item.props.onClick) {\n            item.props.onClick(item.props.id, true);\n          }\n          self.onSelection(self.state.selected, false);\n          return;\n        }\n      }\n    }\n  },\n\n  onScrollUp: function onScrollUp() {\n    var pos = this.state.from;\n    if (pos === undefined) {\n      pos = 0;\n    }\n    pos = pos - this.state.entriesPerPage;\n    if (pos < 0) {\n      pos = 0;\n    }\n    this.setState({\n      from: pos\n    });\n  },\n\n  onScrollDown: function onScrollDown() {\n    var pos = this.state.from;\n    if (pos === undefined) {\n      pos = 0;\n    }\n    var size = React.Children.toArray(this.props.children).length;\n    if (pos + this.state.entriesPerPage < size) {\n      pos = pos + this.state.entriesPerPage;\n    }\n    this.setState({\n      from: pos\n    });\n  },\n\n  componentDidUpdate: function componentDidUpdate() {\n    var self = this;\n    if (this.state.entriesPerPage === undefined || this.state.entriesPerPage == -1 && React.Children.count(this.props.children)) {\n      self.computeEntriesPerPage();\n    }\n  },\n\n  /************ View *************/\n  render: function render() {\n    var self = this;\n    var style = Object.assign({}, styles, this.props.style ? this.props.style : {});\n    var listProps = this.props;\n    var listLength = this.state.filteredList.length;\n\n    var allItems = React.Children.toArray(this.props.children);\n    var itemsOnPage = null;\n    if (this.props.scrollable) {\n      itemsOnPage = allItems;\n    } else if (this.state.to === null) {\n      itemsOnPage = [];\n    } else {\n      itemsOnPage = allItems.slice(this.state.from, this.state.to + 1);\n    }\n\n    // find selected item to move the focused page, just in case it moves out of focus\n    var focusItem = undefined;\n    if (this.state.selected) {\n      for (var i = 0; i < allItems.length; i++) {\n        var item = allItems[i];\n        if (item.props && item.props.id == this.state.selected) {\n          if (this.state.to && (this.state.from < i || this.state.to > i)) {\n            focusItem = i;\n          }\n        }\n      }\n    }\n\n    // set callbacks and selection\n    var augmentedItems = [];\n    for (var i = 0; i < itemsOnPage.length; i++) {\n      var item = itemsOnPage[i];\n      var selected = false;\n      if (this.state.selected && item.props && item.props.id == this.state.selected) {\n        selected = true;\n      }\n      var newItem = React.cloneElement(item, {\n        onSelection: this.onSelection,\n        selected: selected\n      });\n      augmentedItems.push(newItem);\n    }\n\n    // preselect the first item if nothing has been clicked before\n    if (augmentedItems.length > 0 && this.props.selectFirstItem && !this.preselectionDone && !this.state.selected) {\n      this.preselectionDone = true;\n      setTimeout(function () {\n        var item = augmentedItems[0];\n        self.setState({\n          selected: augmentedItems[0].props.id\n        });\n        if (item.props.onClick) {\n          item.props.onClick(item.props.id, true);\n        }\n      }, 500);\n    }\n\n    var listStyle = style.list;\n\n    var control = \"\";\n    if (this.props.scrollable) {\n      var from = this.state.from ? this.state.from : 0;\n      if (this.state.from !== undefined) {\n        listStyle = Object.assign({}, listStyle, { top: -this.state.entryHeight * from + 'px' });\n      }\n\n      var scrollerButtonStyle = Object.assign({}, styles.scrollerButton, { backgroundColor: this.props.theme.hover, borderColor: this.props.theme.select });\n      var scrollerButtonStyleUp = Object.assign({}, scrollerButtonStyle, from == 0 ? { opacity: 0.3 } : {});\n      var scrollerButtonStyleDown = Object.assign({}, scrollerButtonStyle, from + this.state.entriesPerPage >= itemsOnPage.length ? { opacity: 0.3 } : {});\n      control = React.createElement(\n        'div',\n        { style: styles.scroller },\n        React.createElement(\n          'div',\n          { style: scrollerButtonStyleUp },\n          React.createElement(Icon, {\n            icon: 'up',\n            style: styles.scrollerIcon,\n            color: self.props.theme.major,\n            nls: self.props.nls,\n            onClick: function onClick(evt) {\n              self.onScrollUp();evt.stopPropagation();return false;\n            },\n            theme: self.props.theme\n          })\n        ),\n        React.createElement(\n          'div',\n          { style: scrollerButtonStyleDown },\n          React.createElement(Icon, {\n            icon: 'down',\n            style: styles.scrollerIcon,\n            color: self.props.theme.major,\n            nls: self.props.nls,\n            onClick: function onClick(evt) {\n              self.onScrollDown();evt.stopPropagation();return false;\n            },\n            theme: self.props.theme\n          })\n        )\n      );\n    } else {\n      control = React.createElement(\n        'div',\n        { style: style.paging },\n        React.createElement(Paging, { key: 'listPaging', onClearSelection: this.onClearSelection, onChange: this.filterByPage, focusItem: focusItem, perPage: this.state.entriesPerPage, theme: this.props.theme, total: React.Children.count(this.props.children) })\n      );\n    }\n\n    // View output\n    return React.createElement(\n      'div',\n      { ref: 'listAndPaging', style: style.listAndPaging },\n      React.createElement(\n        'div',\n        { ref: 'list', style: listStyle },\n        augmentedItems\n      ),\n      control\n    );\n  }\n\n});\n\nList.ListItem = ListItem;\nmodule.exports = List;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./Icon.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Icon.jsx\",\"./Paging.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Paging.jsx\",\"./Tooltip.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Tooltip.jsx\"}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/LoadIndicator.jsx\":[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\nvar RPT = React.PropTypes;\nvar Icon = require('./Icon.jsx');\n\nvar styles = {};\n\nvar LoadIndicator = React.createClass({\n\tdisplayName: 'LoadIndicator',\n\n\tpropTypes: {\n\t\ttheme: RPT.object.isRequired,\n\t\tstyle: RPT.object,\n\t\twait: RPT.number,\n\t\tuseDataPoints: RPT.bool,\n\t\tnls: RPT.object\n\t},\n\n\tgetDefaultProps: function getDefaultProps() {\n\t\treturn {\n\t\t\twait: 30,\n\t\t\tuseDataPoints: false\n\t\t};\n\t},\n\n\tgetInitialState: function getInitialState() {\n\t\treturn {\n\t\t\tcounter: this.props.wait\n\t\t};\n\t},\n\n\tcomponentDidMount: function componentDidMount() {\n\t\tthis.startCounter();\n\t},\n\n\tstartCounter: function startCounter() {\n\t\tvar self = this;\n\t\tsetTimeout(function () {\n\t\t\tvar counter = self.state.counter;\n\t\t\tif (counter > 0 && self.isMounted()) {\n\t\t\t\tself.setState({\n\t\t\t\t\tcounter: counter - 1\n\t\t\t\t});\n\t\t\t\tself.startCounter();\n\t\t\t}\n\t\t}, 1000);\n\t},\n\n\trender: function render() {\n\t\tvar text = \"\";\n\t\tif (this.state) {\n\t\t\tif (this.state.counter <= 0) {\n\t\t\t\tif (this.props.children) {\n\t\t\t\t\ttext = this.props.children;\n\t\t\t\t} else {\n\t\t\t\t\tif (this.props.useDataPoints) {\n\t\t\t\t\t\ttext = React.createElement(\n\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\tthis.props.nls.resolve('Dashboard.Cards.Customization.NoMessages')\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttext = React.createElement(\n\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tReact.createElement(\n\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\tthis.props.nls.resolve('Dashboard.Cards.Customization.NoData')\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\ttext = this.props.nls.resolve('Dashboard.Cards.Customization.Loading') + \" \" + (this.state.counter % 3 - 2 == 0 ? \":\" : \".\") + (this.state.counter % 3 - 1 == 0 ? \":\" : \".\") + (this.state.counter % 3 == 0 ? \":\" : \".\");\n\t\t\t}\n\t\t}\n\t\treturn React.createElement(\n\t\t\t'div',\n\t\t\tnull,\n\t\t\ttext\n\t\t);\n\t}\n});\n\nmodule.exports = LoadIndicator;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./Icon.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Icon.jsx\"}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/LoadIndicatorIcon.jsx\":[function(require,module,exports){\n(function (global){\n\"use strict\";\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\nvar RPT = React.PropTypes;\n\nvar styles = {\n  circle: {\n    stroke: \"white\",\n    fill: \"transparent\",\n    strokeDasharray: 50,\n    strokeDashoffset: -50,\n\n    WebkitAnimationName: \"spin\",\n    MozAnimationName: \"spin\",\n    MsAnimationName: \"spin\",\n    OAnimationName: \"spin\",\n    animationName: \"spin\",\n\n    WebkitAnimationDuration: \"1.5s\",\n    MozAnimationDuration: \"1.5s\",\n    MsAnimationDuration: \"1.5s\",\n    OAnimationDuration: \"1.5s\",\n    animationDuration: \"1.5s\",\n\n    WebkitAnimationDirection: \"forward\",\n    MozAnimationDirection: \"forward\",\n    MsAnimationDirection: \"forward\",\n    OAnimationDirection: \"forward\",\n    animationDirection: \"forward\",\n\n    WebkitAnimationIterationCount: \"infinite\",\n    MozAnimationIterationCount: \"infinite\",\n    MsAnimationIterationCount: \"infinite\",\n    OAnimationIterationCount: \"infinite\",\n    animationIterationCount: \"infinite\"\n  },\n  loader: {\n    strokeWidth: \"2px\"\n  }\n};\n\n// Documentation link:\n// https://github.ibm.com/IoT/dashboard-component/wiki/Icon-component\n//\n\nvar LoadIndicatorIcon = React.createClass({\n  displayName: \"LoadIndicatorIcon\",\n\n  propTypes: {\n    style: RPT.object,\n    theme: RPT.object,\n    //icon: RPT.isRequired,\n    color: RPT.string,\n    disabled: RPT.bool,\n    size: RPT.number,\n    onClick: RPT.func,\n    onEnter: RPT.func,\n    onLeave: RPT.func\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      disabled: false,\n      size: 24,\n      onClick: function onClick() {}\n    };\n  },\n\n  getInitialState: function getInitialState() {\n    return {};\n  },\n\n  componentWillMount: function componentWillMount() {},\n\n  render: function render() {\n\n    return React.createElement(\n      \"svg\",\n      { width: \"24px\", height: \"24px\", viewBox: \"0 0 19 19\" },\n      React.createElement(\n        \"g\",\n        { style: styles.loader, id: \"Page-1\", stroke: \"none\", fill: \"none\" },\n        React.createElement(\"circle\", { style: styles.circle, id: \"Oval\", transform: \"translate(9.000000, 9.000000) rotate(-90.000000) translate(-9.000000, -9.000000) \", cx: \"9\", cy: \"9\", r: \"8\" })\n      )\n    );\n  }\n});\n\nmodule.exports = LoadIndicatorIcon;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/MapPin.jsx\":[function(require,module,exports){\n(function (global){\n\"use strict\";\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\nvar RPT = React.PropTypes;\n\n/**\n* Pin in a map\n*/\nvar styles = {\n\tcontainer: {\n\t\theight: \"100%\",\n\t\twidth: \"100%\"\n\t}\n};\n\nvar MapPin = React.createClass({\n\tdisplayName: \"MapPin\",\n\n\n\tpropTypes: {\n\t\ttheme: RPT.object.isRequired,\n\t\tstyle: RPT.object,\n\t\ticon: RPT.string,\n\t\tid: RPT.string,\n\t\tlng: RPT.number,\n\t\tlat: RPT.number,\n\t\tshowLabel: RPT.bool,\n\t\tpayload: RPT.object\n\t},\n\n\tgetDefaultProps: function getDefaultProps() {\n\t\treturn {\n\t\t\ticon: \"/assets/dashboard/MapPinGrey.png\"\n\t\t};\n\t},\n\n\trender: function render() {\n\t\tvar style = Object.assign({}, styles.container, this.props.style ? this.props.style : {});\n\t\treturn React.createElement(\"div\", { style: style });\n\t}\n});\n\nmodule.exports = MapPin;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/MapView.jsx\":[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\nvar ReactDOM = (typeof window !== \"undefined\" ? window['ReactDOM'] : typeof global !== \"undefined\" ? global['ReactDOM'] : null);\nvar $ = (typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null);\nvar RPT = React.PropTypes;\n//var ol = require('openlayers');\nvar ol = window.ol;\n\n/**\n* Generic map to show pins\n*/\nvar styles = {\n  container: {\n    height: \"100%\",\n    width: \"100%\"\n  }\n};\n\nvar MapView = React.createClass({\n  displayName: 'MapView',\n\n\n  propTypes: {\n    theme: RPT.object.isRequired,\n    style: RPT.object,\n    showMyLocation: RPT.bool,\n    lat: RPT.number,\n    lng: RPT.number,\n    zoom: RPT.number,\n    minZoom: RPT.number,\n    maxZoom: RPT.number,\n    type: RPT.string,\n    homeIcon: RPT.string,\n    onClick: RPT.func,\n    width: RPT.number,\n    height: RPT.number\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      showMyLocation: true,\n      lng: null,\n      lat: null,\n      zoom: 18,\n      minZoom: 0,\n      maxZoom: 20,\n      type: \"osm\",\n      homeIcon: \"/assets/dashboard/MapPinRed.png\"\n    };\n  },\n\n  componentDidMount: function componentDidMount() {\n    this.createMap();\n  },\n\n  createMap: function createMap() {\n    this.destroyMap();\n\n    var dom = ReactDOM.findDOMNode(this);\n\n    var type = this.props.type;\n    // MapQuest is no longer free. I leave the code here because we might get another free\n    // card renderer in the future. I will hardcode the renderer to plain osm.\n    type = \"default\";\n\n    var layer = null;\n    if (type == \"road\") {\n      layer = new ol.layer.Tile({\n        source: new ol.source.MapQuest({ layer: 'osm' })\n      });\n    } else if (type == \"sat\") {\n      layer = new ol.layer.Tile({\n        source: new ol.source.MapQuest({ layer: 'sat' })\n      });\n    } else if (type == \"hyb\") {\n      layer = new ol.layer.Group({\n        layers: [new ol.layer.Tile({\n          source: new ol.source.MapQuest({ layer: 'sat' })\n        }), new ol.layer.Tile({\n          source: new ol.source.MapQuest({ layer: 'hyb' })\n        })]\n      });\n    } else if (type == \"osm\") {\n      layer = new ol.layer.Tile({\n        source: new ol.source.MapQuest({ layer: 'osm' })\n      });\n    } else {\n      layer = new ol.layer.Tile({\n        source: new ol.source.OSM()\n      });\n    }\n\n    var zoom = this.props.zoom;\n    if (zoom < this.props.minZoom) {\n      zoom = this.props.minZoom;\n    }\n    if (zoom > this.props.maxZoom) {\n      zoom = this.props.maxZoom;\n    }\n    this.map = new ol.Map({\n      layers: [layer],\n      interactions: ol.interaction.defaults({ mouseWheelZoom: false }),\n      target: dom,\n      view: new ol.View({\n        zoom: zoom,\n        minZoom: this.props.minZoom,\n        maxZoom: this.props.maxZoom\n      })\n    });\n\n    this.map.getView().setCenter(ol.proj.transform([this.props.lng, this.props.lat], 'EPSG:4326', 'EPSG:3857'));\n\n    this.markers = [];\n\n    if (this.props.showMyLocation) {\n      this.getMyLocation();\n    } else {\n      if (this.props.lat !== undefined && this.props.lng != undefined) {\n        this.myPosition = {\n          lng: this.props.lng,\n          lat: this.props.lat\n        };\n      }\n    }\n    this.updateMap();\n  },\n\n  initEvents: function initEvents() {\n    var element = document.getElementById('popup');\n\n    var popup = new ol.Overlay({\n      element: element,\n      positioning: 'bottom-center',\n      stopEvent: false\n    });\n    this.map.addOverlay(popup);\n\n    this.map.on('click', function (evt) {\n      var feature = this.map.forEachFeatureAtPixel(evt.pixel, function (feature, layer) {\n        return feature;\n      });\n      if (feature) {\n        var geometry = feature.getGeometry();\n        var coord = geometry.getCoordinates();\n        popup.setPosition(coord);\n        $(element).popover({\n          'placement': 'top',\n          'html': true,\n          'content': feature.get('name')\n        });\n        $(element).popover('show');\n      } else {\n        $(element).popover('destroy');\n      }\n    });\n\n    // change mouse cursor when over marker\n    this.map.on('pointermove', function (e) {\n      if (e.dragging) {\n        $(element).popover('destroy');\n        return;\n      }\n      var pixel = this.map.getEventPixel(e.originalEvent);\n      var hit = this.map.hasFeatureAtPixel(pixel);\n      this.map.getTarget().style.cursor = hit ? 'pointer' : '';\n    });\n  },\n\n  destroyMap: function destroyMap() {\n    if (this.map) {\n      this.map.setTarget(null);\n      this.map = null;\n    }\n  },\n\n  getMyLocation: function getMyLocation() {\n    var self = this;\n    navigator.geolocation.getCurrentPosition(function (position) {\n      self.myPosition = {\n        lng: position.coords.longitude,\n        lat: position.coords.latitude\n      };\n      self.updateMap();\n    }, function () {\n      console.log(\"Cannot determine location\");\n    });\n  },\n\n  updateMap: function updateMap() {\n    this.cleanupMarkers();\n\n    if (this.map && this.myPosition) {\n      if (!this.myMarker) {\n        var icon = $('<img src=\"' + this.props.homeIcon + '\">')[0];\n        this.myMarker = new ol.Overlay({\n          position: ol.proj.transform([this.myPosition.lng, this.myPosition.lat], 'EPSG:4326', 'EPSG:3857'),\n          offset: [-15, -30],\n          element: icon\n        });\n        this.map.addOverlay(this.myMarker);\n      }\n\n      //this.myMarker.setPosition([this.myPosition.lng, this.myPosition.lat]);\n    }\n\n    if (this.props.children && this.props.children.length > 0) {\n      this.showPins();\n    } else {\n      var self = this;\n      if (this.myPosition) {\n        self.map.getView().setCenter(ol.proj.transform([self.myPosition.lng, self.myPosition.lat], 'EPSG:4326', 'EPSG:3857'));\n      }\n    }\n  },\n\n  showPins: function showPins() {\n    var self = this;\n\n    var pins = this.props.children;\n    var trigger = function trigger(pin) {\n      return function () {\n        if (self.props.onClick) {\n          self.props.onClick(pin.props.payload);\n        }\n      };\n    };\n    for (var i = 0; i < pins.length; i++) {\n      var pin = pins[i];\n      var icon = pin.props.icon ? pin.props.icon : this.props.icon;\n      var lng = pin.props.lng;\n      var lat = pin.props.lat;\n      if (lng && lat) {\n        var name = pin.props.id;\n        if (!pin.props.showLabel) {\n          name = \"\";\n        }\n        var iconNode = $('<div style=\"font-size: 12px\"><img title=\"' + pin.props.id + '\" src=\"' + icon + '\">' + name + '</div>')[0];\n        var marker = new ol.Overlay({\n          position: ol.proj.transform([lng, lat], 'EPSG:4326', 'EPSG:3857'),\n          offset: [-15, -30],\n          element: iconNode\n        });\n        iconNode.addEventListener('click', trigger(pin));\n        this.map.addOverlay(marker);\n\n        this.assignMarker(marker, pin);\n        this.markers.push(marker);\n      }\n    }\n\n    this.focusMarker();\n  },\n\n  assignMarker: function assignMarker(marker, item) {\n    marker.userObject = item;\n  },\n\n  cleanupMarkers: function cleanupMarkers() {\n    if (this.myMarker) {\n      this.map.removeOverlay(this.myMarker);\n    }\n    this.myMarker = null;\n\n    if (this.markers) {\n      for (var i = 0; i < this.markers.length; i++) {\n        var marker = this.markers[i];\n        if (marker) {\n          this.map.removeOverlay(marker);\n        }\n      }\n    }\n    this.markers = [];\n  },\n\n  focusMarker: function focusMarker() {\n    var coordinates = [];\n    if (this.markers) {\n      for (var i = 0; i < this.markers.length; i++) {\n        var position = ol.proj.transform(this.markers[i].getPosition(), 'EPSG:3857', 'EPSG:4326');\n        coordinates.push(position);\n      }\n      if (this.myPosition) {\n        coordinates.push(ol.proj.transform(this.myMarker.getPosition(), 'EPSG:3857', 'EPSG:4326'));\n      }\n\n      var extent = ol.extent.boundingExtent(coordinates);\n      //extent = [8.018633106257766, 48.01862738258205, 8.96175012551248, 48.99163315445185];\n      var size = this.map.getSize();\n      var view = this.map.getView();\n      view.fitExtent(ol.proj.transformExtent(extent, 'EPSG:4326', 'EPSG:3857'), size);\n      var zoomLevel = this.map.getView().getZoom();\n      this.map.getView().setZoom(zoomLevel - 0.5);\n    }\n  },\n\n  selectMarker: function selectMarker(marker, type, item) {\n    // TODO\n  },\n\n  componentWillReceiveProps: function componentWillReceiveProps(newProps) {\n    if (!newProps.showMyLocation) {\n      this.myPosition = null;\n    }\n  },\n\n  componentWillUnmount: function componentWillUnmount() {\n    this.destroyMap();\n  },\n\n  shouldComponentUpdate: function shouldComponentUpdate(nextProps, nextState) {\n    var self = this;\n    if (nextProps.width != this.props.width || nextProps.height != this.props.height || nextProps.showMyLocation != this.props.showMyLocation || nextProps.maxZoom != this.props.maxZoom || nextProps.type != this.props.type) {\n      setTimeout(function () {\n        self.createMap();\n      }, 1);\n    } else {\n      setTimeout(function () {\n        self.updateMap();\n      }, 1);\n    }\n\n    return false;\n  },\n\n  render: function render() {\n    var style = Object.assign({}, styles.container, this.props.style ? this.props.style : {});\n    return React.createElement('div', { style: style });\n  }\n});\n\nmodule.exports = MapView;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/MultiSelect/MultiSelect.jsx\":[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar _react = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\n\nvar _TagEditor = require('./TagEditor.jsx');\n\nvar _TagEditor2 = _interopRequireDefault(_TagEditor);\n\nvar _Repeatable = require('./Repeatable.jsx');\n\nvar _Repeatable2 = _interopRequireDefault(_Repeatable);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* Importations */\n\n\n/* Class implementation for multiple selection editor */\nvar MultiSelect = function (_Component) {\n  _inherits(MultiSelect, _Component);\n\n  function MultiSelect() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, MultiSelect);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = MultiSelect.__proto__ || Object.getPrototypeOf(MultiSelect)).call.apply(_ref, [this].concat(args))), _this), _this.render = function () {\n      //The editor can have two designs: tag editor and repeatable dropdowns\n      var editor = _this.props.tagEditor ? _TagEditor2.default : _Repeatable2.default;\n\n      return React.createElement(editor, _this.props);\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n  /* Being rendered */\n\n\n  /* Property types */\n\n\n  /* Returns the default properties */\n\n\n  return MultiSelect;\n}(_react.Component);\n\nMultiSelect.propTypes = {\n  tagEditor: _react.PropTypes.bool,\n  maxItems: _react.PropTypes.number,\n  selections: _react.PropTypes.array,\n  options: _react.PropTypes.array,\n  numberOfMandatoryItems: _react.PropTypes.number,\n  textPlaceholder: _react.PropTypes.string,\n  textAddAnother: _react.PropTypes.string,\n  nls: _react.PropTypes.object,\n  theme: _react.PropTypes.object,\n  onChange: _react.PropTypes.func\n};\nMultiSelect.defaultProps = {\n  tagEditor: false,\n  maxItems: 10,\n  numberOfMandatoryItems: 0,\n  width: \"100%\",\n  selections: [],\n  options: [],\n  textPlaceholder: 'MultiSelect.textPlaceholder',\n  textAddAnother: 'MultiSelect.textAddAnother',\n  nls: { resolve: function resolve() {} },\n  theme: {},\n  onChange: function onChange() {}\n};\n;\n\nmodule.exports = MultiSelect;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./Repeatable.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/MultiSelect/Repeatable.jsx\",\"./TagEditor.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/MultiSelect/TagEditor.jsx\"}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/MultiSelect/Repeatable.jsx\":[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar _react = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\n\nvar _RepeatableAddAnother = require('./RepeatableAddAnother.jsx');\n\nvar _RepeatableAddAnother2 = _interopRequireDefault(_RepeatableAddAnother);\n\nvar _RepeatableDropDown = require('./RepeatableDropDown.jsx');\n\nvar _RepeatableDropDown2 = _interopRequireDefault(_RepeatableDropDown);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* Importations */\n\n\n/* Class implementation for the repeatable drop downs editor */\nvar Repeatable = function (_Component) {\n  _inherits(Repeatable, _Component);\n\n  /* Being created */\n\n\n  /* Converts from id to text */\n\n\n  /* Rendering */\n  function Repeatable(props) {\n    _classCallCheck(this, Repeatable);\n\n    //Initial state\n    var _this = _possibleConstructorReturn(this, (Repeatable.__proto__ || Object.getPrototypeOf(Repeatable)).call(this, props));\n\n    _this.render = function () {\n      //Component to add another\n      var addAnother = _this.state.selections.length == _this.props.options.length ? undefined : React.createElement(_RepeatableAddAnother2.default, { onClick: _this.addItem,\n        textAddAnother: _this.props.textAddAnother,\n        nls: _this.props.nls,\n        theme: _this.props.theme });\n\n      //Drop downs\n      var dropDowns = _this.createDropDowns(_this.state.selections);\n\n      //Style\n      var repeatableStyle = {\n        width: _this.props.width\n      };\n\n      //Renders the dropdowns\n      return React.createElement(\n        'div',\n        { style: repeatableStyle },\n        dropDowns,\n        addAnother\n      );\n    };\n\n    _this.returnKey = function () {\n      _this.keyGenerator = (_this.keyGenerator || 1) + 1;\n      return _this.keyGenerator;\n    };\n\n    _this.idToText = function (id) {\n      var search = _this.props.options.filter(function (o) {\n        return o.id === id;\n      });\n      return search.length === 0 ? \"\" : search[0].text;\n    };\n\n    _this.createDropDowns = function (data) {\n      var _this$props = _this.props,\n          theme = _this$props.theme,\n          textPlaceholder = _this$props.textPlaceholder,\n          nls = _this$props.nls;\n\n      var disableRemove = _this.state.selections.length <= _this.props.numberOfMandatoryItems;\n\n      return data.map(function (o, i) {\n        return React.createElement(_RepeatableDropDown2.default, { value: _this.idToText(o),\n          key: _this.state.keys[i],\n          theme: theme,\n          textPlaceholder: textPlaceholder,\n          nls: nls,\n          disableRemove: disableRemove,\n          returnOptions: _this.returnOptions,\n          onRemovedItem: _this.removedItem,\n          onChangedItem: _this.changedItem });\n      });\n    };\n\n    _this.raiseOnChange = function (selections) {\n      _this.props.onChange(selections.filter(function (o) {\n        return o != \"\";\n      }));\n    };\n\n    _this.returnOptions = function () {\n      return _this.props.options.filter(function (o) {\n        return _this.state.selections.indexOf(o.id) == -1;\n      });\n    };\n\n    _this.changedItem = function (index, value) {\n      var newSelections = _this.state.selections.slice(0);\n      newSelections[index] = value;\n\n      _this.setState({ selections: newSelections });\n      _this.raiseOnChange(newSelections);\n    };\n\n    _this.removedItem = function (index) {\n      var newSelections = _this.state.selections.filter(function (o, i) {\n        return i != index;\n      });\n      var newKeys = _this.state.keys.filter(function (o, i) {\n        return i != index;\n      });\n      _this.setState({ selections: newSelections, keys: newKeys });\n      _this.raiseOnChange(newSelections);\n    };\n\n    _this.addItem = function () {\n      var newSelections = _this.state.selections.slice(0);\n      newSelections.push(\"\");\n      var newKeys = _this.state.keys.slice(0);\n      newKeys.push(_this.returnKey());\n\n      _this.setState({ selections: newSelections, keys: newKeys });\n    };\n\n    _this.state = {\n      selections: _this.props.selections,\n      keys: _this.props.selections.map(function (o) {\n        return _this.returnKey();\n      })\n    };\n\n    //If there are mandatory items, add them to the list\n    while (_this.state.selections.length < _this.props.numberOfMandatoryItems) {\n      _this.state.selections.push(\"\");\n      _this.state.keys.push(_this.returnKey());\n    }\n    return _this;\n  }\n\n  /* Creates the dropdowns */\n\n\n  /* Returns a random key */\n\n\n  /* Raise onChange */\n\n\n  /* Returns the possible options for the dropdown */\n\n\n  /* Changed an item */\n\n\n  /* Removed an item */\n\n\n  /* Add another new blank item */\n\n\n  return Repeatable;\n}(_react.Component);\n\n;\n\n/* Exports */\nmodule.exports = Repeatable;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./RepeatableAddAnother.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/MultiSelect/RepeatableAddAnother.jsx\",\"./RepeatableDropDown.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/MultiSelect/RepeatableDropDown.jsx\"}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/MultiSelect/RepeatableAddAnother.jsx\":[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar _react = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\n\nvar _Icon = require('../Icon.jsx');\n\nvar _Icon2 = _interopRequireDefault(_Icon);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* Importations */\n\n\n/* Class implementation for the add another button */\nvar AddAnother = function (_Component) {\n  _inherits(AddAnother, _Component);\n\n  function AddAnother() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, AddAnother);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = AddAnother.__proto__ || Object.getPrototypeOf(AddAnother)).call.apply(_ref, [this].concat(args))), _this), _this.render = function () {\n      /* Rendered icon */\n      var icon = React.createElement(_Icon2.default, {\n        icon: 'add-new',\n        theme: _this.props.theme });\n      var nls = _this.props.nls;\n\n      /* Style */\n      var style = {\n        cursor: \"pointer\"\n      };\n\n      /* Renders */\n      return React.createElement(\n        'div',\n        { style: style,\n          onClick: _this.props.onClick },\n        icon,\n        ' \\xA0',\n        nls.resolve(_this.props.textAddAnother)\n      );\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  /* Rendering */\n\n\n  return AddAnother;\n}(_react.Component);\n\n;\n\n/* Exports */\nmodule.exports = AddAnother;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"../Icon.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Icon.jsx\"}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/MultiSelect/RepeatableDropDown.jsx\":[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar _react = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\n\nvar _Option = require('../Option.jsx');\n\nvar _Option2 = _interopRequireDefault(_Option);\n\nvar _Select = require('../Select.jsx');\n\nvar _Select2 = _interopRequireDefault(_Select);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* Importations */\n\n\n/* Class implementation for the add another button */\nvar DropDown = function (_Component) {\n  _inherits(DropDown, _Component);\n\n  function DropDown() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, DropDown);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = DropDown.__proto__ || Object.getPrototypeOf(DropDown)).call.apply(_ref, [this].concat(args))), _this), _this.render = function () {\n      var _this$props = _this.props,\n          theme = _this$props.theme,\n          value = _this$props.value,\n          textPlaceholder = _this$props.textPlaceholder,\n          nls = _this$props.nls;\n\n\n      var styleCombo = {\n        display: \"table-cell\",\n        width: \"100%\"\n      };\n      var styleRemove = {\n        display: \"table-cell\",\n        minWidth: \"45px\",\n        padding: \"10px\",\n        verticalAlign: \"top\"\n      };\n\n      var comboColumn = React.createElement(\n        'div',\n        { style: styleCombo },\n        React.createElement(\n          _Select2.default,\n          { theme: theme,\n            initialValue: value,\n            placeholder: nls.resolve(textPlaceholder),\n            onChange: _this.changed },\n          _this.buildComboChildren()\n        )\n      );\n\n      var removeColumn = React.createElement(\n        'div',\n        { style: styleRemove },\n        _this.returnRemoveIcon()\n      );\n\n      return React.createElement(\n        'div',\n        { ref: 'container' },\n        comboColumn,\n        removeColumn\n      );\n    }, _this.buildComboChildren = function () {\n      return _this.props.returnOptions().map(function (o, i) {\n        return React.createElement(\n          _Option2.default,\n          { value: o.id, key: i },\n          o.text\n        );\n      });\n    }, _this.changed = function (value) {\n      _this.props.onChangedItem(_this.getIndex(), value);\n    }, _this.getIndex = function () {\n      //Determines this item index\n      var container = _this.refs.container;\n      var parent = container.parentNode;\n      return Array.prototype.indexOf.call(parent.childNodes, container);\n    }, _this.onRemove = function () {\n      //Calls parent method\n      _this.props.onRemovedItem(_this.getIndex());\n    }, _this.returnRemoveIcon = function () {\n      var icon = React.createElement(IoTFCommon.Icon, {\n        icon: 'delete',\n        disabled: _this.props.disableRemove,\n        theme: _this.props.theme });\n\n      var anchor = React.createElement(\n        'a',\n        {\n          href: 'javascript:void(0)',\n          onClick: _this.onRemove },\n        icon\n      );\n\n      return _this.props.disableRemove ? icon : anchor;\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  /* Rendering */\n\n\n  /* Returns the default properties */\n\n\n  /* Builds the children */\n\n\n  /* Changed */\n\n\n  /* Returns this item index */\n\n\n  /* Clicked in the button to remove the item */\n\n\n  /* Returns the remove icon */\n\n\n  return DropDown;\n}(_react.Component);\n\nDropDown.defaultProps = {\n  disableRemove: false\n};\n;\n\n/* Exports */\nmodule.exports = DropDown;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"../Option.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Option.jsx\",\"../Select.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Select.jsx\"}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/MultiSelect/TagEditor.jsx\":[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar _react = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* Importations */\n\n\n/* Class implementation for the tag editor */\nvar TagEditor = function (_Component) {\n  _inherits(TagEditor, _Component);\n\n  function TagEditor() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, TagEditor);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = TagEditor.__proto__ || Object.getPrototypeOf(TagEditor)).call.apply(_ref, [this].concat(args))), _this), _this.render = function () {\n      return React.createElement(\n        'span',\n        null,\n        'The tag editor has not being implemented yet'\n      );\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  /* Rendering */\n\n\n  return TagEditor;\n}(_react.Component);\n\n;\n\n/* Exports */\nmodule.exports = TagEditor;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Option.jsx\":[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\nvar RPT = React.PropTypes;\nvar Icon = require('./Icon.jsx');\n\nvar styles = {\n    optionContainer: {\n        borderStyle: \"solid\",\n        padding: \"10px\",\n        fontSize: \"14px\",\n        borderRightWidth: \"2px\",\n        borderLeftWidth: \"2px\",\n        borderColor: \"#E7E7E7\",\n        backgroundColor: \"\",\n        color: \"\",\n        cursor: \"pointer\",\n        boxSizing: \"border-box\",\n        MozBoxSizing: \"border-box\",\n        WebkitBoxSizing: \"border-box\"\n    },\n    selectionTickContainer: {\n        display: \"inline\",\n        float: \"right\"\n    },\n    selectionTick: {}\n};\n\nvar Option = React.createClass({\n    displayName: 'Option',\n\n    propTypes: {\n        theme: RPT.object,\n        style: RPT.object,\n        value: RPT.string,\n        selected: RPT.bool,\n        disabled: RPT.bool,\n        onSelect: RPT.func,\n        onClick: RPT.func,\n        lastChild: RPT.bool\n    },\n\n    getInitialState: function getInitialState() {\n        return {\n            hover: false,\n            disabled: this.props.disabled || false\n        };\n    },\n\n    getDefaultProps: function getDefaultProps() {\n        return {\n            selected: false,\n            theme: {\n                \"light\": \"#c7c7c7\",\n                \"title\": \"#323232\",\n                \"dark\": \"#5a5a5a\"\n            }\n        };\n    },\n\n    componentWillMount: function componentWillMount() {\n        styles.optionContainer.borderColor = \"#E7E7E7\";\n    },\n\n    mouseOver: function mouseOver() {\n        this.setState({ hover: true });\n    },\n\n    mouseOut: function mouseOut() {\n        this.setState({ hover: false });\n    },\n\n    handleMouseDown: function handleMouseDown(event) {\n        event.preventDefault();\n        event.stopPropagation();\n        if (!this.state.disabled) {\n            if (typeof this.props.children == \"string\" && this.props.children !== \"\") {\n\n                this.props.onSelect(this.props.value, this.props.children, event);\n                if (this.props.onClick) {\n                    this.props.onClick();\n                }\n            } else {\n                this.props.onSelect(this.props.value, event);\n            }\n        }\n    },\n\n    render: function render() {\n\n        if (this.props.lastChild === true) {\n            styles.optionContainer.borderBottomWidth = \"2px\";\n            styles.optionContainer.borderTopWidth = \"0px\";\n        } else if (this.props.firstChild === true) {\n            styles.optionContainer.borderTopWidth = \"1px\";\n            styles.optionContainer.borderBottomWidth = \"0px\";\n        } else {\n            styles.optionContainer.borderTopWidth = \"0px\";\n            styles.optionContainer.borderBottomWidth = \"0px\";\n        }\n\n        var option = \"\";\n\n        if (!this.state.disabled) {\n            styles.optionContainer.cursor = \"pointer\";\n            if (this.state.hover || this.props.selected) {\n                styles.optionContainer.backgroundColor = \"#4581E0\";\n                styles.optionContainer.color = \"#FFFFFF\";\n                styles.selectionTick.color = \"#FFFFFF\";\n                styles.optionContainer.borderColor = \"#4581E0\";\n            } else {\n                styles.optionContainer.backgroundColor = \"#F7F7F7\";\n                styles.optionContainer.color = this.props.theme.major;\n                styles.selectionTick.color = this.props.theme.title;\n                styles.optionContainer.borderColor = \"#E7E7E7\";\n            }\n        } else {\n            styles.optionContainer.backgroundColor = \"#F9F9F9\";\n            styles.optionContainer.color = this.props.theme.minor;\n            styles.optionContainer.cursor = \"default\";\n        }\n\n        var selectionTick = this.props.selected ? React.createElement(\n            'div',\n            { style: styles.selectionTickContainer },\n            React.createElement(Icon, { theme: this.props.theme, icon: 'check', color: styles.selectionTick.color, size: 12 }),\n            ' '\n        ) : \"\";\n\n        var containerStyle = Object.assign({}, styles.optionContainer, this.props.style);\n        if (this.props.onSelect !== undefined) {\n            option = React.createElement(\n                'div',\n                { onMouseDown: this.handleMouseDown, style: containerStyle,\n                    onMouseOver: this.mouseOver, onMouseOut: this.mouseOut\n                },\n                this.props.children,\n                selectionTick\n            );\n        } else {\n            option = React.createElement(\n                'option',\n                { value: this.props.value, selected: this.props.selected },\n                this.props.children\n            );\n        }\n\n        return option;\n    }\n});\n\nmodule.exports = Option;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./Icon.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Icon.jsx\"}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Paging.jsx\":[function(require,module,exports){\n(function (global){\n'use strict';\n\n/************ Dependencies *************/\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\nvar Icon = require('./Icon.jsx');\nvar RPT = React.PropTypes;\n\n/************ Styles *************/\nvar styles = {\n  bar: {\n    backgroundColor: \"#f1f1f1\",\n    border: \"1px solid #dfdfdf\",\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    padding: \"5px\",\n    width: \"100%\"\n  },\n  currentMaxDivider: {\n    marginLeft: \"5px\",\n    marginRight: \"5px\",\n    textAlign: \"center\"\n  },\n  inputPageNo: {\n    width: \"30px\"\n  },\n  inputPageNoLarge: {\n    width: \"40px\"\n  },\n  pagingBackwards: {\n    display: \"inline-block\",\n    marginLeft: \"10px\"\n  },\n  pagingForwards: {\n    display: \"inline-block\",\n    marginRight: \"10px\"\n  }\n};\n\nvar Paging = React.createClass({\n  displayName: 'Paging',\n\n  /************ Models *************/\n  propTypes: {\n    onChange: RPT.func,\n    perPage: RPT.number,\n    style: RPT.object,\n    theme: RPT.object.isRequired,\n    total: RPT.number,\n    focusItem: RPT.number,\n    onClearSelection: RPT.func\n  },\n\n  /************ Controller *************/\n  getDefaultProps: function getDefaultProps() {\n    return {\n      perPage: -1,\n      total: 0\n    };\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      currentPage: 1,\n      currentPageBuffer: 1,\n      showPaging: false\n    };\n  },\n\n  componentDidMount: function componentDidMount() {},\n\n  componentWillUnmount: function componentWillUnmount() {},\n\n  componentWillReceiveProps: function componentWillReceiveProps(newProps) {\n    if (newProps.total < 1) {\n      this.setState({\n        showPaging: false\n      });\n      // render anyway to clear the last entries\n      if (this.props.total != newProps.total && this.props.onChange) {\n        this.props.onChange();\n      }\n    } else {\n      if (!this.state.showPaging || newProps.focusItem != this.props.focusItem || newProps.perPage != this.props.perPage || newProps.total != this.props.total) {\n        var self = this;\n        self.setState({\n          showPaging: true\n        });\n        self.updatePage(self.state.currentPage, newProps.perPage, newProps.total, newProps.focusItem);\n      }\n    }\n  },\n\n  // Paging functions\n  goToFirstPage: function goToFirstPage() {\n    if (this.props.onClearSelection) {\n      this.props.onClearSelection();\n    }\n    this.updatePage(1, this.props.perPage, this.props.total);\n  },\n\n  goToLastPage: function goToLastPage() {\n    if (this.props.onClearSelection) {\n      this.props.onClearSelection();\n    }\n    this.updatePage(Math.ceil(this.props.total / this.props.perPage), this.props.perPage, this.props.total);\n  },\n\n  goToNextPage: function goToNextPage() {\n    if (this.props.onClearSelection) {\n      this.props.onClearSelection();\n    }\n    this.updatePage(this.state.currentPage + 1, this.props.perPage, this.props.total);\n  },\n\n  goToPreviousPage: function goToPreviousPage() {\n    if (this.props.onClearSelection) {\n      this.props.onClearSelection();\n    }\n    this.updatePage(this.state.currentPage - 1, this.props.perPage, this.props.total);\n  },\n\n  handleNewPageInput: function handleNewPageInput(event) {\n    if (this.props.onClearSelection) {\n      this.props.onClearSelection();\n    }\n    console.log(\"handleNewPageInput:#\", event.target.value.length, event.target.value.length !== 0);\n    if (event.target.value.length !== 0) {\n      this.updatePage(event.target.value, this.props.perPage, this.props.total);\n    } else {\n      this.setState({ currentPage: \"\", currentPageBuffer: this.state.currentPage });\n    }\n  },\n\n  handlePagingInputClick: function handlePagingInputClick(event) {\n    var self = this;\n    $(this.refs.pagingInput).blur(function (e) {\n      if (e.target.value.length == 0) {\n        $(self.refs.pagingInput).val(self.state.currentPageBuffer);\n        self.setState({ currentPage: self.state.currentPageBuffer, currentPageBuffer: 1 });\n      }\n    });\n    $(this.refs.pagingInput).select();\n  },\n\n  updatePage: function updatePage(newPage, perPage, total, focusItem) {\n    if (newPage < 1) newPage = 1;\n    if (perPage < -1) perPage = -1;\n    if (total < 0) total = 0;\n    if (focusItem !== undefined && focusItem < 0) focusItem = undefined;\n\n    var self = this;\n    console.log(\"newPage\", newPage);\n    if (perPage == -1) {\n      this.setState({\n        currentPage: 1\n      }, function () {\n        if (self.props.onChange) {\n          var from = 0;\n          var to = 0;\n          var entriesPerNewPage = 1;\n          self.props.onChange(from, to, entriesPerNewPage, newPage);\n        }\n      });\n    } else {\n      var lastPage = Math.ceil(total / perPage);\n\n      // calculate new page if we want to focus on an item\n      if (focusItem !== undefined) {\n        if (typeof focusItem == \"string\") {\n          focusItem = parseInt(focusItem, 10);\n        }\n        newPage = Math.floor(focusItem / perPage) + 1;\n        console.log(\"New page: \" + newPage + \" focusItem: \" + focusItem);\n      }\n\n      // check if new page is a different, valid number\n      if (typeof newPage == \"string\") {\n        newPage = parseInt(newPage, 10);\n      }\n      if (typeof newPage !== \"number\" || isNaN(newPage) || newPage < 1 || newPage === this.state.currentPage && perPage === this.props.perPage && total === this.props.total) {\n        return;\n      }\n\n      // check if the newPage is available\n      if (lastPage < newPage) {\n        newPage = lastPage;\n      }\n\n      // update current page\n      //      if (newPage != this.state.currentPage) {\n      this.setState({\n        currentPage: newPage\n      }, function () {\n        //call properties onChange function\n        if (self.props.onChange) {\n          var from = (newPage - 1) * perPage;\n          var to = Math.min(newPage * perPage, total) - 1;\n          var entriesPerNewPage = to - from + 1;\n          self.props.onChange(from, to, entriesPerNewPage, newPage);\n        }\n      });\n      //      }\n    }\n  },\n\n  /************ View *************/\n  render: function render() {\n    if (!this.state.showPaging) {\n      return React.createElement('span', null);\n    }\n\n    var lastPage = Math.ceil(this.props.total / this.props.perPage);\n    if (lastPage < 1) {\n      lastPage = \"\";\n    }\n    var style = Object.assign({}, styles, this.props.style ? this.props.style : {});\n\n    // View output\n    return React.createElement(\n      'div',\n      { style: style.bar },\n      React.createElement(\n        'div',\n        null,\n        React.createElement(\n          'div',\n          { style: style.pagingBackwards },\n          React.createElement(Icon, { icon: \"firstPage\", nls: this.props.nls, onClick: this.goToFirstPage, theme: this.props.theme })\n        ),\n        React.createElement(\n          'div',\n          { style: style.pagingBackwards },\n          React.createElement(Icon, { icon: \"previousPage\", nls: this.props.nls, onClick: this.goToPreviousPage, theme: this.props.theme })\n        )\n      ),\n      React.createElement(\n        'div',\n        null,\n        React.createElement(\n          'span',\n          null,\n          React.createElement('input', { ref: 'pagingInput', onChange: this.handleNewPageInput, onClick: this.handlePagingInputClick, style: lastPage > 9 ? style.inputPageNoLarge : style.inputPageNo, type: 'text', value: this.state.currentPage })\n        ),\n        React.createElement(\n          'span',\n          { style: style.currentMaxDivider },\n          '/'\n        ),\n        React.createElement(\n          'span',\n          null,\n          lastPage\n        )\n      ),\n      React.createElement(\n        'div',\n        null,\n        React.createElement(\n          'div',\n          { style: style.pagingForwards },\n          React.createElement(Icon, { icon: \"nextPage\", nls: this.props.nls, onClick: this.goToNextPage, theme: this.props.theme })\n        ),\n        React.createElement(\n          'div',\n          { style: style.pagingForwards },\n          React.createElement(Icon, { icon: \"lastPage\", nls: this.props.nls, onClick: this.goToLastPage, theme: this.props.theme })\n        )\n      )\n    );\n  }\n\n});\n\nmodule.exports = Paging;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./Icon.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Icon.jsx\"}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Portal.jsx\":[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\nvar ReactDOM = (typeof window !== \"undefined\" ? window['ReactDOM'] : typeof global !== \"undefined\" ? global['ReactDOM'] : null);\n\nvar RPT = React.PropTypes;\n\nvar styles = {};\n\nvar Portal = React.createClass({\n  displayName: 'Portal',\n\n\n  componentDidMount: function componentDidMount() {\n    this.popup = document.createElement(\"div\");\n    this.popup.style.position = 'relative';\n    this.popup.style.zIndex = '9999';\n    document.body.style.overflow = 'hidden';\n    document.body.appendChild(this.popup);\n    this._child = ReactDOM.render(this.props.children, this.popup);\n  },\n\n  componentDidUpdate: function componentDidUpdate() {\n    if (!this._child) {\n      return;\n    }\n    this._child.setState({});\n  },\n\n  componentWillUnmount: function componentWillUnmount() {\n    React.unmountComponentAtNode(this.popup);\n    document.body.style.overflow = 'auto';\n    document.body.removeChild(this.popup);\n  },\n\n  render: function render() {\n    return null;\n  }\n\n});\n\nmodule.exports = Portal;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/SearchField.jsx\":[function(require,module,exports){\n(function (global){\n'use strict';\n\n/*global require, module */\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\nvar RPT = React.PropTypes;\nvar re_weburl = require('../../Dashboard/utils/regex-weburl');\nvar Icon = require('./Icon.jsx');\n\nvar styles = {\n  field: {\n    border: 'none',\n    borderBottom: '3px solid #9EAAA9',\n    boxShadow: 'none!important',\n    display: 'block',\n    position: 'relative',\n    width: '100%',\n    height: '35px',\n    padding: '8px 0px',\n    fontWeight: 'bold',\n    fontSize: '14px',\n    color: '#555',\n    outline: 'none',\n    lineHeight: '1.42857143',\n    boxSizing: 'border-box',\n    WebkitTransition: 'all .2s ease-in-out',\n    transition: 'all .2s ease-in-out',\n    backgroundColor: '#EFEFEF',\n    borderColor: 'transparent',\n    paddingLeft: \"10px\"\n\n  },\n  fieldContainer: {\n    width: '100%',\n    float: 'left'\n  },\n  validationWarning: {\n    position: 'relative',\n    top: '-25px',\n    textAlign: 'right',\n    height: '0px',\n    paddingRight: '10px'\n  },\n  after: {\n    clear: 'both'\n  },\n  formElement: {\n    paddingLeft: \"40px\",\n    position: \"relative\"\n  },\n  icon: {\n    position: \"absolute\",\n    top: \"8px\",\n    left: \"8px\"\n  }\n\n};\n\nvar SearchField = React.createClass({\n  displayName: 'SearchField',\n\n\n  propTypes: {\n    theme: RPT.object.isRequired,\n    style: RPT.object,\n    onChange: RPT.func,\n    onSubmit: RPT.func,\n    initialValue: RPT.string,\n    placeholder: RPT.string,\n    readOnly: RPT.bool,\n    type: RPT.string\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      initialValue: '',\n      type: 'text',\n      style: { label: {} },\n      readOnly: false\n    };\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      value: this.props.initialValue || '',\n      isValid: true\n    };\n  },\n\n  validateType: function validateType(value) {\n    var currType = this.props.type || 'text';\n    var isValid = true;\n\n    switch (currType) {\n      case 'url':\n        isValid = value.match(re_weburl) !== null;\n    }\n\n    return isValid;\n  },\n\n  componentWillReceiveProps: function componentWillReceiveProps(props) {\n    if (props.value) {\n      this.setState({ value: props.value });\n    }\n  },\n\n  handleChange: function handleChange(event) {\n    this.setState({\n      value: event.target.value\n    });\n    if (this.props.onChange) {\n      this.props.onChange(event.target.value);\n    }\n    this.setState({ isValid: this.validateType(event.target.value) });\n  },\n\n  handleSubmit: function handleSubmit(event) {\n    if (event.key == \"Enter\") {\n      if (this.props.onSubmit) {\n        this.props.onSubmit(event.target.value);\n      }\n    }\n  },\n\n  handleClick: function handleClick(event) {\n    this.setState({\n      hasFocus: true\n    });\n    if (this.props.onClick) {\n      this.props.onClick(event.target.value);\n    }\n  },\n\n  render: function render() {\n    var warning = this.state.isValid ? '' : React.createElement(\n      'div',\n      { style: styles.validationWarning },\n      '!'\n    );\n\n    var inputStyle = Object.assign({}, styles.field, this.props.style);\n\n    var containerStyle = Object.assign({}, styles.fieldContainer, this.props.containerStyle);\n\n    var inputField = React.createElement('input', { type: this.props.type, style: inputStyle, name: 'field', value: this.state.value, readOnly: this.props.readOnly, onKeyDown: this.handleSubmit, onChange: this.handleChange, onFocus: this.handleOnFocus, onClick: this.handleClick, onBlur: this.handleOnBlur, placeholder: this.props.placeholder });\n\n    return React.createElement(\n      'div',\n      { style: styles.formElement },\n      React.createElement(Icon, { theme: this.props.theme, color: this.props.theme.accent, icon: 'search', size: 24, style: styles.icon }),\n      React.createElement(\n        'div',\n        { style: containerStyle },\n        inputField,\n        warning\n      ),\n      React.createElement('div', { style: styles.after })\n    );\n  }\n});\n\nmodule.exports = SearchField;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"../../Dashboard/utils/regex-weburl\":\"/Users/frank/Documents/Projects/IOTFoundation/components/Dashboard/utils/regex-weburl.js\",\"./Icon.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Icon.jsx\"}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Section.jsx\":[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\nvar Reflux = (typeof window !== \"undefined\" ? window['Reflux'] : typeof global !== \"undefined\" ? global['Reflux'] : null);\n\nvar RPT = React.PropTypes;\n\nvar styles = {\n  sectionWrapper: {\n    clear: \"both\",\n    marginBottom: '40px'\n  },\n\n  headingSection: {\n    color: \"#5c91cc\",\n    fontWeight: \"700\",\n    display: \"inline-block\",\n    textTransform: \"none\",\n    fontSize: \"14px\",\n    marginTop: \"20px\",\n    marginBottom: '10px'\n  },\n\n  hr: {\n    borderTop: '1px solid #eee',\n    boxSizing: 'content-box',\n    height: '2px',\n    backgroundColor: '#4983c6',\n    marginTop: '0px',\n    borderStyle: 'solid',\n    marginBottom: '20px',\n    border: '0px'\n  }\n\n};\n\nvar Section = React.createClass({\n  displayName: 'Section',\n\n\n  propTypes: {},\n\n  getDefaultProps: function getDefaultProps() {\n    return {};\n  },\n\n  getInitialState: function getInitialState() {\n    return {};\n  },\n\n  componentDidUpdate: function componentDidUpdate() {},\n\n  render: function render() {\n    var hrStyle = styles.hr;\n    var headingSection = \"\";\n\n    headingSection = React.createElement(\n      'div',\n      null,\n      this.props.headingSection\n    );\n\n    if (this.props.theme) {\n      hrStyle = Object.assign({}, hrStyle, { backgroundColor: this.props.theme.light });\n    }\n\n    return React.createElement(\n      'div',\n      { style: styles.sectionWrapper },\n      React.createElement(\n        'div',\n        { style: styles.headingSection },\n        headingSection\n      ),\n      React.createElement('hr', { style: hrStyle }),\n      React.createElement(\n        'div',\n        null,\n        this.props.children\n      )\n    );\n  }\n});\nmodule.exports = Section;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/SegmentedBar.jsx\":[function(require,module,exports){\n(function (global){\n\"use strict\";\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\nvar RPT = React.PropTypes;\n\nvar styles = {\n\tcontainer: {\n\t\tposition: \"relative\",\n\t\theight: \"13px\",\n\t\twidth: \"100%\"\n\t},\n\tsegmentContainer: {\n\t\tposition: \"relative\",\n\t\theight: \"100%\",\n\t\tfloat: \"left\"\n\n\t},\n\tsegment: {\n\t\twidth: \"100%\",\n\t\theight: \"100%\",\n\t\ttransition: \"outlineWidth 0.3s ease\",\n\t\tzIndex: 0,\n\t\toutline: \"0px solid black\"\n\t},\n\tsegmentHover: {\n\t\tzIndex: 1,\n\t\toutline: \"3px solid black\"\n\t},\n\tsegmentContainerHover: {\n\t\tzIndex: 1\n\t},\n\tbreak: {\n\t\tclear: \"both\"\n\t}\n};\n\nvar Segment = React.createClass({\n\tdisplayName: \"Segment\",\n\n\tpropTypes: {\n\t\ttheme: RPT.object.isRequired,\n\t\tstyle: RPT.object,\n\t\tcolor: RPT.string,\n\t\ttooltip: RPT.string,\n\t\tonSelect: RPT.func\n\t},\n\n\tgetInitialState: function getInitialState() {\n\t\treturn {\n\t\t\tselected: false\n\t\t};\n\t},\n\n\tonSelect: function onSelect() {\n\t\tif (this.props.onSelect) {\n\t\t\tthis.props.onSelect(this.props.tooltip, this.anchor);\n\t\t}\n\t\tthis.setState({ selected: true });\n\t},\n\n\tonDeselect: function onDeselect() {\n\t\tif (this.props.onSelect) {\n\t\t\tthis.props.onSelect(null, null);\n\t\t}\n\t\tthis.setState({ selected: false });\n\t},\n\n\tsetAnchor: function setAnchor(anchor) {\n\t\tthis.anchor = anchor;\n\t},\n\n\trender: function render() {\n\t\tvar style = Object.assign({}, styles.segmentContainer, this.props.style ? this.props.style : {});\n\t\tvar segmentStyle = Object.assign({}, styles.segment, { backgroundColor: this.props.theme.normal });\n\n\t\tif (this.props.color) {\n\t\t\tsegmentStyle = Object.assign(segmentStyle, { backgroundColor: this.props.color });\n\t\t}\n\n\t\tif (this.state.selected) {\n\t\t\tsegmentStyle = Object.assign(segmentStyle, styles.segmentHover, { outlineColor: this.props.color });\n\t\t\tstyle = Object.assign(style, styles.segmentContainerHover);\n\t\t}\n\n\t\treturn React.createElement(\n\t\t\t\"div\",\n\t\t\t{ style: style, ref: this.setAnchor },\n\t\t\tReact.createElement(\"div\", { style: segmentStyle, onMouseOver: this.onSelect, onMouseOut: this.onDeselect })\n\t\t);\n\t}\n});\n\nvar SegmentedBar = React.createClass({\n\tdisplayName: \"SegmentedBar\",\n\n\tpropTypes: {\n\t\ttheme: RPT.object.isRequired,\n\t\tstyle: RPT.object,\n\t\ttotal: RPT.number,\n\t\tsegments: RPT.array,\n\t\tonSelect: RPT.func\n\t},\n\n\trender: function render() {\n\t\tvar self = this;\n\t\tvar style = Object.assign({}, styles.container, this.props.style ? this.props.style : {});\n\n\t\tvar segments = null;\n\t\tif (this.props.segments) {\n\t\t\tvar count = 0;\n\t\t\tvar sum = 0;\n\t\t\tsegments = this.props.segments.map(function (item) {\n\t\t\t\tvar percentage = 0;\n\t\t\t\tif (self.props.total) {\n\t\t\t\t\tpercentage = Math.round(item.count / self.props.total * 100);\n\t\t\t\t}\n\t\t\t\tsum += percentage;\n\t\t\t\tif (sum > 100) {\n\t\t\t\t\tpercentage = percentage - 1;\n\t\t\t\t}\n\t\t\t\tvar segmentStyle = { width: percentage + \"%\" };\n\t\t\t\treturn React.createElement(\n\t\t\t\t\tSegment,\n\t\t\t\t\t{ key: count++, theme: self.props.theme, color: item.color, tooltip: item.tooltip, onSelect: self.props.onSelect, style: segmentStyle },\n\t\t\t\t\titem.count\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\n\t\treturn React.createElement(\n\t\t\t\"div\",\n\t\t\t{ style: style },\n\t\t\tsegments,\n\t\t\tReact.createElement(\"div\", { style: styles.break })\n\t\t);\n\t}\n});\n\nmodule.exports = SegmentedBar;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Select.jsx\":[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\nvar ReactCSSTransitionGroup = React.addons.CSSTransitionGroup;\nvar RPT = React.PropTypes;\nvar InputField = require('./InputField.jsx');\nvar Icon = require('./Icon.jsx');\n\nvar styles = {\n  selectBox: {\n    cursor: 'pointer',\n    position: 'relative'\n  },\n  optionsContainer: {\n    position: 'absolute',\n    minWidth: '100%',\n    zIndex: '1990'\n  },\n  iconContainer: {\n    position: 'relative',\n    top: '-30px',\n    float: 'right',\n    outlineWidth: '0px !important'\n  },\n  inputField: {\n    width: '100%',\n    cursor: 'pointer'\n  },\n  after: {\n    //clear: 'both'\n  }\n};\n\n// Documentation link:\n// https://github.ibm.com/IoT/dashboard-component/wiki/Select-component\n//\n\nvar SelectBox = React.createClass({\n  displayName: 'SelectBox',\n\n  propTypes: {\n    className: RPT.string,\n    theme: RPT.object.isRequired,\n    style: RPT.object,\n    optionsStyle: RPT.object,\n    inputStyle: RPT.object,\n    onChange: RPT.func,\n    placeholder: RPT.string,\n    label: RPT.string,\n    initialValue: RPT.string,\n    noUnderscore: RPT.bool,\n    value: RPT.string\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      initialValue: '',\n      placeholder: '',\n      noUnderscore: false\n    };\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      isOpen: false,\n      value: this.props.value || null\n    };\n  },\n\n  componentDidMount: function componentDidMount() {\n    this.updateInput(this.props.value);\n  },\n\n  componentWillReceiveProps: function componentWillReceiveProps(props) {\n    this.updateInput(props.value);\n  },\n\n  onSelect: function onSelect(value, label, event) {\n    this.setState({ input: label, isOpen: false, value: value });\n    if (this.props.onChange) {\n      this.props.onChange(value);\n    }\n  },\n\n  toggleOptionsContainer: function toggleOptionsContainer() {\n    this.setState({ isOpen: true }); //!this.state.isOpen });\n    if (!this.state.isOpen) {\n      this.onFocus();\n    }\n  },\n\n  onFocus: function onFocus() {\n    if (this.props.onFocus) {\n      this.props.onFocus();\n    }\n  },\n\n  onBlur: function onBlur() {\n    //this.setState({ isOpen: false });\n    if (this.props.onBlur) {\n      this.props.onBlur();\n    }\n  },\n\n  updateInput: function updateInput(newVal) {\n    var self = this;\n    React.Children.forEach(this.props.children, function (child) {\n      if (newVal === child.props.value) {\n        self.setState({ input: child.props.children, value: newVal });\n      }\n    });\n  },\n\n  handleChange: function handleChange(event) {},\n\n  renderInputField: function renderInputField() {\n    var style = Object.assign({}, styles.inputField, this.props.inputStyle ? this.props.inputStyle : {});\n    return React.createElement(InputField, {\n      style: style,\n      containerStyle: { width: '100%', cursor: 'pointer' },\n      theme: this.props.theme,\n      placeholder: this.props.placeholder,\n      initialValue: this.props.initialValue,\n      value: this.state.input,\n      onFocus: this.onFocus,\n      onClick: this.toggleOptionsContainer, o: true,\n      nBlur: this.onBlur,\n      noTyping: true,\n      noUnderscore: this.props.noUnderscore });\n  },\n\n  renderChildren: function renderChildren() {\n    var self = this;\n    var children = this.props.children;\n    var lastIndex = Array.isArray(children) ? children.length - 1 : null;\n    var childrenElement = React.Children.map(children, function (child, idx) {\n      var currProps = {};\n      if (lastIndex && lastIndex === idx) {\n        currProps = { lastChild: true, firstChild: false };\n      } else if (idx === 0) {\n        currProps = { lastChild: false, firstChild: true };\n      } else {\n        currProps = { lastChild: false, firstChild: false };\n      }\n\n      if (self.state.value === child.props.value) {\n        currProps.selected = true;\n      } else {\n        currProps.selected = false;\n      }\n\n      currProps.onSelect = self.onSelect;\n      var newChild = React.cloneElement(child, currProps);\n      return newChild;\n    });\n    var optionsContainerStyle = Object.assign({}, styles.optionsContainer, this.props.optionsStyle);\n    return React.createElement(\n      'div',\n      { style: optionsContainerStyle },\n      React.createElement(\n        ReactCSSTransitionGroup,\n        { transitionName: 'actionIcons', transitionEnterTimeout: 500, transitionLeaveTimeout: 500 },\n        childrenElement\n      )\n    );\n  },\n\n  render: function render() {\n    var selectBox = Object.assign({}, styles.selectBox, this.props.style);\n    return React.createElement(\n      'div',\n      { className: this.props.className, style: selectBox },\n      this.renderInputField(),\n      React.createElement(\n        'a',\n        { style: styles.iconContainer, tabIndex: '1', onBlur: this.onBlur, href: 'javascript:void(0)' },\n        React.createElement(Icon, { icon: \"arrow-drop-down\", size: 15, theme: this.props.theme, onClick: this.toggleOptionsContainer })\n      ),\n      this.state.isOpen ? this.renderChildren() : '',\n      React.createElement('div', { style: styles.after })\n    );\n  }\n});\n\nmodule.exports = SelectBox;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./Icon.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Icon.jsx\",\"./InputField.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/InputField.jsx\"}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/SimpleDialog.jsx\":[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\n\nvar Icon = require('./Icon.jsx');\n\nvar RPT = React.PropTypes;\n\nvar styles = {\n  backdrop: {\n    backgroundColor: 'rgba(21,41,53,0.3)',\n    width: '100%',\n    height: '100%',\n    position: 'fixed',\n    top: '0px',\n    left: '0px',\n    zIndex: '2000',\n    overflowY: 'auto',\n    overflowX: 'auto'\n  },\n  dialog: {\n    maxWidth: '600px',\n    maxHeight: '500px',\n    fontSize: '14px',\n    fontFamily: '\"Helvetica Neue\",HelveticaNeue,Helvetica,\"Segoe UI\",Segoe,Calibri,Roboto,\"Droid Sans\",\"Arial Unicode MS\",Arial,sans-serif',\n    color: '#333333',\n    background: 'white',\n    margin: '0 auto',\n    top: '40px',\n    position: 'absolute',\n    overflow: 'hidden'\n  },\n  container: {\n    padding: \"30px\",\n    overflow: \"auto\"\n  },\n  cancelContainer: {\n    position: 'absolute',\n    top: '10px',\n    right: '10px'\n  },\n  cancel: {}\n\n};\n\nvar SimpleDialog = React.createClass({\n  displayName: 'SimpleDialog',\n\n  propTypes: {\n    style: RPT.object,\n    theme: RPT.object.isRequired,\n    nls: RPT.object,\n    onCancel: RPT.func,\n    width: RPT.number,\n    height: RPT.number\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {};\n  },\n\n  componentWillMount: function componentWillMount() {\n    // var mql = window.matchMedia(\"(min-width: 800px)\");\n    // mql.addListener(this.mediaQueryChanged);\n    // this.setState({mql: mql});\n  },\n\n  componentDidMount: function componentDidMount() {\n    this.centerDialog();\n  },\n\n  centerDialog: function centerDialog() {\n    var backdrop = ReactDOM.findDOMNode(this);\n    var dialog = backdrop.firstChild;\n\n    var windowWidth = backdrop.offsetWidth;\n    var windowHeight = backdrop.offsetHeight;\n\n    var width = this.props.width ? this.props.width : dialog.offsetWidth;\n    var height = this.props.height ? this.props.height : dialog.offsetHeight;\n\n    dialog.style.left = (windowWidth - width) / 2 + \"px\";\n  },\n\n  onCancel: function onCancel() {\n    if (this.props.onCancel) {\n      this.props.onCancel();\n    }\n  },\n\n  render: function render() {\n    var self = this;\n\n    var cancel = \"\";\n    if (this.props.onCancel) {\n      cancel = React.createElement(\n        'div',\n        { style: styles.cancelContainer },\n        React.createElement(Icon, { icon: 'highlight-remove', style: styles.cancel, onClick: this.onCancel, color: '#000', size: 28, theme: this.props.theme })\n      );\n    }\n\n    var styleDialog = Object.assign({}, styles.dialog);\n    if (this.props.width) {\n      styleDialog.width = this.props.width + \"px\";\n      styleDialog.maxWidth = this.props.width + \"px\";\n    }\n    if (this.props.height) {\n      styleDialog.height = this.props.height + \"px\";\n      styleDialog.maxHeight = this.props.height + \"px\";\n    }\n\n    return React.createElement(\n      'div',\n      { className: 'modalDialog', style: styles.backdrop, onClick: this.onCancel },\n      React.createElement(\n        'div',\n        { style: styleDialog, onClick: function onClick(evt) {\n            evt.stopPropagation();return true;\n          } },\n        cancel,\n        React.createElement(\n          'div',\n          { style: styles.container },\n          this.props.children\n        )\n      )\n    );\n  }\n});\n\nmodule.exports = SimpleDialog;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./Icon.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Icon.jsx\"}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Sortable.jsx\":[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\nvar ReactDOM = (typeof window !== \"undefined\" ? window['ReactDOM'] : typeof global !== \"undefined\" ? global['ReactDOM'] : null);\nvar RPT = React.PropTypes;\nvar Icon = require('./Icon.jsx');\n\nvar styles = {\n  listStyle: {\n    listStyle: 'none',\n    paddingLeft: '0px'\n  },\n  itemWithHandleStyle: {\n    paddingLeft: '35px',\n    position: 'relative'\n  },\n  handleStyle: {\n    position: 'absolute',\n    left: '0px'\n  }\n};\n\nvar Sortable = React.createClass({\n  displayName: 'Sortable',\n\n\n  propTypes: {\n    theme: RPT.object.isRequired,\n    style: RPT.object,\n    onUpdate: RPT.func\n  },\n\n  componentDidMount: function componentDidMount() {\n    var self = this;\n    var ref = this.refs.list;\n    if (this.refs.list) {\n      $(this.refs.list).sortable({\n        handle: this.props.handle ? '.' + this.props.handle : '.listHandle',\n        axis: 'y',\n        opacity: '0.5',\n        stop: function stop() {\n          var newArray = [];\n          for (var i = 0; i < $(ref)[0].children.length; i++) {\n            var currentPlot = $(ref)[0].children[i].id;\n            console.log(currentPlot);\n            newArray.push(currentPlot);\n          }\n          if (self.props.onUpdate) {\n            $(self.refs.list).sortable(\"cancel\");\n            console.log(newArray);\n            self.props.onUpdate(newArray);\n          }\n          //          var newArray = [];\n          //          for(var i = 0; i < $(ref)[0].children.length; i++){\n          //            var currentPlot = self.getPlotByID($(ref)[0].children[i].id);\n          //            console.log(currentPlot);\n          //            newArray.push(currentPlot);\n          //          }\n          //          console.log(newArray);\n          //           console.log(self.state.plots);\n          //          self.setState({plots:newArray});\n        }\n      });\n    }\n  },\n\n  render: function render() {\n    var handle = '';\n    var listItemStyle = {};\n    var handleName = this.props.handle ? this.props.handle : 'listHandle';\n\n    if (this.props.useHandle === true) {\n      handle = React.createElement(\n        'div',\n        { className: handleName, style: styles.handleStyle },\n        React.createElement(Icon, { theme: this.props.theme, icon: 'menu', color: this.props.theme.light })\n      );\n      listItemStyle = Object.assign({}, styles.itemWithHandleStyle);\n    }\n\n    return React.createElement(\n      'ul',\n      { ref: 'list', style: styles.listStyle },\n      this.props.children.map(function (child) {\n        return React.createElement(\n          'li',\n          { id: child.props.id, key: child.props.id, style: listItemStyle },\n          handle,\n          child\n        );\n      })\n    );\n  }\n});\n\nmodule.exports = Sortable;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./Icon.jsx\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Icon.jsx\"}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/SwitchBtn.jsx\":[function(require,module,exports){\n(function (global){\n\"use strict\";\n\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\nvar RPT = React.PropTypes;\n\nvar styles = {\n  container: {\n    paddingTop: \"5px\"\n  },\n  switchBtn: {\n    position: \"relative\",\n    border: \"3px solid\",\n    borderColor: \" #4581E0\",\n    width: \"48px\",\n    float: \"left\",\n    backgroundColor: \"#4581E0\",\n    borderRadius: \"13px\",\n    WebkitTransition: \"all .15s ease-out\",\n    MozTransition: \"all .15s ease-out\",\n    MsTransition: \"all .15s ease-out\",\n    OTransition: \"all .15s ease-out\",\n    transition: \"all .15s ease-out\"\n  },\n  label: {},\n  toggleElement: {\n    display: \"block\",\n    WebkitTransition: \"left .15s ease-out\",\n    MozTransition: \"left .15s ease-out\",\n    MsTransition: \"left .15s ease-out\",\n    OTransition: \"left .15s ease-out\",\n    transition: \"left .15s ease-out\",\n    width: \"20px\",\n    height: \"20px\",\n    backgroundColor: \"white\",\n    position: \"relative\",\n    borderRadius: \"10px\"\n  },\n  falseState: {\n    left: \"23px\"\n  },\n  trueState: {\n    left: \"0px\"\n  },\n  stateText: {\n    lineHeight: \"24px\",\n    marginLeft: \"15px\"\n  }\n};\n\nvar SwitchBtn = React.createClass({\n  displayName: \"SwitchBtn\",\n\n  propTypes: {\n    theme: RPT.object.isRequired,\n    style: RPT.object,\n    initialValue: RPT.bool,\n    value: RPT.bool,\n    trueText: RPT.string,\n    falseText: RPT.string,\n    label: RPT.string\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      value: this.props.initialValue\n    };\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      initialValue: true,\n      onChange: function onChange() {},\n      trueText: \"On\",\n      falseText: \"Off\"\n    };\n  },\n\n  toggleState: function toggleState(e) {\n    var toggleState = this.state.value;\n    this.setState({ value: !toggleState });\n    this.props.onChange(!toggleState, e);\n  },\n\n  componentWillMount: function componentWillMount() {\n    // Apply theme colors here\n    var theme = this.props.theme;\n    styles.stateText.color = theme ? theme.major : \"#323232\";\n  },\n\n  render: function render() {\n    var toggleStateStyle = this.state.value ? styles.trueState : styles.falseState;\n    var toggleElementStyle = Object.assign({}, styles.toggleElement, toggleStateStyle);\n    var toggleSwitchStyle = Object.assign({}, styles.switchBtn, this.state.value ? {} : {\n      backgroundColor: this.props.theme.minor,\n      borderColor: this.props.theme.minor\n    });\n    var text = \"\";\n    if (this.props.trueText !== \"\" && this.props.falseText !== \"\") {\n      text = this.state.value ? this.props.trueText : this.props.falseText;\n    } else {\n      text = \"\";\n    }\n\n    return React.createElement(\n      \"div\",\n      null,\n      React.createElement(\n        \"div\",\n        { style: this.props.containerStyle ? this.props.containerStyle : styles.container,\n          title: text },\n        React.createElement(\n          \"div\",\n          {\n            style: this.props.toggleSwitchStyle ? Object.assign(toggleSwitchStyle, this.props.toggleSwitchStyle) : toggleSwitchStyle,\n            onClick: this.toggleState },\n          React.createElement(\"div\", { style: toggleElementStyle })\n        ),\n        React.createElement(\n          \"div\",\n          null,\n          React.createElement(\n            \"span\",\n            {\n              style: this.props.stateText ? Object.assign(styles.stateText, this.props.stateText) : styles.stateText },\n            text\n          )\n        )\n      )\n    );\n  }\n});\n\nmodule.exports = SwitchBtn;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/components/Tooltip.jsx\":[function(require,module,exports){\n(function (global){\n\"use strict\";\n\n/*******************************/\n/*            Usage            */\n/*******************************/\n/*\nEnclose your target with the tooltip component.\nIf you enclose multiple targets, only the first one is applied with the tooltip.\nBe cautious when using css classes for the target having a margin style not equal to 0px!\nIt will cause to render the tooltip or the target incorrectly or false placed.\nTo avoid this problem you can add the margin as inline-style to your taget.\n*/\n\n/**************************************/\n/*            Dependencies            */\n/**************************************/\nvar React = (typeof window !== \"undefined\" ? window['React'] : typeof global !== \"undefined\" ? global['React'] : null);\nvar reductivlyUpdate = React.addons.update;\nvar RPT = React.PropTypes;\n\n/********************************/\n/*            Styles            */\n/********************************/\n\nvar styles = {\n  container: {\n    position: \"relative\"\n  },\n  roundedRectangle: {\n    backgroundColor: \"#000\",\n    borderRadius: \"6px\",\n    color: \"#fff\",\n    padding: \"5px 5px\",\n    position: \"absolute\",\n    textAlign: \"center\",\n    visibility: \"hidden\",\n    zIndex: 2000\n  },\n  triangle: {\n    position: \"absolute\"\n  }\n};\n\nvar Tooltip = React.createClass({\n  displayName: \"Tooltip\",\n\n  /********************************/\n  /*            Models            */\n  /********************************/\n  child: {},\n  containerStyle: {\n    height: \"0px\",\n    width: \"0px\"\n  },\n  propTypes: {\n    direction: RPT.oneOf([\"bottom\", \"left\", \"right\", \"top\"]),\n    style: RPT.object,\n    theme: RPT.object,\n    value: RPT.oneOfType([RPT.object, RPT.string]),\n    key: RPT.string,\n    asSpan: RPT.bool,\n    delay: RPT.number,\n    showOnClick: RPT.bool\n  },\n  roundedRectangleSize: {\n    height: \"0px\",\n    width: \"0px\"\n  },\n  triangleSize: \"7px\",\n\n  /************************************/\n  /*            Controller            */\n  /************************************/\n\n  /**\n   * After initial render a rerender will be invoked to correct the style of the tooltip\n   */\n  componentDidMount: function componentDidMount() {\n    this.determineContainerStyle();\n    this.determineRoundedRectangleSize();\n    this.customizeStyles(this.props.direction);\n  },\n\n  /**\n   * If the target or the value of the tooltip has changed an update of the tooltip's style is necessary\n   */\n  componentDidUpdate: function componentDidUpdate(prevProps) {\n    var isFurtherUpdateNeeded = false;\n    if (prevProps.children != this.props.children) {\n      this.determineContainerStyle();\n      isFurtherUpdateNeeded = true;\n    }\n    if (prevProps.value != this.props.value) {\n      isFurtherUpdateNeeded = true;\n    }\n    if (isFurtherUpdateNeeded) {\n      this.determineRoundedRectangleSize();\n      this.customizeStyles(this.props.direction);\n    }\n  },\n\n  /**\n   * Give the target the props.children as default\n   */\n  componentWillMount: function componentWillMount() {\n    this.child = this.props.children;\n  },\n\n  /**\n   * If the direction of the tooltip has changed an update of the tooltip's style is necessary\n   */\n  componentWillReceiveProps: function componentWillReceiveProps(newProps) {\n    if (newProps.direction != this.props.direction) {\n      this.customizeStyles(newProps.direction);\n    }\n  },\n\n  /**\n   * Update the style of the tooltip according to it's direction and the target's size\n   */\n  customizeStyles: function customizeStyles(direction) {\n    var directionStartCase, oppositeDirectionLowerCase;\n    var orthogonalDirection1LowerCase, orthogonalDirection1StartCase;\n    var orthogonalDirection2StartCase, orthogonalDirectionLength;\n    // determine opposite and orthogonal directions\n    switch (direction) {\n      case \"bottom\":\n        directionStartCase = \"Bottom\";\n        oppositeDirectionLowerCase = \"top\";\n        orthogonalDirection1LowerCase = \"left\";\n        orthogonalDirection1StartCase = \"Left\";\n        orthogonalDirection2StartCase = \"Right\";\n        orthogonalDirectionLength = this.roundedRectangleSize.width;\n        break;\n      case \"left\":\n        directionStartCase = \"Left\";\n        oppositeDirectionLowerCase = \"right\";\n        orthogonalDirection1LowerCase = \"top\";\n        orthogonalDirection1StartCase = \"Top\";\n        orthogonalDirection2StartCase = \"Bottom\";\n        orthogonalDirectionLength = this.roundedRectangleSize.height;\n        break;\n      case \"right\":\n        directionStartCase = \"Right\";\n        oppositeDirectionLowerCase = \"left\";\n        orthogonalDirection1LowerCase = \"top\";\n        orthogonalDirection1StartCase = \"Top\";\n        orthogonalDirection2StartCase = \"Bottom\";\n        orthogonalDirectionLength = this.roundedRectangleSize.height;\n        break;\n      default:\n        // case \"top\"\n        directionStartCase = \"Top\";\n        oppositeDirectionLowerCase = \"bottom\";\n        orthogonalDirection1LowerCase = \"left\";\n        orthogonalDirection1StartCase = \"Left\";\n        orthogonalDirection2StartCase = \"Right\";\n        orthogonalDirectionLength = this.roundedRectangleSize.width;\n        break;\n    }\n    var customizedStyles = $.extend(true, {}, styles, this.props.style); // work with the assigned style\n    $.extend(true, customizedStyles.container, this.containerStyle); // set container size to child size\n    customizedStyles.roundedRectangle[oppositeDirectionLowerCase] = \"calc(100% + \" + this.triangleSize + \")\"; // to position the rounded rectangle\n    customizedStyles.roundedRectangle[orthogonalDirection1LowerCase] = \"50%\"; // to center the rounded rectangle\n    customizedStyles.roundedRectangle[\"margin\" + orthogonalDirection1StartCase] = \"-\" + (0.5 * orthogonalDirectionLength).toString() + \"px\"; // to center the rounded rectangle\n    customizedStyles.roundedRectangle.visibility = this.state.styles.roundedRectangle.visibility; // to keep the current visibility\n    customizedStyles.triangle[\"border\" + orthogonalDirection1StartCase] = this.triangleSize + \" solid transparent\"; // to draw one side of the triangle\n    customizedStyles.triangle[\"border\" + orthogonalDirection2StartCase] = this.triangleSize + \" solid transparent\", // to draw one side of the triangle\n    customizedStyles.triangle[\"border\" + directionStartCase] = this.triangleSize + \" solid #000\"; // to draw one side of the triangle\n    customizedStyles.triangle[orthogonalDirection1LowerCase] = \"50%\"; // to center the triangle\n    customizedStyles.triangle[\"margin\" + orthogonalDirection1StartCase] = \"-\" + this.triangleSize; // to center the triangle\n    customizedStyles.triangle[direction] = \"100%\"; // to position the triangle\n    customizedStyles = $.extend(true, {}, customizedStyles, this.props.style); // work with the assigned style\n    this.setState({\n      styles: customizedStyles\n    });\n  },\n\n  /**\n   * Determine the style of the tooltip's container.\n   * If there is a margin style in the target, it will be removed from it and\n   * added to the container to prevent incorrect visualization.\n   */\n  determineContainerStyle: function determineContainerStyle() {\n    // get child size\n    var childTag = $(this.refs.tooltip).children(\":first\");\n    this.containerStyle = {\n      height: childTag.outerHeight(),\n      width: childTag.outerWidth()\n    };\n    // if there is no style applied no further process is needed\n    if (!this.props.children.props.style) {\n      this.child = this.props.children;\n      return;\n    }\n    // remove margins from child and add them to container\n    this.child = reductivlyUpdate(this.props.children, { props: { style: { $merge: {} } } }); // make this.props.children.props.style mutable\n    for (var prop in this.props.children.props.style) {\n      if (prop == \"margin\" || prop == \"marginBottom\" || prop == \"marginLeft\" || prop == \"marginRight\" || prop == \"marginTop\") {\n        this.containerStyle[prop] = this.props.children.props.style[prop]; // add margin to container\n        this.child.props.style[prop] = \"0px\"; // remove margin from child\n      }\n    }\n  },\n\n  /**\n   * Since the size of the rounded rectangle depends on the content,\n   * the size has to be determined after it was rendered\n   */\n  determineRoundedRectangleSize: function determineRoundedRectangleSize() {\n    var roundedRectangleTag = $(this.refs[\"tooltip.roundedRectangle\"]);\n    this.roundedRectangleSize = {\n      height: roundedRectangleTag.outerHeight(),\n      width: roundedRectangleTag.outerWidth()\n    };\n  },\n\n  /**\n   * Get the default values of the props\n   */\n  getDefaultProps: function getDefaultProps() {\n    return {\n      direction: \"top\",\n      style: {},\n      value: \"\",\n      idx: 0\n    };\n  },\n\n  /**\n   * Get the initial style\n   */\n  getInitialState: function getInitialState() {\n    return {\n      styles: styles\n    };\n  },\n\n  onClick: function onClick(e, t, e2) {\n    var self = this;\n    if (this.state.styles.roundedRectangle.visibility === \"hidden\") {\n      this.onMouseEnter(e, t, e2, true);\n      setTimeout(function () {\n        self.onMouseLeave();\n      }, 4000);\n    } else {\n      self.onMouseLeave();\n    }\n  },\n\n  /**\n   * Hide the tooltip if the mouse left the target\n   */\n  onMouseLeave: function onMouseLeave() {\n    var self = this;\n    if (self.tipDelay) {\n      clearTimeout(self.tipDelay);\n    }\n    var stateChange = {\n      styles: {\n        roundedRectangle: {\n          visibility: {\n            $set: \"hidden\"\n          }\n        }\n      }\n    };\n    this.setState(function (prevState) {\n      return reductivlyUpdate(prevState, stateChange);\n    });\n  },\n\n  /**\n   * Show the tooltip if the mouse enters the target\n   */\n  onMouseEnter: function onMouseEnter(e, t, e2, noDelay) {\n    var self = this;\n\n    var showTip = function showTip() {\n      var stateChange = {\n        styles: {\n          roundedRectangle: {\n            visibility: {\n              $set: \"visible\"\n            }\n          }\n        }\n      };\n      self.setState(function (prevState) {\n        return reductivlyUpdate(prevState, stateChange);\n      });\n    };\n    if (this.props.delay && !noDelay) {\n      self.tipDelay = setTimeout(showTip, this.props.delay);\n    } else {\n      showTip();\n    }\n  },\n\n  /******************************/\n  /*            View            */\n  /******************************/\n  render: function render() {\n    var customizedStyles = this.state.styles;\n    var clickFunction = this.props.showOnClick ? this.onClick : function () {};\n\n    // View output\n    if (this.props.asSpan) {\n      return React.createElement(\n        \"span\",\n        { onClick: clickFunction, onMouseEnter: this.onMouseEnter, onMouseLeave: this.onMouseLeave, ref: \"tooltip\", style: customizedStyles.container, key: this.props.value + this.props.idx },\n        this.child,\n        React.createElement(\n          \"div\",\n          { ref: \"tooltip.roundedRectangle\", style: customizedStyles.roundedRectangle },\n          this.props.value,\n          React.createElement(\"span\", { style: customizedStyles.triangle })\n        )\n      );\n    } else {\n      return React.createElement(\n        \"div\",\n        { onClick: clickFunction, onMouseEnter: this.onMouseEnter, onMouseLeave: this.onMouseLeave, ref: \"tooltip\", style: customizedStyles.container, key: this.props.value + this.props.idx },\n        this.child,\n        React.createElement(\n          \"div\",\n          { ref: \"tooltip.roundedRectangle\", style: customizedStyles.roundedRectangle },\n          this.props.value,\n          React.createElement(\"span\", { style: customizedStyles.triangle })\n        )\n      );\n    }\n    ;\n  }\n});\n\nmodule.exports = Tooltip;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/stores/IoTFAlertStore.js\":[function(require,module,exports){\n(function (global){\n\"use strict\";\n\nvar Reflux = (typeof window !== \"undefined\" ? window['Reflux'] : typeof global !== \"undefined\" ? global['Reflux'] : null);\n//var ibmiotf = require('ibmiotf');\nvar mqtt = (typeof window !== \"undefined\" ? window['Messaging'] : typeof global !== \"undefined\" ? global['Messaging'] : null);\nvar $ = (typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null);\nvar Const = require('../../Dashboard/constants/Const');\nvar IoTFAuthStore = require('./IoTFAuthStore.js');\n\n//------------------------- Alerts per device\n\nvar Actions = Reflux.createActions(['fetchHistoricalAlertSummary', 'fetchHistoricalAlertListByRuleId', 'fetchHistoricalAlertListByDeviceId', 'fetchHistoricalAlertSummaryByRule', 'fetchAlertDetails', 'fetchRules', 'fetchEdgeRules', 'markAsRead', 'markAsUnread', 'markAsCleared']);\n\nvar State = {\n  CONNECTED: \"CONNECTED\",\n  DISCONNECTED: \"DISCONNECTED\"\n};\nvar COND_TRIGGER = {\n  EVERYTIME: \"EVERYTIME\",\n  CUSTOM: \"CUSTOM\",\n  BECOMETRUE: \"BECOMETRUE\"\n};\nvar IoTFAlertStore = Reflux.createStore({\n\n  client: null,\n\n  // cache per type/device\n  cache: {},\n  // cache per rule\n  rules: {},\n  // cache per rule\n  edgeRules: {},\n  // cache all alerts\n  alerts: {},\n\n  lastAlertCalls: {},\n\n  // cache for rules that are available\n  rulesList: {},\n\n  // cache for edge rules that are available\n  edgeRulesList: {},\n\n  activeRulesCalls: [],\n\n  activeEdgeRulesCalls: [],\n\n  //cache for actions\n  cacheActions: {},\n\n  historianRequests: [],\n\n  historianRequestDelay: 100, // in millis\n\n  lastValueInterval: 24 * 60 * 60 * 1000, // look up last value in previous 24 hours\n\n  alertThreshold: 1000,\n\n  Actions: Actions,\n\n  auth: {},\n\n  state: State.DISCONNECTED,\n\n  // Set API in setAPIVersion function\n  vPrefix: \"\",\n  vRules: \"\",\n  vEdgeRules: \"/api/v0002/rti/edgeRule\",\n  historicalAlertSummaryURL: \"/device-alert-summary\",\n  historicalAlertSummaryURLByRule: \"/rule-summary/\",\n  historicalAlertListByDeviceIdURL: \"\",\n  historicalAlertListByRuleIdURL: \"/rule-alert/\",\n  alertMarkReadURL: '/mark-read',\n  clearAlertURL: 'clear/',\n\n  setAPIVersion: function setAPIVersion() {\n    var v3 = global.localStorage.getItem(\"RTIV3\") == \"on\";\n    if (v3 == true) {\n      this.vPrefix = \"/api/v0003/rti/alerts\";\n      this.vRules = \"/api/v0003/rti/rules\";\n      this.vEdgeRules = \"/api/v0003/rti/alerts\", this.historicalAlertSummaryURL = \"/summary\";\n      this.historicalAlertSummaryURLByRule = \"/summary\";\n      this.historicalAlertListByDeviceIdURL = \"\";\n      this.historicalAlertListByRuleIdURL = \"/rules/\";\n      this.alertMarkReadURL = '';\n      this.clearAlertURL = 'clear/';\n\n      if (global.localStorage.getItem(\"RTIV3_test\") == \"on\") {\n        this.vPrefix = \"https://10.70.190.163:9465/analytics-alert/77ehrs/alerts\";\n        this.vRules = \"https://10.70.190.163:9465/analytics/77ehrs/rule\";\n        this.vEdgeRules = \"https://10.70.190.163:9465/analytics-alert/77ehrs/alerts\";\n      }\n    } else {\n      this.vPrefix = \"/api/v0002/rti/alert\";\n      this.vRules = \"/api/v0002/rti/rule\";\n      this.vEdgeRules = \"/api/v0002/rti/edgeRule\", this.historicalAlertSummaryURL = \"/device-alert-summary\";\n      this.historicalAlertSummaryURLByRule = \"/rule-summary/\";\n      this.historicalAlertListByDeviceIdURL = \"\";\n      this.historicalAlertListByRuleIdURL = \"/rule-alert/\";\n      this.alertMarkReadURL = '/mark-read';\n      this.clearAlertURL = 'clear/';\n    }\n  },\n\n  setNLS: function setNLS(nls) {\n    this.nls = nls;\n  },\n\n  init: function init() {\n    IoTFAuthStore.listen(this.onAuth);\n    this.listenTo(Actions.fetchHistoricalAlertSummary, this.onFetchHistoricalAlertSummary);\n    this.listenTo(Actions.fetchHistoricalAlertListByRuleId, this.onFetchHistoricalAlertListByRuleId); //getHistory and new coming alerts\n    this.listenTo(Actions.fetchHistoricalAlertListByDeviceId, this.onFetchHistoricalAlertListByDeviceId); //getHistory and new coming alerts\n    this.listenTo(Actions.fetchHistoricalAlertSummaryByRule, this.onFetchHistoricalAlertSummaryByRule);\n    this.listenTo(Actions.fetchAlertDetails, this.onFetchAlertDetails);\n    this.listenTo(Actions.fetchRules, this.onFetchRules);\n    this.listenTo(Actions.fetchEdgeRules, this.onFetchEdgeRules);\n    this.listenTo(Actions.markAsRead, this.onMarkAsRead);\n    this.listenTo(Actions.markAsUnread, this.onMarkAsUnread);\n    this.listenTo(Actions.markAsCleared, this.onMarkAsCleared);\n\n    this.setAPIVersion();\n  },\n\n  onAuth: function onAuth(payload) {\n    console.log(\"Retrieving auth:\", payload);\n    this.auth = {\n      ltpa: payload.ltpa !== null ? encodeURIComponent(payload.ltpa) : null,\n      org: encodeURIComponent(payload.org),\n      apiKey: payload.apiKey !== null ? encodeURIComponent(payload.apiKey) : null,\n      apiToken: payload.apiToken !== null ? encodeURIComponent(payload.apiToken) : null\n    };\n\n    // auth was updated\n    var self = this;\n    this.fetchActions(function () {\n      if (!self.client) {\n        self.initClient();\n        self.connectClient();\n      };\n    }, function () {\n      console.log(\"AlertStore FAIL - unable to load actions data\");\n      if (!self.client) {\n        //Let still connect even action fail, action name is not available for display.\n        self.initClient();\n        self.connectClient();\n      }\n    });\n  },\n\n  initClient: function initClient() {\n    var auth = IoTFAuthStore.getAuth();\n    var randomNumber = Math.floor(Math.random() * 90000) + 10000;\n    var clientId = 'a:' + auth.org + ':ptl' + randomNumber;\n\n    var host = auth.org + \".messaging.\" + auth.domain;\n\n    var port = 443;\n\n    this.client = new window.Messaging.Client(host, port, clientId);\n\n    var self = this;\n\n    this.client.onMessageArrived = function (message) {\n      if (message && message.payloadString !== \"\") {\n        console.log(\"MQTT Client: Message Arrived on topic \" + message.destinationName);\n\n        var topic = message.destinationName;\n        var typeIdOriginal = topic.split(\"/\")[2];\n        var deviceId = topic.split(\"/\")[4];\n        var evtType = topic.split(\"/\")[6];\n\n        var typeId = self.getDeviceTypeFromMsg(typeIdOriginal);\n\n        var data = JSON.parse(message.payloadString);\n        // add to cache an flatten the structure\n        var msgData = {\n          timestamp: data.timestamp,\n          device_id: data.deviceId,\n          ruleOutput: {\n            ruleContent: data.ruleOutput.ruleContent\n          },\n          read_flag: false\n        };\n        for (var key in data.ruleOutput) {\n          if (key !== \"ruleContent\") {\n            if (key === \"name\") {\n              msgData.ruleOutput[\"data:\" + key] = data.ruleOutput[key];\n            } else {\n              msgData.ruleOutput[key] = data.ruleOutput[key];\n            }\n          }\n        }\n\n        var alertObject = self.createAlertObject(typeId, deviceId, msgData, true);\n        // the fact that we pass only a single object shows that it is live data -> simplified duplicate alert checking\n        var isUnique = self.addToAlertCache(alertObject);\n        self.addToRuleCache(data.ruleOutput.ruleContent.id, alertObject);\n        self.addToDeviceCache(typeId, deviceId, alertObject);\n\n        // Note: We trigger for every alert. It is the responsibility of the card\n        // to handle the load wisely\n        if (isUnique) {\n          // only if we cannot find this alert in the general alert cache we will trigger\n          self.trigger({\n            device: deviceId,\n            type: typeId,\n            rule: data.ruleOutput.ruleContent.id,\n            alert: alertObject\n          });\n        }\n      }\n    };\n\n    this.client.onConnectionLost = function (responseObj) {\n      console.log(\"MQTT Client: Connection lost\", responseObj);\n      self.state = State.DISCONNECTED;\n      setTimeout(function () {\n        console.log(\"MQTT Client: Reconnecting...\");\n        self.connectClient();\n      }, 100);\n    };\n  },\n\n  connectClient: function connectClient() {\n    var auth = IoTFAuthStore.getAuth();\n    var self = this;\n    var options = {\n      onSuccess: function onSuccess() {\n        self.state = State.CONNECTED;\n        console.log(\"MQTT Client: Successfully opened a connection to the MQTT broker for RTI\");\n        self.client.subscribe(\"iot-2/type/+/id/+/cmd/alert/fmt/json\");\n        // as a reference: this is how a device specific topic looks like\n        // \"iot-2/type/$$RTI_UI:\" + deviceType + \"/id/\" + deviceId + \"/cmd/alert/fmt/json\";\n      },\n      onFailure: function onFailure(error) {\n        console.log(\"MQTT Client: An error occured whilst trying to open a connection to the MQTT broker\", error);\n        self.state = State.DISCONNECTED;\n      },\n      useSSL: true,\n      cleanSession: true\n    };\n\n    if (auth.ltpa) {\n      options.userName = \"use-ltpa-token\";\n      options.password = auth.ltpa;\n    } else if (auth.apiKey) {\n      options.userName = auth.apiKey;\n      options.password = auth.apiToken;\n    } else {\n      throw new Error(\"No LTPA token or API key defined for connection\");\n    }\n\n    this.client.connect(options);\n  },\n\n  addToDeviceCache: function addToDeviceCache(deviceType, deviceId, alerts, start, end) {\n    // Note: For live alerts we do not save start and end since we cannot be sure that there are no holes\n    // in the range.\n\n    // create empty cache\n    if (!this.cache[deviceType]) {\n      this.cache[deviceType] = {};\n    }\n    var obj = this.cache[deviceType][deviceId];\n    if (!obj) {\n      this.cache[deviceType][deviceId] = {\n        alerts: [],\n        start: start,\n        end: end\n      };\n      obj = this.cache[deviceType][deviceId];\n    } else {\n      if (obj.start && start && obj.start > start) {\n        this.start = start;\n      }\n      if (this.end && end && this.end < end) {\n        this.end = end;\n      }\n    }\n\n    if (!Array.isArray(alerts)) {\n      // only a single alert\n      if (obj.alerts.length == 0) {\n        // this is the first one\n        obj.alerts.unshift(alerts);\n        return true;\n      } else {\n        // just check against the last alert since this is a live alert\n        var oldAlert = obj.alerts[obj.alerts.length - 1];\n        if (oldAlert.timestamp + \"#\" + oldAlert.rule.id != alerts.timestamp + \"#\" + alerts.rule.id) {\n          obj.alerts.unshift(alerts);\n          // check threshold and remove first element if necessary\n          if (obj.alerts.length > this.alertThreshold) {\n            obj.alerts.pop();\n          }\n          return true;\n        } else {\n          return false;\n        }\n      }\n    } else {\n      // add alerts to array and filter duplicates\n      var allAlerts = obj.alerts.concat(alerts);\n      var sortFunc = function sortFunc(a, b) {\n        if (a.timestamp + \"#\" + a.rule.id < b.timestamp + \"#\" + b.rule.id) return 1;else if (a.timestamp + \"#\" + a.rule.id > b.timestamp + \"#\" + b.rule.id) return -1;else return 0;\n      };\n      // first sort by rule and timestamp since there might be multiple alerts per timestamp but for\n      //  different rules\n      allAlerts.sort(sortFunc);\n      // then remove duplicates and limit to threshold\n      var previousKey = \"\";\n\n      for (var i = 0; i < allAlerts.length; i++) {\n        var alert = allAlerts[i];\n\n        if (alert.timestamp + \"#\" + alert.rule.id == previousKey || i >= this.alertThreshold) {\n          // remove this alert since it has the same timestamp and device than the one before\n          allAlerts.splice(i, 1);\n          i--;\n        } else {\n          previousKey = alert.timestamp + \"#\" + alert.rule.id;\n        }\n      }\n      // alerts are already limited to threshold and sorted by timestamp\n      obj.alerts = allAlerts;\n      return true;\n    }\n  },\n\n  addToRuleCache: function addToRuleCache(ruleId, alerts, start, end) {\n    // Note: For live alerts we do not save start and end since we cannot be sure that there are no holes\n    // in the range.\n    var rule = this.rules[ruleId];\n    if (!rule) {\n      rule = {\n        alerts: [],\n        start: start,\n        end: end\n      };\n      this.rules[ruleId] = rule;\n    } else {\n      if (rule.start && start && rule.start > start) {\n        rule.start = start;\n      }\n      if (rule.end && end && rule.end < end) {\n        rule.end = end;\n      }\n    }\n\n    // add alerts to array and filter duplicates\n    if (!Array.isArray(alerts)) {\n      // only a single alert\n      if (rule.alerts.length == 0) {\n        // this is the first one\n        rule.alerts.unshift(alerts);\n        return true;\n      } else {\n        // just check against the last alert since this is a live alert\n        var lastAlert = rule.alerts[rule.alerts.length - 1];\n        if (lastAlert.timestamp + \"#\" + lastAlert.device_id != alerts.timestamp + \"#\" + alerts.device_id) {\n          rule.alerts.unshift(alerts);\n          // check threshold and remove first element if necessary\n          if (rule.alerts.length > this.alertThreshold) {\n            rule.alerts.pop();\n          }\n          return true;\n        } else {\n          return false;\n        }\n      }\n    } else {\n      // more complex sorting since we have a bunch of historic alerts\n      var allAlerts = rule.alerts.concat(alerts);\n      var sortFunc = function sortFunc(a, b) {\n        if (a.timestamp + \"#\" + a.device_id < b.timestamp + \"#\" + b.device_id) return 1;else if (a.timestamp + \"#\" + a.device_id > b.timestamp + \"#\" + b.device_id) return -1;else return 0;\n      };\n      // first sort by device and timestamp since there might be multiple alerts per timestamp but for\n      // different devices\n      allAlerts.sort(sortFunc);\n      // then remove duplicates and limit to threshold\n      var previousKey = \"\";\n      for (var i = 0; i < allAlerts.length; i++) {\n        var alert = allAlerts[i];\n        if (alert.timestamp + \"#\" + alert.device_id == previousKey || i >= this.alertThreshold) {\n          // remove this alert since it has the same timestamp and device than the one before\n          allAlerts.splice(i, 1);\n          i--;\n        } else {\n          previousKey = alert.timestamp + \"#\" + alert.device_id;\n        }\n      }\n\n      // alerts are already limited to threshold and sorted by timestamp\n      rule.alerts = allAlerts;\n    }\n  },\n\n  addToAlertCache: function addToAlertCache(alerts, start, end) {\n    // Note: For live alerts we do not save start and end since we cannot be sure that there are no holes\n    // in the range.\n    if (!this.alerts || !this.alerts.alerts) {\n      this.alerts = {\n        alerts: [],\n        start: start,\n        end: end\n      };\n    } else {\n      if (this.alerts.start && start && this.alerts.start > start) {\n        this.alerts.start = start;\n      }\n      if (this.alerts.end && end && this.alerts.end < end) {\n        this.alerts.end = end;\n      }\n    }\n\n    if (!Array.isArray(alerts)) {\n      // only a single alert\n      if (this.alerts.alerts.length == 0) {\n        // this is the first one\n        this.alerts.alerts.unshift(alerts);\n        return true;\n      } else {\n        // just check against the last alert since this is a live alert\n        var oldAlert = this.alerts.alerts[0];\n        if (oldAlert.timestamp + \"#\" + oldAlert.rule.id + \"#\" + oldAlert.device_id != alerts.timestamp + \"#\" + alerts.rule.id + \"#\" + alerts.device_id) {\n          this.alerts.alerts.unshift(alerts);\n          // check threshold and remove first element if necessary\n          if (this.alerts.alerts.length > this.alertThreshold) {\n            this.alerts.alerts.pop();\n          }\n          return true;\n        } else {\n          return false;\n        }\n      }\n    } else {\n      // add alerts to array and filter duplicates\n      var allAlerts = this.alerts.alerts.concat(alerts);\n      var sortFunc = function sortFunc(a, b) {\n        if (a.timestamp + \"#\" + a.rule.id + \"#\" + a.device_id < b.timestamp + \"#\" + b.rule.id + \"#\" + b.device_id) return 1;else if (a.timestamp + \"#\" + a.rule.id + \"#\" + a.device_id > b.timestamp + \"#\" + b.rule.id + \"#\" + b.device_id) return -1;else return 0;\n      };\n      // first sort by device and timestamp since there might be multiple alerts per timestamp but for\n      // different devices\n      allAlerts.sort(sortFunc);\n      // then remove duplicates and limit to threshold\n      var previousKey = \"\";\n      for (var i = 0; i < allAlerts.length; i++) {\n        var alert = allAlerts[i];\n        if (alert.timestamp + \"#\" + alert.rule.id + \"#\" + alert.device_id == previousKey || i >= this.alertThreshold) {\n          // remove this alert since it has the same timestamp and device than the one before\n          allAlerts.splice(i, 1);\n          i--;\n        } else {\n          previousKey = alert.timestamp + \"#\" + alert.rule.id + \"#\" + alert.device_id;\n        }\n      }\n\n      // alerts are already limited to threshold and sorted by timestamp\n      this.alerts.alerts = allAlerts;\n      return true;\n    }\n  },\n\n  //msgRawDeviceType = $$RTI_UI:<deviceType>\n  getDeviceTypeFromMsg: function getDeviceTypeFromMsg(msgRawDeviceType) {\n\n    return msgRawDeviceType.replace(\"$$RTI_UI:\", \"\");\n  },\n\n  createAlertObject: function createAlertObject(deviceType, deviceId, messageJSON, isRealTimeData) {\n    var isV3 = global.localStorage.getItem('RTIV3') == \"on\";\n    var alertObject = {\n      msgType: \"alert\",\n      device_id: deviceId,\n      device_type: deviceType,\n      read_flag: messageJSON.read_flag !== undefined ? messageJSON.read_flag : false,\n      edge_flag: messageJSON.edge_flag !== undefined ? messageJSON.edge_flag : false,\n      status: \"NEW\",\n      timestamp: parseInt(messageJSON.timestamp),\n      rule: messageJSON.ruleOutput ? messageJSON.ruleOutput : {}\n    };\n\n    // If old API (v2)\n    if (!isV3) {\n      alertObject.rule.id = messageJSON.ruleOutput.ruleContent.id;\n      alertObject.rule.name = messageJSON.ruleOutput.ruleContent.name;\n      alertObject.id = alertObject.device_id + \"-\" + alertObject.rule.id + \"-\" + alertObject.timestamp;\n      alertObject.severity = alertObject.rule.ruleContent ? alertObject.rule.ruleContent.severity : 0;\n    } else {\n      alertObject.rule.id = messageJSON.rule_id;\n      alertObject.rule.name = messageJSON.rule_name;\n      alertObject.id = messageJSON.id;\n      alertObject.severity = messageJSON.rule_severity;\n    }\n\n    var self = this;\n    var createActionObj = function createActionObj(actionID) {\n      var action = self.cacheActions[actionID];\n      if (action) {\n        return { id: actionID,\n          name: action.name };\n      }\n    };\n    var newActionArray = [];\n    if (alertObject.rule.ruleContent && alertObject.rule.ruleContent.actions) {\n      for (var ii = 0; ii < alertObject.rule.ruleContent.actions.length; ii++) {\n        var actionID = alertObject.rule.ruleContent.actions[ii];\n        var action = createActionObj(actionID);\n        if (action) {\n          newActionArray.push(action);\n        } else if (isRealTimeData) {\n          //not find the action\n          this.fetchAction(actionID, function (action) {\n            //fetch action\n            if (action) {\n              newActionArray.push(action);\n              self.cacheActions[actionID] = action;\n            } else {\n              newActionArray.push({ id: actionID,\n                name: actionID }); //if can't find name\n              self.cacheActions[actionID] = { id: actionID,\n                name: \"- (\" + self.nls.resolve(\"Dashboard.RTI.AlertStore.DeletedAction\") + \")\" };\n            }\n          }, function (id) {\n            newActionArray.push({ id: id,\n              name: id }); //if can't find name\n            self.cacheActions[id] = { id: id,\n              name: \"- (\" + self.nls.resolve(\"Dashboard.RTI.AlertStore.DeletedAction\") + \")\" };\n          });\n        } else {\n          newActionArray.push({ id: actionID,\n            name: \"- (\" + self.nls.resolve(\"Dashboard.RTI.AlertStore.DeletedAction\") + \")\" }); //if can't find name\n          self.cacheActions[actionID] = { id: actionID,\n            name: \"- (\" + self.nls.resolve(\"Dashboard.RTI.AlertStore.DeletedAction\") + \")\" };\n        }\n      };\n      alertObject.rule.ruleContent.actions = newActionArray;\n    }\n\n    //--------- transform to UI trigger condition model --------------\n    if (alertObject.rule.ruleContent) {\n      alertObject.rule.ruleContent.triggerCondition = this.getRuleTriggerConditionModel(alertObject.rule.ruleContent.transforms);\n      delete alertObject.rule.ruleContent.transforms;\n    }\n\n    return alertObject;\n  },\n\n  // Mark the alert as unread again\n  onMarkAsUnread: function onMarkAsUnread(ids) {\n    this.onMarkAsRead(ids, true);\n  },\n\n  getAlertWithId: function getAlertWithId(alerts, id) {\n    if (!alerts || alerts.length == 0) {\n      return null;\n    }\n    var found = alerts.find(function (item) {\n      return item.id == id;\n    });\n    if (found) {\n      return found;\n    } else {\n      return null;\n    }\n  },\n\n  removeAlertWithId: function removeAlertWithId(alerts, id) {\n    if (!alerts || alerts.length == 0) {\n      return false;\n    }\n    var index = alerts.findIndex(function (item) {\n      return item.id == id;\n    });\n    if (index != -1) {\n      alerts.splice(index, 1);\n      return true;\n    } else {\n      return false;\n    }\n  },\n\n  // Mark the alert as read and show it faded out\n  onMarkAsRead: function onMarkAsRead(ids, removeFlag) {\n    console.log(\"Mark as read\");\n\n    // change the alert in the cache to have an immediate feedback\n    for (var t in ids) {\n      // find alert based on id\n      var id = ids[t];\n      var found = null;\n\n      // all alerts\n      if (this.alerts.alerts) {\n        var alert = this.getAlertWithId(this.alerts.alerts, id);\n        if (alert) {\n          alert.read_flag = !removeFlag;\n          found = alert;\n        }\n      }\n\n      // rule alerts\n      if (this.rules) {\n        for (var i in this.rules) {\n          var alerts = this.rules[i].alerts;\n          var alert = this.getAlertWithId(alerts, id);\n          if (alert) {\n            alert.read_flag = !removeFlag;\n            found = alert;\n          }\n        }\n      }\n\n      // device alerts\n      if (this.cache) {\n        for (var i in this.cache) {\n          var type = this.cache[i];\n          for (var s in type) {\n            var device = type[s];\n            var alerts = device.alerts;\n            var alert = this.getAlertWithId(alerts, id);\n            if (alert) {\n              alert.read_flag = !removeFlag;\n              found = alert;\n            }\n          }\n        }\n      }\n\n      if (found) {\n        if (!removeFlag) this.setAlertAsRead(found);else this.setAlertAsUnRead(found);\n      }\n    }\n  },\n\n  // Mark the alert as cleared and do no longer show it\n  onMarkAsCleared: function onMarkAsCleared(ids) {\n    console.log(\"Mark as cleared\");\n\n    // directly remove from the cache to have an immediate feedback\n    for (var t in ids) {\n      // find alert based on id\n      var id = ids[t];\n      var alert = null;\n\n      // all alerts\n      if (this.alerts.alerts) {\n        this.removeAlertWithId(this.alerts.alerts, id);\n      }\n\n      // rule alerts\n      if (this.rules) {\n        for (var i in this.rules) {\n          var alerts = this.rules[i].alerts;\n          this.removeAlertWithId(alerts, id);\n        }\n      }\n\n      // device alerts\n      if (this.cache) {\n        for (var i in this.cache) {\n          var type = this.cache[i];\n          for (var s in type) {\n            var device = type[s];\n            var alerts = device.alerts;\n            this.removeAlertWithId(alerts, id);\n          }\n        }\n      }\n    }\n  },\n\n  /** This method used to fetch historical alert summary in last 24 h\n    URL example: /historySummary?start=1461569641233&user=lalli@cn.ibm.com\n    @param {string} userId - current user Id, eg. lalli@cn.ibm.com\n  */\n  onFetchHistoricalAlertSummary: function onFetchHistoricalAlertSummary(reqId, interval, onlyCached) {\n    var self = this;\n    var userId = IoTFAuthStore.getUser().name;\n\n    var end = new Date().getTime();\n    var start = end - interval * 1000;\n\n    if (this.alerts.start < start) {\n      // we already have all historic alerts\n      // catch only the new alerts\n      // Note: We need to catch the alerts from history since we cannot be sure that live alerts\n      // came in without interruption\n      start = this.alerts.end;\n    }\n\n    // send what we have and resend it after the request returns\n    if (this.alerts && this.alerts.alerts) {\n      self.trigger({\n        requestId: reqId,\n        alerts: this.alerts.alerts,\n        range: interval\n      });\n    }\n\n    if (onlyCached) {\n      return;\n    }\n\n    var url = this.vPrefix + this.historicalAlertSummaryURL + '?start=' + start + '?end=' + end + '&user=' + userId + '&top=' + this.alertThreshold;\n\n    var option = {\n      url: url,\n      contentType: \"application/json\",\n      success: function success(response) {\n        console.debug(\"fetchHistoricalAlertSummary: \", response);\n\n        if (response.length > 0) {\n          var alerts = [];\n          for (var j = 0; j < response.length; j++) {\n            var alertSum = JSON.parse(response[j]).alert_summary;\n            if (alertSum.length > 0) {\n              for (var i = 0; i < alertSum.length; i++) {\n                var alert = alertSum[i];\n                var dKey = alert.device_id;\n\n                var typeId = dKey.split(\":\")[1];\n                var deviceId = dKey.split(\":\")[2];\n                var timestamp = parseInt(alert.timestamp);\n\n                var data = JSON.parse(alert.deviceMessage.raw_ruleoutput);\n                var msgData = {\n                  timestamp: timestamp,\n                  device_id: dKey,\n                  ruleOutput: {\n                    ruleContent: data.ruleContent\n                  },\n                  read_flag: !!alert.read_flag,\n                  edge_flag: alert.deviceMessage.edge_flag\n                };\n                for (var key in data) {\n                  if (key !== \"ruleContent\") {\n                    if (key === \"name\") {\n                      msgData.ruleOutput[\"data:\" + key] = data[key];\n                    } else {\n                      msgData.ruleOutput[key] = data[key];\n                    }\n                  }\n                }\n                var alertObject = self.createAlertObject(typeId, deviceId, msgData);\n                alerts.push(alertObject);\n              } //end for\n            } //end if\n          } // end for alert_summaries\n\n          self.addToAlertCache(alerts, start, end);\n          // send the cached data since we have cleanup function in addToAlertCache\n          var alerts = self.alerts.alerts;\n          self.trigger({\n            requestId: reqId,\n            alerts: alerts,\n            range: interval\n          });\n        } // end if response\n        else {\n            self.trigger({\n              requestId: reqId,\n              emptyResponse: true\n            });\n          }\n        //TODO - no severity countend for\n      }, //end success\n      error: function error(err) {\n        self.trigger({\n          requestId: reqId,\n          emptyResponse: true,\n          error: true\n        });\n      }\n    };\n    $.ajax(option);\n  },\n\n  /** This method used to fetch historical alert summary group by rule in last XXX\n    this is java interface\n    @GET @Path(\"/rule-summary\") @Consumes(MediaType.APPLICATION_JSON) @Produces(MediaType.APPLICATION_JSON) public List<String> getSummary(\n    final @PathParam(\"tenant_id\") String tenantId,\n    final @DefaultValue(\"\") @QueryParam(value = \"start\") String start,\n    final @DefaultValue(\"\") @QueryParam(value = \"end\") String end,\n    final @DefaultValue(\"\") @QueryParam(value = \"user\") String user)\n  */\n  onFetchHistoricalAlertSummaryByRule: function onFetchHistoricalAlertSummaryByRule(reqID, interval, type, device) {\n    var self = this;\n    var userId = IoTFAuthStore.getUser().name;\n\n    //start time stamp, present time minus 24 h\n    var now = new Date().getTime();\n    var startTimestamp = now - interval || now - this.lastValueInterval;\n\n    var v3Prop = global.localStorage.getItem(\"RTIV3\") == \"on\" ? \"&_alertonly=false\" : \"\";\n    var url = this.vPrefix + this.historicalAlertSummaryURLByRule + '?start=' + startTimestamp + '&end=' + now + '&user=' + encodeURIComponent(userId) + v3Prop;\n\n    // filter for devices\n    if (type && device) {\n      url += \"&deviceId=\" + IoTFAuthStore.getAuth().org + \":\" + type + \":\" + device;\n    }\n\n    //jquery ajax option\n    var option = {\n      url: url,\n      contentType: \"application/json\",\n      success: function success(response) {\n        var rules = [];\n        for (var j = 0; j < response.length; j++) {\n          var orgRule = global.localStorage.getItem(\"RTIV3\") == \"on\" ? response[j] : JSON.parse(response[j]);\n          var rule = {\n            count: orgRule.count,\n            severity: orgRule.rule_severity,\n            timestamp: global.localStorage.getItem(\"RTIV3\") == \"on\" ? new Date().getTime() : orgRule.timestamp,\n            id: orgRule.rule_id,\n            title: orgRule.rule_name,\n            isEdge: orgRule.edge_flag ? orgRule.edge_flag : false\n          };\n\n          var rulesWithSameId = rules.filter(function (item) {\n            return item.id == rule.id;\n          });\n          if (rulesWithSameId.length > 0) {\n            var oldRule = rulesWithSameId[0];\n            // accumulate the counts for all versions of the rule\n            oldRule.count = rule.count + oldRule.count;\n          } else {\n            rules.push(rule);\n          }\n        }\n        if (rules.length > 0) {\n          self.trigger({\n            requestId: reqID,\n            rules: rules,\n            range: interval / 1000\n          });\n        } else {\n          self.trigger({\n            requestId: reqID,\n            rules: rules,\n            emptyResponse: true,\n            range: interval / 1000\n          });\n        }\n      },\n      error: function error() {\n        self.trigger({\n          requestId: reqID,\n          emptyResponse: true,\n          error: true\n        });\n      }\n    };\n    $.ajax(option);\n  },\n\n  /***************************************************************************************************************\n    This method used to fetch historical alert list by device id\n    URL example: /history/v2gkpk:MQTTDevice:device3/?start=1461456000000end=1461577270172&top=1000&user=lalli@cn.ibm.com\n    @param {string} deviceKey - required, org:type:id\n    @param {number} start - optional, start time, inclusive, in milliseconds since January 1, 1970, 00:00:00 GMT.\n    @param {number} end - optional, end time, exclusive, in milliseconds since January 1, 1970, 00:00:00 GMT\n    @param {number} top - optional, the maximum number of the records returned, default is 1000\n    @param {string} ruleId - optional, rule id\n    @param {string} order - optional, based on event time, 'desc' or 'asc', 'desc' is the default value\n     https://awd6j9.hou02-1.test.internetofthings.ibmcloud.com/api/v0002/rti/tenant/xxxxx/gt7qhm:RobotCPU:robotCPUFL2/?start=1462390467360&top=1000&user=daon@us.ibm.com\n  ***************************************************************************************************************/\n  onFetchHistoricalAlertListByDeviceId: function onFetchHistoricalAlertListByDeviceId(reqId, device, type, range, onlyCached) {\n    var self = this;\n    if (!device) {\n      throw 'no device id provided';\n    }\n    var auth = IoTFAuthStore.getAuth();\n    var userId = IoTFAuthStore.getUser().name;\n\n    var end = new Date().getTime();\n    var start = end - range * 1000;\n\n    // check cache\n    var obj = this.cache[type];\n    if (obj) {\n      obj = obj[device];\n      if (obj) {\n        // check if we have a new range which needs a complete query\n        if (obj.start < start) {\n          // we already have all historic alerts\n          // catch only the new alerts\n          // Note: We need to catch the alerts from history since we cannot be sure that live alerts\n          // came in without interruption\n          start = obj.end;\n        }\n        // send what we have and resend it after the request returns\n        self.trigger({\n          requestId: reqId,\n          device: device,\n          type: type,\n          alerts: obj.alerts,\n          range: range\n        });\n      }\n    }\n\n    if (onlyCached) {\n      return;\n    }\n\n    var urlBuilder = \"\";\n    if (global.localStorage.getItem(\"RTIV3\") == \"on\") {\n      urlBuilder = this.vPrefix + this.historicalAlertListByDeviceIdURL + '/types/' + type + \"/devices/\" + device + '&_start=' + start + '&_end=' + end + '&_limit=' + this.alertThreshold;\n    } else {\n      urlBuilder = this.vPrefix + this.historicalAlertListByDeviceIdURL + '?deviceId=' + auth.org + \":\" + type + \":\" + device + '&user=' + userId + '&start=' + start + '&end=' + end + '&top=' + this.alertThreshold;\n    }\n\n    var option = {\n      url: urlBuilder,\n      contentType: \"application/json\",\n      success: function success(response) {\n        if (response.length > 0) {\n          var alerts = [];\n          for (var i = 0; i < response.length; i++) {\n            var alert = JSON.parse(response[i]);\n            var dKey = alert.device_id;\n\n            var typeId = dKey.split(\":\")[1];\n            var deviceId = dKey.split(\":\")[2];\n            var timestamp = parseInt(alert.timestamp);\n\n            var data = JSON.parse(alert.deviceMessage.raw_ruleoutput);\n            var msgData = {\n              timestamp: timestamp,\n              device_id: dKey,\n              ruleOutput: {\n                ruleContent: data.ruleContent\n              },\n              read_flag: !!alert.read_flag,\n              edge_flag: alert.deviceMessage.edge_flag\n            };\n            for (var key in data) {\n              if (key !== \"ruleContent\") {\n                if (key === \"name\") {\n                  msgData.ruleOutput[\"data:\" + key] = data[key];\n                } else {\n                  msgData.ruleOutput[key] = data[key];\n                }\n              }\n            }\n\n            var alertObject = self.createAlertObject(typeId, deviceId, msgData);\n            alerts.push(alertObject);\n          } //end for\n\n          self.addToDeviceCache(type, device, alerts, start, end);\n          // send the cached data since we have cleanup function in addToRuleCache\n          var obj = self.cache[type][device];\n          self.trigger({\n            requestId: reqId,\n            device: device,\n            type: type,\n            alerts: obj.alerts,\n            range: range\n          });\n        } //end if\n        else {\n            self.trigger({\n              requestId: reqId,\n              emptyResponse: true\n            });\n          }\n      }, //end success\n      error: function error(err) {\n        self.trigger({\n          requestId: reqId,\n          emptyResponse: true,\n          error: true\n        });\n      }\n    };\n    $.ajax(option);\n  },\n\n  /** this method used to fetch historical list by rule id\n    this is java interface\n    @GET @Path(\"/rule-alert/{rule_id}\") @Produces(MediaType.APPLICATION_JSON) public List<String> getHistory(\n        final @PathParam(\"rule_id\") String rule,\n        final @DefaultValue(\"100\") @QueryParam(value = \"top\") String top,\n        final @DefaultValue(\"desc\") @QueryParam(value = \"order\") String order,\n        final @DefaultValue(\"\") @QueryParam(value = \"start\") String start,\n        final @DefaultValue(\"\") @QueryParam(value = \"end\") String end,\n        final @DefaultValue(\"\") @QueryParam(value = \"user\") String user)\n  */\n  onFetchHistoricalAlertListByRuleId: function onFetchHistoricalAlertListByRuleId(reqId, ruleId, range, card, onlyCached) {\n    var self = this;\n    var isV3 = global.localStorage.getItem(\"RTIV3\") == \"on\";\n    if (!ruleId) {\n      throw 'no rule provided provided';\n    }\n    var userId = IoTFAuthStore.getUser().name;\n\n    var end = new Date().getTime();\n    var start = end - range * 1000;\n\n    // check cache\n    var rule = this.rules[ruleId];\n    if (rule) {\n      // check if we have a new range which needs a complete query\n      if (rule.start < start) {\n        // we already have all historic alerts\n        // catch only the new alerts\n        // Note: We need to catch the alerts from history since we cannot be sure that live alerts\n        // came in without interruption\n        start = rule.end;\n      }\n\n      // Delete card call\n      delete self.lastAlertCalls[card + ruleId];\n\n      // send what we have and resend it after the request returns\n      self.trigger({\n        requestId: reqId,\n        rule: rule,\n        alerts: rule.alerts,\n        range: range\n      });\n    }\n\n    if (onlyCached) {\n      return;\n    }\n\n    // Only continue if this is triggert by different cards\n    if (this.lastAlertCalls[card + ruleId]) {\n      this.lastAlertCalls[card + ruleId].reqs.push(reqId);\n      return;\n    } else {\n      this.lastAlertCalls[card + ruleId] = { reqs: [reqId] };\n    }\n\n    var urlBuilder = \"\";\n\n    if (isV3) {\n      var startV3 = encodeURIComponent(moment(start).format(\"YYYY-MM-DD[T]HH:mm:ss.SSSZZ\"));\n      var endV3 = encodeURIComponent(moment(end).format(\"YYYY-MM-DD[T]HH:mm:ss.SSSZZ\"));\n      urlBuilder = this.vPrefix + this.historicalAlertListByRuleIdURL + ruleId + '?_user=' + encodeURIComponent(userId) + \"&_start=\" + startV3 + \"&_end=\" + endV3 + \"&_limit=\" + this.alertThreshold;\n    } else {\n      urlBuilder = this.vPrefix + this.historicalAlertListByRuleIdURL + '?user=' + encodeURIComponent(userId) + \"&ruleId=\" + ruleId + \"&start=\" + start + \"&end=\" + end + \"&top=\" + this.alertThreshold;\n    }\n\n    var option = {\n      url: urlBuilder,\n      contentType: \"application/json\",\n      success: function success(response) {\n        if (!isV3) {\n          if (response.length > 0) {\n            var alerts = [];\n            for (var i = 0; i < response.length; i++) {\n              var alert = JSON.parse(response[i]);\n              var dKey = alert.device_id;\n\n              var typeId = dKey.split(\":\")[1];\n              var deviceId = dKey.split(\":\")[2];\n              var timestamp = parseInt(alert.timestamp);\n\n              var data = JSON.parse(alert.deviceMessage.raw_ruleoutput);\n              var msgData = {\n                timestamp: timestamp,\n                device_id: dKey,\n                ruleOutput: {\n                  ruleContent: data.ruleContent\n                },\n                read_flag: !!alert.read_flag,\n                edge_flag: alert.deviceMessage.edge_flag\n              };\n              for (var key in data) {\n                if (key !== \"ruleContent\") {\n                  if (key === \"name\") {\n                    msgData.ruleOutput[\"data:\" + key] = data[key];\n                  } else {\n                    msgData.ruleOutput[key] = data[key];\n                  }\n                }\n              }\n\n              var alertObject = self.createAlertObject(typeId, deviceId, msgData);\n              alerts.push(alertObject);\n            } //end for\n\n            self.addToRuleCache(ruleId, alerts, start, end);\n            // send the cached data since we have cleanup function in addToRuleCache\n            var rule = self.rules[ruleId];\n            for (var i = 0; i < self.lastAlertCalls[card + ruleId].reqs.length; i++) {\n              self.trigger({\n                requestId: self.lastAlertCalls[card + ruleId].reqs[i],\n                rule: rule,\n                alerts: rule.alerts,\n                range: range\n              });\n            }\n          } // end if response\n          else {\n              self.trigger({\n                requestId: reqId,\n                emptyResponse: true\n              });\n            }\n          // Delete card call\n          delete self.lastAlertCalls[card + ruleId];\n        } else {\n          if (response.results.length > 0) {\n            var alerts = [];\n            for (var i = 0; i < response.results.length; i++) {\n              var alert = response.results[i];\n              var timestamp = moment(alert.event_time, \"YYYY-MM-DD[T]HH:mm:ss.SSSZZ\");\n              var msgData = {\n                timestamp: timestamp.valueOf(),\n                read_flag: !!alert.read_flag,\n                id: alert.id,\n                rule_id: alert.rule_id,\n                rule_name: alert.rule_name,\n                rule_severity: alert.rule_severity\n              };\n              var alertObject = self.createAlertObject(\"typeId\", \"deviceId\", msgData);\n              alerts.push(alertObject);\n            }\n\n            self.addToRuleCache(ruleId, alerts, start, end);\n            // send the cached data since we have cleanup function in addToRuleCache\n            var rule = self.rules[ruleId];\n            for (var i = 0; i < self.lastAlertCalls[card + ruleId].reqs.length; i++) {\n              self.trigger({\n                requestId: self.lastAlertCalls[card + ruleId].reqs[i],\n                rule: rule,\n                alerts: rule.alerts,\n                range: range\n              });\n            }\n          } else {\n            self.trigger({\n              requestId: reqId,\n              emptyResponse: true\n            });\n          }\n        }\n      }, //end success\n      error: function error() {\n        self.trigger({\n          requestId: reqId,\n          emptyResponse: true,\n          error: true\n        });\n      }\n    };\n    $.ajax(option);\n  },\n\n  setAlertAsUnRead: function setAlertAsUnRead(alert) {\n    // API not yet implemented\n  },\n\n  /** this method used to set read flag for one single alert\n    URL example: /history/v2gkpk:MQTTDevice:iot-realtime-insights-device3/mark-read/?rule=Ho25r5gd&timestamp=1461569641233&users=lalli@cn.ibm.com\n    @param {string} deviceId - required, device id\n    @param {string} ruleId - required, ths alert's rule id\n    @param {number} timestamp - required, the alert's timestamp\n    @param {object} payload - required, if alert is realtime, shoule be {\"key\" : \"rawRuleOutput\", \"value\" : rawRuleOutput} , if historical alert, should be {}\n  */\n  setAlertAsRead: function setAlertAsRead(alert) {\n    var isV3 = global.localStorage.getItem(\"RTIV3\") == \"on\";\n    if (!alert) {\n      throw 'no alert param provided';\n    }\n    var userId = IoTFAuthStore.getUser().name;\n    var deviceKey = this.auth.org + \":\" + alert.device_type + \":\" + alert.device_id;\n    var url = \"\";\n\n    // If old API (v2)\n    if (!isV3) {\n      url = this.vPrefix + this.alertMarkReadURL + '?deviceId=' + encodeURIComponent(deviceKey) + '&rule=' + alert.rule.id + '&timestamp=' + alert.timestamp + '&user=' + encodeURIComponent(userId);\n    } else {\n      url = this.vPrefix + this.alertMarkReadURL + '/' + alert.id;\n    }\n    console.log(url);\n\n    //jquery ajax option\n    var option = {\n      url: url,\n      type: 'PUT',\n      data: JSON.stringify({ user: userId, operation: \"read\" }),\n      contentType: \"application/json\",\n      success: function success(response) {\n        console.log(\"mark-read SUCCESS - \");\n        // Model has alread been updated in the cache for immediate feedback.\n        // No need the redraw again.\n      },\n      error: function error(_error) {\n        console.log(\"mark-read FAIL - \", _error);\n      }\n    };\n    $.ajax(option);\n  },\n\n  /** this method used to clear all alerts for current user\n    URL example: /history/v2gkpk:MQTTDevice:iot-realtime-insights-device3/clear?user=lalli@cn.ibm.com\n    @param {string} deviceId - required, device id\n    @param {string} userId - required, current user Id, eg. lalli@cn.ibm.com\n    @param {array} payload - required, an array of alerts' date and rule id example: [{\"key\": \"1461655471210\",\"value\": \"jGwgasku\"}]\n   */\n  clearAlert: function clearAlert(deviceId, payload) {\n    if (!deviceId) {\n      throw 'no device id provided';\n    }\n    if (!payload) {\n      throw 'no payload provided';\n    }\n    var userId = IoTFAuthStore.getUser().name;\n\n    var url = this.vPrefix + this.historicalAlertListByDeviceIdURL + deviceId + '/' + this.clearAlertURL + '?user=' + userId;\n    //jquery ajax option\n    var option = {\n      url: url,\n      type: 'PUT',\n      contentType: \"application/json\",\n      data: JSON.stringify(payload),\n      success: function success(response) {\n        console.debug(response);\n\n        //TODO -\n      }\n    };\n    $.ajax(option);\n  },\n\n  //------------------------------------Fetch Edge Rules -------------------------------\n\n  onFetchEdgeRules: function onFetchEdgeRules(reqId) {\n    var self = this;\n\n    if (self.edgeRulesListFetched == true) {\n      self.trigger({\n        requestId: reqId,\n        edgeRulesList: this.edgeRulesList\n      });\n    }\n\n    // Only continue if this is triggert by different cards\n    if (this.activeEdgeRulesCalls.length > 0) {\n      this.activeEdgeRulesCalls.push(reqId);\n      return;\n    } else {\n      this.activeEdgeRulesCalls = [reqId];\n    }\n\n    var urlBuilder = this.vEdgeRules;\n\n    var triggerToAll = function triggerToAll(response) {\n      for (var i = 0; i < self.activeEdgeRulesCalls.length; i++) {\n        self.trigger(Object.assign({}, response, { requestId: self.activeEdgeRulesCalls[i] }));\n      }\n      self.activeEdgeRulesCalls = [];\n      self.edgeRulesListFetched = true;\n    };\n\n    var option = {\n      url: urlBuilder,\n      contentType: \"application/json\",\n      success: function success(response) {\n        if (response.length > 0) {\n          var rules = {};\n          for (var i = 0; i < response.length; i++) {\n            var rule = response[i];\n            var rID = rule.id;\n\n            rules[rID] = rule;\n          } //end if\n          // send the cached data since we have cleanup function in addToRuleCache\n          self.edgeRulesList = rules;\n          triggerToAll({\n            edgeRulesList: self.edgeRulesList\n          });\n        } // end if response\n        else {\n            triggerToAll({\n              emptyResponse: true\n            });\n          }\n      }, //end success\n      error: function error(err) {\n        triggerToAll({\n          emptyResponse: true,\n          error: true\n        });\n      }\n    };\n    $.ajax(option);\n  },\n\n  //------------------------------------Fetch AlertDetail -------------------------------\n\n  onFetchAlertDetails: function onFetchAlertDetails(alertID, reqId) {\n    var urlBuilder = this.vPrefix + \"/\" + alertID;\n    var self = this;\n    var option = {\n      url: urlBuilder,\n      contentType: \"application/json\",\n      success: function success(response) {\n        console.log(\"TODO\", response);\n        self.trigger({\n          alertDetail: response,\n          requestId: reqId\n        });\n      }, //end success\n      error: function error(err) {\n        self.trigger({\n          emptyResponse: true,\n          error: true,\n          requestId: reqId\n        });\n      }\n    };\n    $.ajax(option);\n  },\n\n  //------------------------------------Fetch Rules -------------------------------\n\n  onFetchRules: function onFetchRules(reqId) {\n    var self = this;\n    var isV3 = global.localStorage.getItem(\"RTIV3\") == \"on\";\n    if (self.rulesListFetched == true) {\n      self.trigger({\n        requestId: reqId,\n        rulesList: this.rulesList\n      });\n    }\n\n    // Only continue if this is triggert by different cards\n    if (this.activeRulesCalls.length > 0) {\n      this.activeRulesCalls.push(reqId);\n      return;\n    } else {\n      this.activeRulesCalls = [reqId];\n    }\n\n    var urlBuilder = this.vRules;\n    urlBuilder = isV3 ? this.vPrefix + this.historicalAlertSummaryURLByRule + \"?_alertonly=false\" : urlBuilder;\n\n    var triggerToAll = function triggerToAll(response) {\n      for (var i = 0; i < self.activeRulesCalls.length; i++) {\n        self.trigger(Object.assign({}, response, { requestId: self.activeRulesCalls[i] }));\n      }\n      self.activeRulesCalls = [];\n      self.rulesListFetched = true;\n    };\n\n    var option = {\n      url: urlBuilder,\n      contentType: \"application/json\",\n      success: function success(response) {\n        if (response.length > 0) {\n          var rules = {};\n          for (var i = 0; i < response.length; i++) {\n            var rule = response[i];\n            var rID = isV3 ? rule.rule_id : rule.id;\n\n            rules[rID] = rule;\n          } //end if\n          // send the cached data since we have cleanup function in addToRuleCache\n          self.rulesList = rules;\n          triggerToAll({\n            rulesList: self.rulesList\n          });\n        } // end if response\n        else {\n            triggerToAll({\n              emptyResponse: true\n            });\n          }\n      }, //end success\n      error: function error(err) {\n        triggerToAll({\n          emptyResponse: true,\n          error: true\n        });\n      }\n    };\n    $.ajax(option);\n  },\n  //------------------------------------ Fetch Rule Actions ---------------------\n  setCacheActions: function setCacheActions(actions) {\n    if (!actions) {\n      return;\n    }\n    this.cacheActions = {};\n    for (var ii = 0; ii < actions.length; ii++) {\n      var action = actions[ii];\n      this.cacheActions[action.id] = action;\n    };\n  },\n  fetchActions: function fetchActions(callback, errorCallback) {\n    var actionUrl = \"/api/v0002/rti/action/\";\n    var opts = {\n      url: actionUrl,\n      contentType: \"application/json\"\n    };\n\n    //console.log(opts);\n    var self = this;\n    $.ajax(opts).done(function (response) {\n      //console.log(response);\n      try {\n\n        if (response.length > 0) {\n          self.setCacheActions(response);\n          callback();\n        } else {\n          // handle bad result?\n          console.error(\"API call - Fail to get RTI Actions\");\n          errorCallback();\n        }\n      } catch (e) {\n        console.error(e);errorCallback();\n      }\n    }).fail(function (response) {\n      console.error(response);\n      errorCallback();\n    });\n  },\n\n  fetchAction: function fetchAction(id, callback, errorCallback) {\n    var actionUrl = \"/api/v0002/rti/action/\" + id;\n    var opts = {\n      url: actionUrl,\n      contentType: \"application/json\"\n    };\n\n    //console.log(opts);\n    var self = this;\n    $.ajax(opts).done(function (response) {\n      //console.log(response);\n      try {\n\n        if (response) {\n          self.cacheActions[id] = response;\n          callback(response);\n        } else {\n          // handle bad result?\n          console.log(\"API call - Fail to get RTI Action \", id);\n          errorCallback();\n        }\n      } catch (e) {\n        console.error(e);errorCallback();\n      }\n    }).fail(function (response) {\n      console.error(response);\n      errorCallback(id);\n    });\n  },\n  //------------------------------------- Rule Condition transform -------------------\n  getRuleTriggerConditionModel: function getRuleTriggerConditionModel(transforms) {\n\n    var condition = { type: 'COND_TRIGGER.EVERYTIME' }; //trigger everytime\n    if (!transforms || transforms.length <= 0) {\n      return condition;\n    }\n    var transform = transforms[0];\n    //Transfrom model from backend\n    if (transform) {\n      if (transform.type === \"StatisticsFilter\" && transform.duration) {\n\n        condition.type = COND_TRIGGER.CUSTOM;\n        if (transform.duration.indexOf(\":\") > -1) {\n          // HH:MM:SS format\n          condition = {\n            type: transform.duration.split(',')[transform.duration.split(',').length - 1],\n            times: Number(transform.parameters.split(',')[3]),\n            duration: transform.duration.split(',')[0],\n            unit: 'timer'\n          };\n        } else {\n          // 4, minute format\n          condition = {\n            type: transform.duration.split(',')[transform.duration.split(',').length - 1],\n            times: Number(transform.parameters.split(',')[3]),\n            duration: Number(transform.duration.split(',')[0]),\n            unit: transform.duration.split(',')[1]\n          };\n        }\n      } else if (transform.type === \"DeliverOnChange\") {\n        condition.type = COND_TRIGGER.BECOMETRUE;\n      }\n    }\n    return condition;\n  }\n\n});\n\nmodule.exports = IoTFAlertStore;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"../../Dashboard/constants/Const\":\"/Users/frank/Documents/Projects/IOTFoundation/components/Dashboard/constants/Const.js\",\"./IoTFAuthStore.js\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/stores/IoTFAuthStore.js\"}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/stores/IoTFAuthStore.js\":[function(require,module,exports){\n(function (global){\n'use strict';\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar Reflux = (typeof window !== \"undefined\" ? window['Reflux'] : typeof global !== \"undefined\" ? global['Reflux'] : null);\nvar Utils = require('../../Dashboard/dashboard/DashboardUtils');\nvar Const = require('../../Dashboard/constants/Const');\n\nvar Actions = Reflux.createActions(['setAuth', 'getAuth', 'showPermissionDialog', 'isAllowed']);\n\nvar IoTFAuthStore = Reflux.createStore({\n\n  Actions: Actions,\n\n  auth: {\n    ltpa: null,\n    id: null,\n    org: null,\n    domain: null,\n    apiKey: null,\n    apiToken: null,\n    roleAuthService: null\n  },\n\n  init: function init() {\n    var self = this;\n    this.listenTo(Actions.setAuth, function (a, b, c, d, e, f, g) {\n      self.onSetAuth(a, b, c, d, e, f, g);\n    });\n  },\n\n  setRoleAuthService: function setRoleAuthService(roleAuthService) {\n    this.auth.roleAuthService = roleAuthService;\n  },\n\n  getAuth: function getAuth() {\n    return this.auth;\n  },\n\n  isAllowed: function isAllowed(operationID) {\n    // handle stand alone dashboard\n    if (!this.auth.roleAuthService) {\n      return true;\n    }\n\n    var idIsAllowed = this.auth.roleAuthService.isAllowed(operationID);\n    if (idIsAllowed) {\n      //if(this.isAllowedTest(operationID)){\n      return true;\n    } else {\n      return false;\n    }\n  },\n\n  showPermissionDialog: function showPermissionDialog(operationID) {\n    this.auth.roleAuthService.showDialog(operationID);\n    //this.showPermissionDialogTest(operationID);\n  },\n\n  isAllowedTest: function isAllowedTest(operationID) {\n    //var opIDs = [Const.DB_VIEW_BOARD,Const.DB_CREATE_BOARD,Const.DB_UPDATE_BOARD,Const.DB_DELETE_BOARD,Const.DB_SHARE_BOARD];\n    var opIDs = [Const.DB_VIEW_BOARD, Const.DB_CREATE_BOARD, Const.DB_UPDATE_BOARD, Const.DB_DELETE_BOARD, Const.DB_SHARE_BOARD];\n    //var opIDs = [\"CREATE_DASHBOARD\",\"UPDATE_DASHBOARD\",\"DELETE_DASHBOARD\",\"SHARE_DASHBOARD\"];\n    return opIDs.indexOf(operationID) !== -1;\n  },\n\n  showPermissionDialogTest: function showPermissionDialogTest(operationID) {\n    console.log(\"NO PERMISSIONS FOR \", operationID);\n  },\n\n  onSetAuth: function onSetAuth(org, ltpa, id, domain, apiKey, apiToken, roleAuthService) {\n    if (org) {\n      this.auth.org = org;\n    };\n    if (ltpa) {\n      this.auth.ltpa = ltpa;\n    };\n    if (id) {\n      this.auth.id = id;\n    };\n    if (domain) {\n      this.auth.domain = domain;\n    };\n    if (apiKey) {\n      this.auth.apiKey = apiKey;\n    };\n    if (apiToken) {\n      this.auth.apiToken = apiToken;\n    };\n    if (roleAuthService) {\n      this.auth.roleAuthService = roleAuthService;\n    };\n\n    console.log(Utils.getSettings('hideCredentialDialog'));\n\n    // send credentials to proxy\n    if (window.location.hostname.indexOf(\"internetofthings\") == -1 && !Utils.getSettings('hideCredentialDialog')) {\n      var _$$ajax;\n\n      var payload = {\n        org: this.auth.org,\n        ltpa: this.auth.ltpa,\n        domain: this.auth.domain,\n        id: this.auth.id,\n        apiKey: this.auth.apiKey,\n        apiToken: this.auth.apiToken\n      };\n      $.ajax((_$$ajax = {\n        method: \"POST\",\n        dataType: \"json\",\n        cache: false,\n        url: \"/setcredentials\"\n      }, _defineProperty(_$$ajax, 'cache', false), _defineProperty(_$$ajax, 'data', payload), _defineProperty(_$$ajax, 'crossDomain', true), _defineProperty(_$$ajax, 'timeout', 30000), _defineProperty(_$$ajax, 'success', function success(data) {\n        console.log(\"Successfully set credentials in proxy.\");\n      }), _defineProperty(_$$ajax, 'error', function error(data) {\n        console.log(\"Cannot set credentials in proxy.\");\n      }), _$$ajax));\n    }\n\n    this.trigger(this.auth);\n  },\n\n  getUser: function getUser() {\n    // TODO Get user name from platform if we are not in the sample app\n    var user = {\n      password: localStorage.getItem(\"Dashboard_DcrPassword\")\n    };\n\n    if (this.auth.id) {\n      user.name = this.auth.id;\n    }\n    if (this.auth.ltpa) {\n      user.password = this.auth.ltpa;\n    }\n\n    // if (!user.name){ user.name = \"admin\";}\n    // if (!user.password){ user.password = \"admin\";}\n    return user;\n  }\n});\n\nmodule.exports = IoTFAuthStore;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"../../Dashboard/constants/Const\":\"/Users/frank/Documents/Projects/IOTFoundation/components/Dashboard/constants/Const.js\",\"../../Dashboard/dashboard/DashboardUtils\":\"/Users/frank/Documents/Projects/IOTFoundation/components/Dashboard/dashboard/DashboardUtils.js\"}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/stores/IoTFBlockchainStore.js\":[function(require,module,exports){\n(function (global){\n\"use strict\";\n\nvar Reflux = (typeof window !== \"undefined\" ? window['Reflux'] : typeof global !== \"undefined\" ? global['Reflux'] : null);\nvar $ = (typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null);\nvar IoTFAuthStore = require('./IoTFAuthStore.js');\n\nvar Actions = Reflux.createActions(['getUsageData']);\n\nvar mockData = {\n  \"today\": {\n    \"transactions\": 160,\n    \"messages\": 19.2\n  },\n  \"week\": {\n    \"transactions\": 923,\n    \"messages\": 180.7\n  }\n};\n\nvar IoTFBlockchainStore = Reflux.createStore({\n\n  Actions: Actions,\n\n  auth: {},\n\n  buildUrl: function buildUrl(name, policyType) {\n    return \"/reporting/policies/\" + name + \"/PolicyType/\" + policyType;\n  },\n\n  init: function init() {\n    this.getAuth();\n    IoTFAuthStore.listen(this.onAuth);\n    this.listenTo(Actions.getUsageData, this.onGetUsageData);\n  },\n\n  onAuth: function onAuth(payload) {\n    console.log(\"Retrieving auth:\", payload);\n    this.auth = {\n      ltpa: payload.ltpa !== null ? encodeURIComponent(payload.ltpa) : null,\n      org: encodeURIComponent(payload.org),\n      apiKey: payload.apiKey !== null ? encodeURIComponent(payload.apiKey) : null,\n      apiToken: payload.apiToken !== null ? encodeURIComponent(payload.apiToken) : null\n    };\n  },\n\n  getAuth: function getAuth() {\n    var auth = IoTFAuthStore.getAuth();\n    this.auth = {\n      ltpa: auth.ltpa ? encodeURIComponent(auth.ltpa) : auth.ltpa,\n      org: auth.org ? encodeURIComponent(auth.org) : auth.org,\n      apiKey: auth.apiKey ? encodeURIComponent(auth.apiKey) : auth.apiKey,\n      apiToken: auth.apiToken ? encodeURIComponent(auth.apiToken) : auth.apiToken\n    };\n  },\n\n  onGetUsageData: function onGetUsageData() {\n    var self = this;\n    setTimeout(function () {\n      self.trigger(mockData);\n    }, 100);\n  }\n\n});\n\nmodule.exports = IoTFBlockchainStore;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./IoTFAuthStore.js\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/stores/IoTFAuthStore.js\"}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/stores/IoTFDeviceStore.js\":[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar Reflux = (typeof window !== \"undefined\" ? window['Reflux'] : typeof global !== \"undefined\" ? global['Reflux'] : null);\n//var ibmiotf = require('ibmiotf');\nvar mqtt = (typeof window !== \"undefined\" ? window['Messaging'] : typeof global !== \"undefined\" ? global['Messaging'] : null);\nvar Moment = (typeof window !== \"undefined\" ? window['moment'] : typeof global !== \"undefined\" ? global['moment'] : null);\nvar $ = (typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null);\nvar Const = require('../../Dashboard/constants/Const');\nvar IoTFAuthStore = require('./IoTFAuthStore.js');\n\nvar Actions = Reflux.createActions(['clearDeviceCache', 'clearCache', 'fetchDevice', 'fetchDevices', 'fetchDeviceHistory', 'startWatch', 'stopWatch', 'stopAllWatches']);\n\nvar State = {\n  CONNECTED: \"CONNECTED\",\n  DISCONNECTED: \"DISCONNECTED\"\n};\n\nvar IoTFDeviceStore = Reflux.createStore({\n\n  client: null,\n\n  // keep track of watched objects\n  watches: {},\n\n  // caches the last value and timestamp in following structure: type->id->event\n  cache: {},\n\n  deviceTypes: {},\n\n  deviceCache: {},\n\n  lecRequests: [],\n\n  requestDelay: 250, // in millis\n\n  Actions: Actions,\n\n  auth: {},\n\n  state: State.DISCONNECTED,\n\n  init: function init() {\n    IoTFAuthStore.listen(this.onAuth);\n    this.listenTo(Actions.clearDeviceCache, this.clearDeviceCache);\n    this.listenTo(Actions.clearCache, this.clearCache);\n    this.listenTo(Actions.fetchDevice, this.onFetchDevice);\n    this.listenTo(Actions.fetchDevices, this.onFetchDevices);\n    this.listenTo(Actions.fetchDeviceHistory, this.onFetchDeviceHistory);\n    this.listenTo(Actions.startWatch, this.onStartWatch);\n    this.listenTo(Actions.stopWatch, this.onStopWatch);\n    this.listenTo(Actions.stopAllWatches, this.onStopAllWatches);\n  },\n\n  onAuth: function onAuth(payload) {\n    console.log(\"Retrieving auth:\", payload);\n    this.auth = {\n      ltpa: payload.ltpa !== null ? encodeURIComponent(payload.ltpa) : null,\n      org: encodeURIComponent(payload.org),\n      apiKey: payload.apiKey !== null ? encodeURIComponent(payload.apiKey) : null,\n      apiToken: payload.apiToken !== null ? encodeURIComponent(payload.apiToken) : null\n    };\n\n    // auth was updated\n    this.initClient();\n    this.connectClient();\n  },\n\n  initClient: function initClient() {\n    var auth = IoTFAuthStore.getAuth();\n    var randomNumber = Math.floor(Math.random() * 90000) + 10000;\n    var clientId = 'a:' + auth.org + ':ptl' + randomNumber;\n\n    var host = auth.org + \".messaging.\" + auth.domain;\n\n    var port = 443;\n\n    this.client = new window.Messaging.Client(host, port, clientId);\n\n    var self = this;\n\n    this.client.onMessageArrived = function (message) {\n      try {\n        if (message && message.payloadString !== \"\") {\n          console.log(\"MQTT message on \" + message.destinationName);\n\n          var topic = message.destinationName;\n          var typeId = topic.split(\"/\")[2];\n          var deviceId = topic.split(\"/\")[4];\n          var evtType = topic.split(\"/\")[6];\n\n          var data = JSON.parse(message.payloadString);\n\n          // add to cache and flatten the structure\n          var timestamp = new Date().getTime();\n          var props = self.addToCache(typeId, deviceId, evtType, data, timestamp);\n\n          self.trigger({\n            deviceEvent: {\n              deviceId: deviceId,\n              deviceType: typeId,\n              eventType: evtType,\n              data: props\n            }\n          });\n        }\n      } catch (e) {\n        console.log(\"Problems handling MQTT messages\");\n        console.error(e);\n      }\n    };\n\n    this.client.onConnectionLost = function (responseObj) {\n      console.log(\"MQTT Client: Connection lost\", responseObj);\n      self.state = State.DISCONNECTED;\n      setTimeout(function () {\n        console.log(\"MQTT Client: Reconnecting...\");\n        self.connectClient();\n      }, 100);\n    };\n  },\n\n  connectClient: function connectClient() {\n    var auth = IoTFAuthStore.getAuth();\n    var self = this;\n    var options = {\n      onSuccess: function onSuccess() {\n        self.state = State.CONNECTED;\n        console.log(\"MQTT Client: Successfully opened a connection to the MQTT broker\");\n        self.handlePendingSubscribes();\n      },\n      onFailure: function onFailure(error) {\n        console.log(\"MQTT Client: An error occured whilst trying to open a connection to the MQTT broker\");\n        self.state = State.DISCONNECTED;\n      },\n      useSSL: true,\n      cleanSession: true\n    };\n\n    if (auth.ltpa) {\n      options.userName = \"use-ltpa-token\";\n      options.password = auth.ltpa;\n    } else if (auth.apiKey) {\n      options.userName = auth.apiKey;\n      options.password = auth.apiToken;\n    } else {\n      throw new Error(\"No LTPA token or API key defined for connection\");\n    }\n\n    this.client.connect(options);\n  },\n\n  getPlayOrgAuth: function getPlayOrgAuth() {\n    var auth = IoTFAuthStore.getAuth();\n    var orgid = auth.org;\n    var DEMO_ORG = \"play\";\n\n    if (orgid === DEMO_ORG) {\n      var Base64 = { _keyStr: \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\", encode: function encode(e) {\n          var t = \"\";var n, r, i, s, o, u, a;var f = 0;e = Base64._utf8_encode(e);while (f < e.length) {\n            n = e.charCodeAt(f++);r = e.charCodeAt(f++);i = e.charCodeAt(f++);s = n >> 2;o = (n & 3) << 4 | r >> 4;u = (r & 15) << 2 | i >> 6;a = i & 63;if (isNaN(r)) {\n              u = a = 64;\n            } else if (isNaN(i)) {\n              a = 64;\n            }t = t + this._keyStr.charAt(s) + this._keyStr.charAt(o) + this._keyStr.charAt(u) + this._keyStr.charAt(a);\n          }return t;\n        }, decode: function decode(e) {\n          var t = \"\";var n, r, i;var s, o, u, a;var f = 0;e = e.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\");while (f < e.length) {\n            s = this._keyStr.indexOf(e.charAt(f++));o = this._keyStr.indexOf(e.charAt(f++));u = this._keyStr.indexOf(e.charAt(f++));a = this._keyStr.indexOf(e.charAt(f++));n = s << 2 | o >> 4;r = (o & 15) << 4 | u >> 2;i = (u & 3) << 6 | a;t = t + String.fromCharCode(n);if (u != 64) {\n              t = t + String.fromCharCode(r);\n            }if (a != 64) {\n              t = t + String.fromCharCode(i);\n            }\n          }t = Base64._utf8_decode(t);return t;\n        }, _utf8_encode: function _utf8_encode(e) {\n          e = e.replace(/\\r\\n/g, \"\\n\");var t = \"\";for (var n = 0; n < e.length; n++) {\n            var r = e.charCodeAt(n);if (r < 128) {\n              t += String.fromCharCode(r);\n            } else if (r > 127 && r < 2048) {\n              t += String.fromCharCode(r >> 6 | 192);t += String.fromCharCode(r & 63 | 128);\n            } else {\n              t += String.fromCharCode(r >> 12 | 224);t += String.fromCharCode(r >> 6 & 63 | 128);t += String.fromCharCode(r & 63 | 128);\n            }\n          }return t;\n        }, _utf8_decode: function _utf8_decode(e) {\n          var t = \"\";var n = 0;var r = 0;var c1 = 0;var c2 = 0;while (n < e.length) {\n            r = e.charCodeAt(n);if (r < 128) {\n              t += String.fromCharCode(r);n++;\n            } else if (r > 191 && r < 224) {\n              c2 = e.charCodeAt(n + 1);t += String.fromCharCode((r & 31) << 6 | c2 & 63);n += 2;\n            } else {\n              c2 = e.charCodeAt(n + 1);c3 = e.charCodeAt(n + 2);t += String.fromCharCode((r & 15) << 12 | (c2 & 63) << 6 | c3 & 63);n += 3;\n            }\n          }return t;\n        } };\n      var playApiKey = \"a-play-f5cym38oit\";\n      var playApiToken = \"Co0D)Z!50xF89PiaRH\";\n      var auth = 'Basic ' + Base64.encode(playApiKey + \":\" + playApiToken);\n      return auth;\n    } else {\n      return null;\n    }\n  },\n\n  // Current implementation: get device data from latest cache. Should be fine since it does not change\n  // to often.\n  onFetchDevice: function onFetchDevice(reqID, id, type) {\n    var self = this;\n    var devices = this.getCachedDevices(\"General\");\n    if (devices && devices.length > 0) {\n      for (var i = 0; i < devices.length; i++) {\n        var device = devices[i];\n        if (device.typeId == type && device.deviceId == id) {\n          this.trigger({\n            reqID: reqID,\n            device: device\n          });\n          return;\n        }\n      }\n    }\n\n    // load the device since it is not in cache\n    var deviceUrl = \"/api/v0002/device/types/\" + encodeURIComponent(type) + \"/devices/\" + encodeURIComponent(id);\n    var opts = {\n      url: deviceUrl,\n      contentType: \"application/json\"\n    };\n\n    var playAuth = this.getPlayOrgAuth();\n    if (playAuth) {\n      if (opts.headers) {\n        opts.headers.Authorization = playAuth; // key: a-play-f5cym38oit token: Co0D)Z!50xF89PiaRH\n      } else {\n        opts.headers = { Authorization: playAuth }; // key: a-play-f5cym38oit token: Co0D)Z!50xF89PiaRH\n      }\n    }\n\n    //console.log(opts);\n    $.ajax(opts).done(function (response) {\n      //console.log(response);\n      try {\n        var devices = [];\n        devices.push(response);\n        self.cacheDevices(\"General\", devices);\n        self.trigger({\n          reqID: reqID,\n          device: response\n        });\n      } catch (e) {\n        console.error(e);\n      }\n    }).fail(function (response) {\n      console.error(response);\n    });\n  },\n\n  // cache the latest device data for easy access\n  cacheDevices: function cacheDevices(reqID, devices) {\n    if (!this.deviceCache) {\n      this.deviceCache = {};\n    }\n    if (!this.deviceCache[reqID]) {\n      this.deviceCache[reqID] = {};\n    }\n    for (var i = 0; i < devices.length; i++) {\n      var device = devices[i];\n      this.deviceCache[reqID][device.typeId + \"-\" + device.deviceId] = device;\n    }\n  },\n\n  getCachedDevices: function getCachedDevices(reqID) {\n    var self = this;\n    var arr = [];\n    if (this.deviceCache && !reqID && Object.keys(this.deviceCache).length > 0) {\n      var firstCache = Object.keys(this.deviceCache)[0];\n      arr = Object.keys(this.deviceCache[firstCache]).map(function (key) {\n        return self.deviceCache[firstCache][key];\n      });\n    } else if (reqID && this.deviceCache && this.deviceCache[reqID]) {\n      arr = Object.keys(this.deviceCache[reqID]).map(function (key) {\n        return self.deviceCache[reqID][key];\n      });\n    }\n    return arr;\n  },\n\n  /**\n  * Returns the device cache object.\n  */\n  getDeviceCache: function getDeviceCache() {\n    return this.deviceCache ? this.deviceCache : {};\n  },\n\n  clearDeviceCache: function clearDeviceCache() {\n    // clear the cached devices every time we start the dashboard to avoid old content\n    this.deviceCache = null;\n  },\n\n  clearCache: function clearCache() {\n    // clear the cached devices every time we start the dashboard to avoid old content\n    this.cache = {};\n  },\n\n  onFetchDevices: function onFetchDevices(reqID, filters, sortProperty, force) {\n    var self = this;\n    if (!self.bookmarks) {\n      self.bookmarks = {};\n    }\n    // see if we can deliver the devices from cache\n    // TODO implement paging and backend search instead\n    if (this.deviceCache && this.deviceCache[reqID]) {\n      var cachedDevices = this.getCachedDevices(reqID);\n      setTimeout(function () {\n        self.trigger({\n          reqID: reqID,\n          devices: cachedDevices\n        });\n      }, 1);\n      if (!self.bookmarks[reqID] && !force) return;\n    }\n\n    // retrieve it from the backend\n    var deviceUrl = \"/api/v0002/bulk/devices?_limit=100\";\n    var opts = {\n      url: deviceUrl,\n      contentType: \"application/json\"\n    };\n\n    var playAuth = this.getPlayOrgAuth();\n    if (playAuth) {\n      if (opts.headers) {\n        opts.headers.Authorization = playAuth; // key: a-play-f5cym38oit token: Co0D)Z!50xF89PiaRH\n      } else {\n        opts.headers = { Authorization: playAuth }; // key: a-play-f5cym38oit token: Co0D)Z!50xF89PiaRH\n      }\n    }\n\n    // ex. filters = { \"deviceId\": \"abcdef\", \"typeId\": \"xyzabc\", \"deviceInfo.descriptiveLocation\": \"at home\" }\n    if (filters) {\n      for (var i in filters) {\n        if (filters.hasOwnProperty(i) && filters[i] != \"\") {\n          opts.url += \"&\" + i + \"=\" + filters[i];\n        }\n      }\n      opts.url += \"&_fuzzy=true\";\n    }\n    if (reqID && this.bookmarks && this.bookmarks[reqID]) {\n      opts.url += \"&_bookmark=\" + this.bookmarks[reqID];\n    }\n    if (sortProperty) {\n      // requires comma-separated list in quotes\n      opts.url += \"&_sort=\" + sortProperty;\n    }\n\n    // Promise for REDUXMIG\n    var promise = new Promise(function (resolve, reject) {\n      $.ajax(opts).done(function (response) {\n        //console.log(response);\n        try {\n          if (response.meta && response.meta.total_rows) {\n            self.cacheDevices(reqID, response.results);\n            var cachedDevices = self.getCachedDevices(reqID);\n            self.trigger({\n              devices: cachedDevices,\n              reqID: reqID,\n              bookmark: response.bookmark\n            });\n            self.bookmarks[reqID] = response.bookmark;\n            resolve({\n              devices: cachedDevices,\n              reqID: reqID,\n              bookmark: response.bookmark\n            });\n          } else {\n            // handle bad result?\n            reject();\n          }\n        } catch (e) {\n          console.error(e);\n          reject();\n        }\n      }).fail(function (response) {\n        console.error(response);\n        reject();\n      });\n    });\n\n    // REDUXMIG\n    return promise;\n  },\n\n  handlePendingSubscribes: function handlePendingSubscribes() {\n    // handle subscribes that happened before connect\n    var topics = Object.keys(this.watches);\n    for (var i = 0; i < topics.length; i++) {\n      var topic = topics[i];\n      console.debug(\"handle pending subscribe to \" + topic);\n      this.client.subscribe(topic);\n    }\n  },\n\n  getCache: function getCache() {\n    return this.cache;\n  },\n\n  /**\n  * Get the last value and timestamp for a property from the cache\n  */\n  getFromCache: function getFromCache(type, device, event) {\n    var obj = this.cache[type];\n    if (obj) {\n      obj = obj[device];\n      if (obj) {\n        obj = obj[event];\n        return obj;\n      }\n    }\n    return null;\n  },\n\n  checkIfDataExists: function checkIfDataExists(type, device, event) {\n    if (event == \"+\") {\n      event = null;\n    }\n\n    if (!event) {\n      var result = this.getEventsFromCache(type, device);\n      if (result && Object.keys(result).length > 0) {\n        return true;\n      }\n    } else {\n      var result = this.getFromCache(type, device, event);\n      if (result) {\n        return true;\n      }\n    }\n    return false;\n  },\n\n  /**\n  * Get the last value and timestamp for all events of a device\n  */\n  getEventsFromCache: function getEventsFromCache(type, device) {\n    var obj = this.cache[type];\n    if (obj) {\n      obj = obj[device];\n      return obj;\n    }\n    return null;\n  },\n  /**\n  * Caches all devices, events and property names to have something to prefill comboboxes.\n  * Use this also to have the last value without extra query.\n  */\n  addToCache: function addToCache(type, device, event, data, timestamp) {\n    if (!this.cache[type]) {\n      this.cache[type] = {};\n    }\n    if (!this.cache[type][device]) {\n      this.cache[type][device] = {};\n    }\n    if (!this.cache[type][device][event]) {\n      this.cache[type][device][event] = {};\n    }\n    var obj = this.cache[type][device][event];\n    // flatten structure\n    var props = this.generateListOfProperties(data, null, timestamp);\n    if (props) {\n      // merge new props with old ones\n      Object.assign(obj, props);\n    }\n    // this returns only the set of props in the payload\n    return props;\n  },\n\n  /*\n  * Creates a flattened list of properties for the event data. Used for caching.\n  */\n  generateListOfProperties: function generateListOfProperties(data, prefix, timestamp) {\n    var result = {};\n    if (prefix) {\n      prefix = prefix + \".\";\n    } else {\n      prefix = \"\";\n    }\n    // strip off default prefixes\n    if (prefix == \"d.\") {\n      prefix = \"\";\n    }\n    for (var i in data) {\n      var item = data[i];\n      if ((typeof item === 'undefined' ? 'undefined' : _typeof(item)) == \"object\") {\n        Object.assign(result, this.generateListOfProperties(item, prefix + i, timestamp));\n      } else if (item !== undefined) {\n        result[prefix + i] = {\n          value: item,\n          timestamp: timestamp\n        };\n      }\n    }\n    return result;\n  },\n\n  /**\n  * Strips of a leading d. prefix. This is necessary since the historian returns the property names without prefix.\n  * Therefore we have to normalize it.\n  */\n  normalizeProperty: function normalizeProperty(property) {\n    var hasPrefix = property.indexOf(\"d.\") === 0;\n    if (hasPrefix) {\n      property = property.substring(2);\n    }\n    return property;\n  },\n\n  /**\n  * Same as normalizeProperty for the full payload of an MQTT message.\n  */\n  normalizePayload: function normalizePayload(payload) {\n    if (payload && payload.d) {\n      payload = payload.d;\n    }\n\n    return payload;\n  },\n\n  /**\n  * Gets the device type for a device. This is necessary to make a historian request.\n  * Therefore we handle multiple request in a list of callback.\n  */\n  getDeviceType: function getDeviceType(device, callback) {\n    var self = this;\n\n    // check if we have it in cache\n    if (this.deviceTypes[device]) {\n      var obj = this.deviceTypes[device];\n      // We have an entry for this device type. This can be the deviceType itself or an array of\n      // callbacks because others are already waiting for it.\n      if ($.isArray(obj)) {\n        // Add the callback to the list.\n        obj.push(callback);\n      } else {\n        // we already have a value -> return it\n        callback(obj);\n      }\n      return;\n    } else {\n      // create an array of callback to handle multiple requestors\n      this.deviceTypes[device] = [callback];\n    }\n\n    // handle callbacks for all requests\n    var deliverDeviceType = function deliverDeviceType(deviceType) {\n      var obj = self.deviceTypes[device];\n      // set the value\n      self.deviceTypes[device] = deviceType;\n\n      // call the callbacks\n      for (var i = 0; i < obj.length; i++) {\n        obj[i](deviceType);\n      }\n    };\n\n    // we do not have it in cache -> make a request\n\n    var deviceUrl = \"/api/v0002/bulk/devices?deviceId=\" + device;\n    var opts = {\n      url: deviceUrl,\n      contentType: \"application/json\"\n    };\n\n    var playAuth = this.getPlayOrgAuth();\n    if (playAuth) {\n      if (opts.headers) {\n        opts.headers.Authorization = playAuth; // key: a-play-f5cym38oit token: Co0D)Z!50xF89PiaRH\n      } else {\n        opts.headers = { Authorization: playAuth }; // key: a-play-f5cym38oit token: Co0D)Z!50xF89PiaRH\n      }\n    }\n\n    var self = this;\n\n    console.debug(\"getDeviceType -- \", device);\n\n    $.ajax(opts).done(function (response) {\n      try {\n        if (response.results && response.results[0] && response.results[0].typeId) {\n          var typeId = response.results[0].typeId;\n          deliverDeviceType(typeId);\n        } else {\n          // handle bad result?\n          deliverDeviceType(null);\n        }\n      } catch (e) {\n        console.error(e);\n        deliverDeviceType(null);\n      }\n    }).fail(function (response) {\n      console.error(response);\n      deliverDeviceType(null);\n    });\n  },\n\n  /**\n  * Publishes the values in the cache for this property. Returns false if nothing found.\n  */\n  publishCachedValues: function publishCachedValues(type, deviceId, event) {\n    if (event == \"+\") {\n      event = null;\n    }\n\n    var result = false;\n\n    if (!event) {\n      // handle all events of a device\n      var events = this.getEventsFromCache(type, deviceId);\n      if (events) {\n        events = Object.keys(events);\n        for (var i = 0; i < events.length; i++) {\n          var event = events[i];\n          this.publishCachedValuesSingleEvent(type, deviceId, event);\n        }\n        result = true;\n      }\n    } else {\n      // handle single event\n      result = this.publishCachedValuesSingleEvent(type, deviceId, event);\n    }\n\n    return result;\n  },\n\n  publishCachedValuesSingleEvent: function publishCachedValuesSingleEvent(type, deviceId, event) {\n    var data = this.getFromCache(type, deviceId, event);\n\n    // Send the whole event. Timestamp is in the data\n    if (data) {\n      var groups = {};\n      // form groups of timestamps to trigger per timestamp\n      for (var key in data) {\n        var prop = data[key];\n        var timestamp = prop.timestamp;\n        if (!groups[timestamp]) {\n          groups[timestamp] = {};\n        }\n        groups[timestamp][key] = prop;\n      }\n\n      // now send all props of the same timestamp at once\n      for (var timestamps in groups) {\n        var payload = groups[timestamps];\n\n        this.trigger({\n          deviceEvent: {\n            deviceType: type,\n            deviceId: deviceId,\n            eventType: event,\n            data: payload\n          }\n        });\n      }\n\n      return true;\n    }\n    return false;\n  },\n  /**\n  * Add an entry in the list of watched properties.\n  */\n  addWatch: function addWatch(topic, watchId) {\n    if (!this.watches[topic]) {\n      this.watches[topic] = [];\n    }\n\n    var watches = this.watches[topic];\n    if (watches.indexOf(watchId) == -1) {\n      watches.push(watchId);\n    }\n  },\n\n  /**\n  * Unsubscribes from all watches.\n  */\n  onStopAllWatches: function onStopAllWatches() {\n    //console.debug(\"onStopAllWatches -- \");\n\n    for (var topic in this.watches) {\n      var watches = this.watches[topic];\n      delete this.watches[topic];\n      console.debug(\"unsubscribing from \" + topic);\n      this.client.unsubscribe(topic);\n    }\n  },\n\n  /**\n  * Unsubscribes from watch.\n  */\n  onStopWatch: function onStopWatch(watchId) {\n    //console.debug(\"onStopWatch -- \", watchId);\n\n    for (var topic in this.watches) {\n      var watches = this.watches[topic];\n      var index = watches.indexOf(watchId);\n      if (index > -1) {\n        watches.splice(index, 1);\n      }\n      // unsubscribe all watches without listener\n      if (watches.length == 0) {\n        console.debug(\"unsubscribing from \" + topic);\n        this.client.unsubscribe(topic);\n      }\n    }\n  },\n\n  /**\n  * Property Watch will trigger when a specific property (JSON) on an event is received from the device.\n  * Used for property and event watch.\n  */\n  onStartWatch: function onStartWatch(watchId, type, deviceId, event) {\n    //console.debug(\"onStartWatch -- \", type, deviceId, event);\n    if (!event) {\n      event = \"+\";\n    }\n    if (!type) {\n      type = \"+\";\n    }\n    var topic = \"iot-2/type/\" + type + \"/id/\" + deviceId + \"/evt/\" + event + \"/fmt/json\";\n\n    // this is the first time somebody is subscribing for that property -> create subscribe\n    if (!this.watches[topic] || this.watches[topic].length == 0) {\n      this.addWatch(topic, watchId);\n\n      // if there is already a connection subscribe right away, otherwise during pending subscribe handling\n      if (this.state == State.CONNECTED) {\n        console.debug(\"subscribe to \" + topic);\n        this.client.subscribe(topic);\n      }\n    }\n\n    // publish already cached values to have a fast start\n    var foundRecentEvents = this.publishCachedValues(type, deviceId, event);\n\n    // call last event cache for this event\n    if (!foundRecentEvents) {\n      // we do not have any recent values in the cache -> get it from device cache\n\n      var self = this;\n\n      if (type != \"+\") {\n        var eventSnippet = \"\";\n        // always query all events to prevent error messages if there are typos in the event name\n        // if (event != \"+\") {\n        //   eventSnippet = \"/\" + event;\n        // }\n        var cacheUrl = \"/api/v0002/device/types/\" + type + \"/devices/\" + deviceId + \"/events\" + eventSnippet;\n        var opts = {\n          url: cacheUrl,\n          contentType: \"application/json\",\n          userData: {\n            type: type,\n            device: deviceId,\n            event: event\n          }\n        };\n\n        var playAuth = this.getPlayOrgAuth();\n        if (playAuth) {\n          if (opts.headers) {\n            opts.headers.Authorization = playAuth; // key: a-play-f5cym38oit token: Co0D)Z!50xF89PiaRH\n          } else {\n            opts.headers = { Authorization: playAuth }; // key: a-play-f5cym38oit token: Co0D)Z!50xF89PiaRH\n          }\n        }\n\n        self.queueLECRequests(opts);\n      }\n    }\n  },\n\n  /**\n  * Do not send all last event cache requests at a time. Images would not load for seconds and UI would be slow.\n  */\n  queueLECRequests: function queueLECRequests(opts) {\n    var self = this;\n    // check if we have this request already\n    var result = this.lecRequests.filter(function (item) {\n      return opts.url == item.url;\n    });\n    if (result.length == 0) {\n      // we do not have it in the queue -> add request\n      this.lecRequests.push(opts);\n      if (!this.lecTimer) {\n        this.lecTimer = setTimeout(function () {\n          self.lecTimer = null;\n          self.performLECRequest();\n        }, this.requestDelay);\n      }\n    }\n    // if it is in the queue, just wait\n  },\n\n  performLECRequest: function performLECRequest() {\n    var self = this;\n    if (this.lecRequests.length > 0) {\n      if (!this.lecTimer) {\n        this.lecTimer = setTimeout(function () {\n          self.lecTimer = null;\n          self.performLECRequest();\n        }, this.requestDelay);\n      }\n      var opts = this.lecRequests.shift();\n      // we have to carry the raw data to identify e.g. gateways which do not return data at all in the call\n      var userData = opts.userData;\n      opts.userData = undefined;\n      $.ajax(opts).done(function (response) {\n        console.log(\"received last event for \" + userData.type + \" \" + userData.device + \" \" + userData.event);\n        if ($.isArray(response)) {\n          // all events by last event cache\n          if (response.length > 0) {\n            for (var i = 0; i < response.length; i++) {\n              var entry = response[i];\n              var currentData = self.checkIfDataExists(entry.typeId, entry.deviceId, entry.eventId);\n              if (!currentData) {\n                var d = new Moment(entry.timestamp, Moment.ISO_8601);\n                var raw = atob(entry.payload);\n                self.addToCache(entry.typeId, entry.deviceId, entry.eventId, JSON.parse(raw), Moment(d).valueOf());\n                self.publishCachedValues(entry.typeId, entry.deviceId, entry.eventId);\n              }\n            }\n\n            // Make sure that we mark the queried event, even if it was not in the result set.\n            // This can happen if you use DeviceMap and it asks for events that does not exist on that device\n            if (!self.checkIfDataExists(userData.type, userData.device, userData.event)) {\n              var d = new Moment();\n              self.addToCache(userData.type, userData.device, userData.event, {}, Moment(d).valueOf());\n            }\n          } else {\n            // This can happen if we have e.g. a gateway which does not return events at all.\n            // Mark it in the cache to avoid querying the LEC again and again\n            var d = new Moment();\n            self.addToCache(userData.type, userData.device, userData.event, {}, Moment(d).valueOf());\n          }\n        } else if (response.eventId && response.payload) {\n          // single value from event cache\n\n          // check if we already have recent values\n          var currentData = self.checkIfDataExists(response.typeId, response.deviceId, response.eventId);\n          if (!currentData) {\n            var d = new Moment(response.timestamp, Moment.ISO_8601);\n            self.addToCache(response.typeId, response.deviceId, response.eventId, JSON.parse(atob(response.payload)), Moment(d).valueOf());\n            self.publishCachedValues(response.typeId, response.deviceId, response.eventId);\n          }\n        } else {\n          // Just to make sure, set a marker to do not query again\n          var d = new Moment();\n          self.addToCache(userData.type, userData.device, userData.event, {}, Moment(d).valueOf());\n        }\n      }).fail(function (response) {\n        console.log(\"Retrieval of last value failed. Mark it in cache.\");\n        var d = new Moment();\n        self.addToCache(userData.type, userData.device, userData.event, {}, Moment(d).valueOf());\n      });\n    }\n  }\n\n});\n\nmodule.exports = IoTFDeviceStore;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"../../Dashboard/constants/Const\":\"/Users/frank/Documents/Projects/IOTFoundation/components/Dashboard/constants/Const.js\",\"./IoTFAuthStore.js\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/stores/IoTFAuthStore.js\"}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/stores/IoTFHistoryCloudantStore.js\":[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar Reflux = (typeof window !== \"undefined\" ? window['Reflux'] : typeof global !== \"undefined\" ? global['Reflux'] : null);\nvar Moment = (typeof window !== \"undefined\" ? window['moment'] : typeof global !== \"undefined\" ? global['moment'] : null);\nvar MomentTimezone = (typeof window !== \"undefined\" ? window['momentTimezone'] : typeof global !== \"undefined\" ? global['momentTimezone'] : null);\nvar $ = (typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null);\nvar Const = require('../../Dashboard/constants/Const');\nvar IoTFAuthStore = require('./IoTFAuthStore.js');\n\nvar Actions = Reflux.createActions(['getHistoricalData', 'getDBInstances']);\n\nvar IoTFHistoryCloudantStore = Reflux.createStore({\n  historyCache: {},\n\n  historyRequests: [],\n  bucketRequests: [],\n\n  requestDelay: 250, // in millis\n\n  Actions: Actions,\n\n  databases: null,\n\n  activeRequests: 0,\n\n  auth: {},\n  // sort by timestamp\n  compareByTime: function compareByTime(a, b) {\n    if (this.getTimestamp(a) > this.getTimestamp(b)) return 1;else if (this.getTimestamp(a) < this.getTimestamp(b)) return -1;else return 0;\n  },\n  mergeArrays: function mergeArrays(list1, list2) {\n    var i1 = 0;\n    var i2 = 0;\n    var merged = [];\n    while (i1 < list1.length && i2 < list2.length) {\n      if (this.compareByTime(list1[i1], list2[i2]) < 0) {\n        //L < R\n        merged.push(list1[i1]);\n        i1++;\n      } else if (this.compareByTime(list1[i1], list2[i2]) > 0) {\n        //L > R\n        merged.push(list2[i2]);\n        i2++;\n      } else {\n        merged.push(list1[i1]);\n        i1++;\n        i2++;\n      }\n    }\n    if (i1 < list1.length) {\n      for (; i1 < list1.length; i1++) {\n        merged.push(list1[i1]);\n      }\n    } else {\n      for (; i2 < list2.length; i2++) {\n        merged.push(list2[i2]);\n      }\n    }\n    return merged;\n  },\n\n  /*\n  var list = [1,2,3,4,5,6,7,8,9];\n  console.log(subArrayL(list, function(item){\n    return item <= 5;\n  }));\n  > [1, 2, 3, 4, 5]*/\n  subArrayL: function subArrayL(list, filterUntil) {\n    var index = this.findIndex(list, filterUntil);\n    return list.slice(0, index);\n  },\n  subArrayR: function subArrayR(list, filterUntil) {\n    var exclusive = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n    var index = this.findLastIndex(list, filterUntil);\n    return list.slice(index + 1, list.length);\n  },\n  findIndex: function findIndex(list, filterUntil) {\n    for (var i = 0; i < list.length; i++) {\n      if (!filterUntil(list[i])) {\n        return i;\n      }\n    }\n    return list.length;\n  },\n  findLastIndex: function findLastIndex(list, filterUntil) {\n    for (var i = list.length - 1; i >= 0; i--) {\n      if (!filterUntil(list[i])) {\n        return i;\n      }\n    }\n    return -1;\n  },\n\n  init: function init() {\n    IoTFAuthStore.listen(this.onAuth);\n    this.listenTo(Actions.getHistoricalData, this.onGetHistoricalData);\n    this.listenTo(Actions.getDBInstances, this.onGetDBInstances);\n  },\n\n  onAuth: function onAuth(payload) {\n    console.log(\"Retrieving auth:\", payload);\n    this.auth = {\n      ltpa: payload.ltpa !== null ? encodeURIComponent(payload.ltpa) : null,\n      org: encodeURIComponent(payload.org),\n      apiKey: payload.apiKey !== null ? encodeURIComponent(payload.apiKey) : null,\n      apiToken: payload.apiToken !== null ? encodeURIComponent(payload.apiToken) : null\n    };\n  },\n\n  /**\n  * Stores the history values in a cache. Values are stored per time range.\n  * If the entry is flagged as incomplete, it will take the values from cache but\n  * queries the database anyway to get a better result.\n  */\n  addToHistoryCache: function addToHistoryCache(type, device, event, start, end, data, complete) {\n    var self = this;\n    if (!this.historyCache[type]) {\n      this.historyCache[type] = {};\n    }\n    if (!this.historyCache[type][device]) {\n      this.historyCache[type][device] = {};\n    }\n    if (!this.historyCache[type][device][event]) {\n      this.historyCache[type][device][event] = [];\n    }\n\n    data = data.sort(this.compareByTime);\n\n    //may or may not be added to the list!\n    var newItem = {\n      start: start,\n      end: end,\n      data: data,\n      complete: complete // contains ALL entries in that time frame\n    };\n    newItem.debugStart = new moment(newItem.start).format(\"HH:mm:ss.SSS\");\n    newItem.debugEnd = new moment(newItem.end).format(\"HH:mm:ss.SSS\");\n\n    // keep multiple request results of different ranges if necessary\n    // + split up ranges to not store duplicates\n    var results = this.historyCache[type][device][event];\n    if (results.length > 1 && results[0].data.length > 1) {\n      var start = results[0].start;\n      var end = results[results.length - 1].end;\n      console.debug(\"start: \" + new Date(start));\n      console.debug(\"end  : \" + new Date(end));\n      var range = end - start;\n      var start_rel = Math.round((newItem.start - start) * 250 / range);\n      var end_rel = Math.round((newItem.end - start) * 250 / range);\n      var output = \"\";\n      console.debug(\"newItem: \");\n      for (var e = 0; e < end_rel; e++) {\n        if (e < start_rel) {\n          output += \" \";\n        } else if (e == start_rel) {\n          if (newItem.complete) {\n            output += \"[\";\n          } else {\n            output += \"{\";\n          }\n        } else if (newItem.complete) {\n          output += \"_\";\n        } else {\n          output += \".\";\n        }\n      }\n      if (e == end_rel) {\n        if (newItem.complete) {\n          output += \"]\";\n        } else {\n          output += \"}\";\n        }\n      }\n\n      console.debug(output);\n      for (var d = 0; d < results.length; d++) {\n        var start_rel = Math.round((results[d].start - start) * 250 / range);\n        var end_rel = Math.round((results[d].end - start) * 250 / range);\n        var output = \"\";\n        //console.debug(\"slot: \" + d + \"/\" + results[d].slot + \"--(\" + results[d].data.length + \")\");\n        for (var e = 0; e < end_rel; e++) {\n          if (e < start_rel) {\n            output += \" \";\n          } else if (e == start_rel) {\n            if (results[d].complete) {\n              output += \"[\";\n            } else {\n              output += \"{\";\n            }\n          } else if (results[d].complete) {\n            output += \"_\";\n          } else {\n            output += \".\";\n          }\n        }\n        if (e == end_rel) {\n          if (results[d].complete) {\n            output += \"]\";\n          } else {\n            output += \"}\";\n          }\n        }\n\n        //console.debug(output);\n      }\n    }\n\n    // check time range and merge\n    if (results.length == 0) {\n      newItem.slot += \"|first\";\n      results.push(newItem); //add a new time slot without conditions\n    } else {\n      var appendAfterLoop = null;\n      for (var i = 0; i < results.length; i++) {\n        var oldItem = results[i];\n        oldItem.debugStart = new moment(oldItem.start).format(\"HH:mm:ss.SSS\");\n        oldItem.debugEnd = new moment(oldItem.end).format(\"HH:mm:ss.SSS\");\n\n        if (oldItem.start <= newItem.start) {\n          //old starting first\n          if (newItem.start <= oldItem.end) {\n            //overlap left old/new\n            if (newItem.end <= oldItem.end) {\n              //new fully contained\n              if (oldItem.complete) {\n                //#aaaaa #aaaab\n                //do nothing, done\n                //old  1*2*3*4\n                //new  _ _ 3 _\n                break;\n              } else {\n                if (newItem.complete) {\n                  //#aaaba\n                  //split old into left and right, insert a complete block\n                  //done\n                  //later concat neighboring non-complete blocks\n                  //old  0 _ 2 3 _ 5 _ 7\n                  //new  _ _ _ 3*4 _ _ _\n                  //-->  0 _ 2|3*4|5 _ 7\n                  newItem.slot += \"|aaaba\";\n                  var left = this.subArrayL(oldItem.data, function (item) {\n                    return self.getTimestamp(item) <= newItem.start;\n                  });\n                  var right = this.subArrayR(oldItem.data, function (item) {\n                    return self.getTimestamp(item) >= newItem.end;\n                  });\n\n                  if (left.length > 0) {\n\n                    var leftItem = {\n                      start: oldItem.start,\n                      end: newItem.start,\n                      data: left,\n                      complete: false,\n                      slot: \"aaaba left\"\n                    };\n                  }\n                  if (right.length > 0) {\n                    var rightItem = {\n                      start: newItem.end,\n                      end: oldItem.end,\n                      data: right,\n                      complete: false,\n                      slot: \"aaaba right\"\n                    };\n                  }\n                  if (left.length > 0 && leftItem.data.length > 0 && right.length > 0 && rightItem.data.length > 0) {\n                    results.splice(i, 1, leftItem, newItem, rightItem);\n                    i += 2;\n                  } else if (left.length == 0 && right.length > 0 && rightItem.data.length > 0) {\n                    results.splice(i, 1, newItem, rightItem);\n                    i++;\n                  } else if (left.length > 0 && leftItem.data.length > 0 && right.length == 0) {\n                    results.splice(i, 1, leftItem, newItem);\n                    i++;\n                  } else {\n                    results.splice(i, 1, newItem);\n                  }\n                  break;\n                } else {\n                  //#aaabb\n                  //merge old and new yielding one non-complete block\n                  //done\n                  oldItem.data = this.mergeArrays(oldItem.data, newItem.data);\n                  oldItem.slot += \"|aaabb\";\n                  break;\n                }\n              }\n            } else {\n              //overlap left and right old/new\n              // old  1 2 3 _ _\n              // new  _ _ 3 4 5\n              if (oldItem.complete) {\n                //#aabaa #aabab\n                //keep whole oldItem and change newItem to remainder of newItem\n                //continue\n                newItem.data = this.subArrayR(newItem.data, function (item) {\n                  return self.getTimestamp(item) >= oldItem.end;\n                });\n\n                oldItem.slot += \"|aaba* old\";\n                newItem.slot += \"|aaba* new\";\n                if (newItem.data.length > 0) {\n                  //should be always true, but for newItem.end > data[last]\n                  //otherwise had been caught in a case above, aaaa*\n                  newItem.start = oldItem.end;\n                  if (i == results.length - 1) {\n                    appendAfterLoop = newItem;\n                  }\n                  continue;\n                } else {\n                  break;\n                }\n              } else {\n                if (newItem.complete) {\n                  //#aabba\n                  //split old left, keep whole newItem in next iteration\n                  //must not keep leftest data in itemNew being also in oldItem\n                  //continue with next slot and newItem/RIGHT\n                  newItem.slot += \"|aabba\";\n                  oldItem.data = this.subArrayL(oldItem.data, function (item) {\n                    return self.getTimestamp(item) <= newItem.start;\n                  });\n                  if (oldItem.data.length > 0) {\n                    oldItem.end = newItem.start;\n                    oldItem.slot += \"|aabba old left\";\n                  } else {\n                    results.splice(i, 1); //delete old\n                    i--;\n                  }\n                  if (i == results.length - 1) {\n                    appendAfterLoop = newItem;\n                  }\n                  continue;\n                } else {\n                  //#aabbb\n                  //merge old into new pending\n                  //continue with next slot and old++new\n                  //must not keep leftest data in old++new being also in previous oldItem (by def checked)\n                  newItem.data = this.mergeArrays(oldItem.data, newItem.data);\n                  newItem.slot += \"|aabbb pending\";\n                  //newItem.start = this.getTimestamp(newItem.data[0]); // shrink non-complete slots to match borders\n                  //newItem.end = this.getTimestamp(newItem.data[newItem.data.length-1]);\n                  newItem.start = oldItem.start;\n                  results.splice(i, 1); //delete old\n                  i--;\n                  if (i == results.length - 1) {\n                    appendAfterLoop = newItem;\n                  }\n                  continue;\n                }\n              }\n            }\n          } else {\n            //#ab\n            //current old left from new not overlapping\n            //do nothing, continue with next oldItem\n            if (i == results.length - 1) {\n              appendAfterLoop = newItem;\n            }\n            continue;\n          }\n        } else {\n          //new starting first newItem.start < oldItem.start\n          //notice: the conditions differ from above! oldItem and newItem switch roles\n          if (oldItem.start <= newItem.end) {\n            //overlap left new/old\n            if (oldItem.end <= newItem.end) {\n              //new overlapping both sides (but not previous slot)\n              if (newItem.complete) {\n                //#baaaa #baaab\n                //with left not overlapping previous slot, create a block from newItem.start to oldItem.end\n                //replace oldItem -> complete\n                //continue with next slot and remainder of newItem\n                var newLeft = this.subArrayL(newItem.data, function (item) {\n                  return self.getTimestamp(item) <= oldItem.end;\n                });\n                oldItem.start = newItem.start; //maybe expand to the left\n                oldItem.data = newLeft; //overwrite the existing slot with new data\n                oldItem.complete = true;\n                oldItem.slot += \"|baaa*\";\n                var newRight = this.subArrayR(newItem.data, function (item) {\n                  return self.getTimestamp(item) >= oldItem.end;\n                });\n                if (newRight.length > 0) {\n                  newItem.start = oldItem.end;\n                  newItem.data = newRight;\n                  if (i == results.length - 1) {\n                    appendAfterLoop = newItem;\n                  }\n                  continue;\n                }\n              } else {\n\n                if (oldItem.complete) {\n                  //#baaba\n                  //create newItemLeft, take oldItem, continue with remainder\n                  oldItem.slot += \"|baaba old\";\n                  var newLeft = this.subArrayL(newItem.data, function (item) {\n                    return self.getTimestamp(item) <= oldItem.start;\n                  }); //start, not end!\n                  if (newLeft.length > 0) {\n                    var newItemLeft = {\n                      start: newItem.start,\n                      end: oldItem.start,\n                      data: newLeft,\n                      complete: false,\n                      slot: \"baaba left\" };\n                    results.splice(i, 1, newItemLeft, oldItem); //resp. splice(i-1,0,new)\n                    i++;\n                  }\n                  newItem.data = this.subArrayR(newItem.data, function (item) {\n                    return self.getTimestamp(item) >= oldItem.end;\n                  });\n                  if (newItem.data.length > 0) {\n                    newItem.start = oldItem.end;\n                    if (i == results.length - 1) {\n                      appendAfterLoop = newItem;\n                    }\n                    continue;\n                  }\n                } else {\n                  //#baabb\n                  // old and new incomplete\n                  //create a block from newItem.start to oldItem.end\n                  //MERGE oldItem and newItem -> non-complete\n                  //continue with next slot and remainder of newItem\n                  var newLeft = this.subArrayL(newItem.data, function (item) {\n                    return self.getTimestamp(item) <= oldItem.end;\n                  });\n                  oldItem.data = this.mergeArrays(oldItem.data, newLeft);\n                  oldItem.start = this.getTimestamp(oldItem.data[0]);\n                  oldItem.end = this.getTimestamp(oldItem.data[oldItem.data.length - 1]);\n                  oldItem.slot += \"|baabb\";\n                  newItem.data = this.subArrayR(newItem.data, function (item) {\n                    return self.getTimestamp(item) >= oldItem.end;\n                  });\n                  if (newItem.data.length > 0) {\n                    newItem.start = oldItem.end;\n                    if (i == results.length - 1) {\n                      appendAfterLoop = newItem;\n                    }\n                    continue;\n                  }\n                }\n              }\n            } else {\n              //new/old overlapping left, new first\n              //no overlap to previous slot\n              if (newItem.complete == oldItem.complete) {\n                //#babaa #babbb\n                // equivalence\n                //return one block without duplicates -> merge and resp. complete tag\n                oldItem.data = this.mergeArrays(oldItem.data, newItem.data);\n                oldItem.start = newItem.start;\n                oldItem.slot += \"|bab-aa/bb\";\n                break;\n              } else {\n                //XOR\n                if (oldItem.complete && !newItem.complete) {\n                  //#babab\n                  //newItem until oldItem.start followed by complete oldItem\n                  oldItem.slot += \"|babab old\";\n                  newItem.data = this.subArrayL(newItem.data, function (item) {\n                    return self.getTimestamp(item) <= oldItem.start;\n                  });\n                  if (newItem.data.length > 0) {\n                    newItem.end = oldItem.start;\n                    newItem.slot += \"|babab left\";\n                    results.splice(i, 1, newItem, oldItem);\n                    i++;\n                  }\n                  break;\n                } else {\n                  //#babba\n                  //! oldItem.complete && newItem.complete\n                  //complete newItem ++ oldItem-remainder\n                  oldItem.data = this.subArrayR(oldItem.data, function (item) {\n                    return self.getTimestamp(item) >= newItem.end;\n                  });\n                  if (oldItem.data.length > 0) {\n                    oldItem.start = newItem.end;\n                    oldItem.slot += \"|babba old\";\n                    newItem.slot += \"|babba new left\";\n                    results.splice(i, 1, newItem, oldItem);\n                    i++;\n                  } else {\n                    oldItem = newItem;\n                    oldItem.slot += \"|babba new only\";\n                  }\n                }\n              }\n            }\n          } else {\n            //#bb\n            // no overlapping, newItem first\n            //insert newItem before oldItem\n            //done\n            results.splice(i, 0, newItem);\n            i++;\n            break;\n          }\n        }\n      }\n      if (appendAfterLoop != null) {\n        results.push(appendAfterLoop);\n      }\n\n      //consolidate/concat neighboring complete (and also non-complete) blocks\n      for (var i = 1; i < results.length; i++) {\n        if (results[i - 1].end == results[i].start && results[i - 1].complete == results[i].complete) {\n          results[i - 1].data = results[i - 1].data.concat(results[i].data);\n          results[i - 1].end = results[i].end;\n          results.splice(i, 1); //delete results[i];\n          i--;\n        }\n      }\n    }\n    console.log(this.historyCache[type][device][event]);\n    //for testing only: check whether all slots are in right order and don't overlap (but start and end)\n    var results = this.historyCache[type][device][event];\n    for (var j = 1; j < results.length; j++) {\n      var end_last = results[j - 1].end;\n      var start = results[j].start;\n      var end = results[j].end;\n      if (!(end_last <= start && start <= end)) {\n        console.error(JSON.stringify(results));\n        console.error(\"j:\" + j);\n      }\n      if (results[j].data.length > 0) {\n        var last_inner = results[j].data[0];\n        if (this.getTimestamp(last_inner) < start) {\n          console.error(\"j:\" + j + \" k: \" + 0 + \"timestamp less than start\");\n          console.log(this.getTimestamp(last_inner));\n          console.log(start);\n        }\n        for (var k = 1; k < results[j].data.length; k++) {\n          var inner = results[j].data[k];\n          if (this.getTimestamp(last_inner) > inner) {\n            console.error(\"j:\" + j + \" k: \" + 0 + \"timestamp in wrong order\");\n          }\n          if (this.getTimestamp(inner) > end) {\n            console.error(\"j:\" + j + \" k: \" + 0 + \"timestamp greater than end\");\n          }\n        }\n      }\n    }\n  },\n\n  getTimestamp: function getTimestamp(data) {\n    for (var i in data) {\n      var item = data[i];\n      if (item.timestamp) {\n        return item.timestamp;\n      }\n    }\n    return null;\n  },\n  //for a new request this method gathers cached data and returns an array of intervals for missing data\n  publishCachedHistoryValues: function publishCachedHistoryValues(request) {\n    var newSpan = {\n      start: request.start,\n      end: request.end\n    }; //span the whole request, will be splitted to filter already complete slots\n    var splittedRequestIntervals = [];\n    var devices = this.historyCache[request.type];\n    if (devices) {\n      var events = devices[request.device];\n      if (events) {\n        var items = events[request.event];\n\n        if (items) {\n          //gather to-be-requested intervals\n          for (var i = 0; i < items.length; i++) {\n            var sendit = false;\n            var item = items[i];\n            //inside <-item--[_new_]--> or overlapping <-item--[_new_-_->_]\n            if (newSpan.start >= item.start && newSpan.start <= item.end) {\n              if (item.complete) {\n                newSpan.start = item.end; //skip complete block\n              }\n              sendit = true;\n            }\n            //request spans the slot, if slot complete, two spans are needed\n            if (newSpan.start <= item.start && newSpan.end >= item.end) {\n              if (item.complete) {\n                var leftSpan = { start: newSpan.start, end: item.start }; //close the already open span\n                splittedRequestIntervals.push(leftSpan);\n                newSpan.start = item.end; //and create a new one\n              }\n              sendit = true;\n            }\n            //request either is inside this slot (more detailed) or overlapping the slot\n            if (newSpan.end <= item.end && newSpan.end >= item.start) {\n              if (item.complete) {\n                //request ends here... complete remainder is not considered anymore\n                splittedRequestIntervals.push({ start: newSpan.start, end: item.start });\n                newSpan.start = item.end; //disable span, since empty\n              }\n              sendit = true;\n            }\n            if (newSpan.end < item.start) {\n              break; //since there will be no more relevant slot\n            }\n            if (sendit) {\n              // Send the full batch without further looking into it. Will be cut down later.\n              //we could also use the resp. subarrays to trigger less event-data\n              this.trigger({\n                historyEvent: {\n                  deviceType: request.type,\n                  deviceId: request.device,\n                  eventType: request.event,\n                  data: item.data,\n                  complete: item.complete,\n                  cached: true\n                }\n              });\n            }\n          }\n        }\n      }\n    }\n    if (newSpan.start <= newSpan.end) {\n      splittedRequestIntervals.push(newSpan);\n    }\n    return splittedRequestIntervals;\n  },\n\n  /*\n  * Creates a flattened list of properties for the event data. Used for caching.\n  */\n  generateListOfProperties: function generateListOfProperties(data, prefix, timestamp) {\n    var result = {};\n    if (prefix) {\n      prefix = prefix + \".\";\n    } else {\n      prefix = \"\";\n    }\n    // strip off default prefixes\n    if (prefix == \"d.\") {\n      prefix = \"\";\n    }\n    for (var i in data) {\n      var item = data[i];\n      if ((typeof item === 'undefined' ? 'undefined' : _typeof(item)) == \"object\") {\n        Object.assign(result, this.generateListOfProperties(item, prefix + i, timestamp));\n      } else if (item !== undefined) {\n        result[prefix + i] = {\n          value: item,\n          timestamp: timestamp,\n          debug: new moment(timestamp).format(\"HH:mm:ss.SSS\")\n        };\n      }\n    }\n    return result;\n  },\n\n  /**\n  * Strips of a leading d. prefix. This is necessary since the historian returns the property names without prefix.\n  * Therefore we have to normalize it.\n  */\n  normalizeProperty: function normalizeProperty(property) {\n    var hasPrefix = property.indexOf(\"d.\") === 0;\n    if (hasPrefix) {\n      property = property.substring(2);\n    }\n    return property;\n  },\n\n  /**\n  * Same as normalizeProperty for the full payload of an MQTT message.\n  */\n  normalizePayload: function normalizePayload(payload) {\n    if (payload && payload.d) {\n      payload = payload.d;\n    }\n\n    return payload;\n  },\n\n  onGetDBInstances: function onGetDBInstances() {\n    // use cached value if possible\n    if (this.databases) {\n      self.trigger({\n        databases: this.databases\n      });\n      return;\n    }\n\n    var self = this;\n    var seviceUrl = \"/api/v0002/s2s/services/\";\n    var opts = {\n      url: seviceUrl,\n      contentType: \"application/json\"\n    };\n    $.ajax(opts).done(function (response) {\n      if (response && response.length > 0) {\n        var databases = [];\n        for (var i = 0; i < response.length; i++) {\n          var service = response[i];\n          if (service.bound && service.type == \"CLOUDANT\" && service.setup) {\n            databases.push(service);\n          }\n        }\n        this.databases = databases;\n\n        self.trigger({\n          databases: databases\n        });\n      }\n    }).fail(function (response) {\n      console.log(response);\n    });\n  },\n\n  onGetHistoricalData: function onGetHistoricalData(type, deviceId, event, start, end, database, hires) {\n    if (type != \"+\") {\n      if (!end) {\n        end = new Date().getTime();\n      }\n      if (!start) {\n        start = end - 300 * 1000;\n      }\n\n      console.log(\" -> query historian for history -- \" + type + \"/\" + deviceId + \"/\" + event);\n\n      // Queue the requests to avoid having 50 request at a time. This would result in slow interaction and\n      // delayed image loading\n      var request = {\n        type: type,\n        device: deviceId,\n        event: event,\n        start: start,\n        end: end,\n        database: database,\n        hires: hires,\n        buckets: this.getBuckets(start, end, database.dbBucket, database.dbTZ)\n      };\n      this.queueHistorianRequests(request);\n    }\n  },\n\n  getBuckets: function getBuckets(start, end, bucketType, dbTZ) {\n    var buckets = [];\n    var unit = void 0;\n    switch (bucketType) {\n      case \"DAY\":\n        {\n          unit = \"d\";\n          //formatCmp = \"YYYY-MM-DD\";\n          break;\n        }\n      case \"WEEK\":\n        {\n          unit = \"w\";\n          //formatCmp = \"YYYY-[w]ww\";\n          break;\n        }\n      case \"MONTH\":\n        {\n          unit = \"M\";\n          //formatCmp = \"YYYY-MM\";\n          break;\n        }\n      default:\n        console.error(\"unknown bucketType\", bucketType);\n    }\n\n    var next = function next(date) {\n      var nextDate = moment(date).tz(dbTZ);\n      nextDate.add(1, bucketType.toLowerCase());\n      return nextDate;\n    };\n\n    var leftDate = moment(start).tz(dbTZ).startOf(bucketType.toLowerCase());\n    var rightDate = moment(end).tz(dbTZ).endOf(bucketType.toLowerCase());\n\n    while (!leftDate.isAfter(rightDate)) {\n      buckets.push({\n        bucket: this.getBucketName(bucketType, leftDate),\n        start: leftDate.valueOf(),\n        end: next(leftDate).valueOf()\n      });\n      leftDate = next(leftDate);\n    }\n\n    return buckets;\n  },\n\n  getBucketName: function getBucketName(bucketType, date) {\n    if (bucketType == \"DAY\") {\n      var bucket = date.format(\"YYYY-MM-DD\");\n    } else if (bucketType == \"WEEK\") {\n      var bucket = date.format(\"GGGG-[w]ww\"); //weekYear() + \"-w\" + today.week();\n    } else if (bucketType == \"MONTH\") {\n      var bucket = date.format(\"YYYY-MM\");\n    }\n    return bucket;\n  },\n\n\n  /**\n  * Do not send all historian requests at a time. Images would not load for seconds and UI would be slow.\n  */\n  queueHistorianRequests: function queueHistorianRequests(request) {\n    var self = this;\n    // Check if we have the results in cache.\n    // If we have cached values, the method returns the remaining time span and publishes what it has\n    var remainingTimeSlots = this.publishCachedHistoryValues(request);\n    for (var t = 0; t < remainingTimeSlots.length; t++) {\n      request = _extends({}, request);\n      var timeSlot = remainingTimeSlots[t];\n\n      if (timeSlot.start >= timeSlot.end) {\n        // no need for a query, we have everything in cache\n        break;\n      } else {\n        // reduce the query if possible\n        request.start = timeSlot.start;\n        request.end = timeSlot.end;\n      }\n      // check if we have this request already\n      var itsamatch = false;\n      for (var i = 0; i < this.historyRequests.length; i++) {\n        var item = this.historyRequests[i];\n        if (item.type == request.type && item.device == request.device && item.event == request.event) {\n          // adapt the timeframe\n          if (item.end < request.start || item.start > request.end) {\n            // we still need two requests\n          }if (item.end == request.end && item.start == request.start) {\n            // we already have the same request\n            itsamatch = true;\n          } else if (request.hires) {\n            // make sure to have hiRes results and make an extra query\n          } else {\n            // just combine the requests\n            item.start = Math.min(item.start, request.start);\n            item.end = Math.max(item.end, request.end);\n            itsamatch = true;\n          }\n          if (itsamatch) {\n            break;\n          }\n        }\n      }\n\n      if (!itsamatch) {\n        // we do not have it in the queue -> add request\n        this.historyRequests.push(request);\n        if (!this.historianTimer) {\n          this.historianTimer = setTimeout(function () {\n            self.historianTimer = null;\n            self.performHistorianRequest();\n          }, self.requestDelay);\n        }\n      }\n    }\n  },\n\n  startLoading: function startLoading() {\n    if (this.loadEvent) {\n      clearTimeout(this.loadEvent);\n      this.loadEvent = null;\n    }\n    this.trigger({\n      loading: true\n    });\n  },\n\n  stopLoading: function stopLoading() {\n    if (this.loadEvent) {\n      clearTimeout(this.loadEvent);\n      this.loadEvent = null;\n    }\n    var self = this;\n    this.loadEvent = setTimeout(function () {\n      self.loadEvent = 0;\n      self.trigger({\n        loading: false\n      });\n    }, 500);\n  },\n\n  performHistorianRequest: function performHistorianRequest() {\n    var _this = this;\n\n    var self = this;\n    if (this.historyRequests.length > 0 || this.bucketRequests.length > 0) {\n      var querykey;\n      var today;\n      var bucket;\n      var start;\n      var end;\n      var query;\n      var cloudantUrl;\n      var opts;\n\n      (function () {\n        if (!_this.historianTimer) {\n          _this.historianTimer = setTimeout(function () {\n            self.historianTimer = null;\n            self.performHistorianRequest();\n          }, self.requestDelay);\n        }\n\n        var request = null;\n        if (_this.bucketRequests.length > 0) {\n          // first handle the per bucket requests\n          request = _this.bucketRequests.shift();\n        } else {\n          var mainRequest = _this.historyRequests.shift();\n          // spread the request to the buckets\n          if (mainRequest.buckets.length > 10) {\n            console.warn(\"You try to query \" + mainRequest.buckets.length + \" cloudant database buckets. Limiting this to 10 requests for performance reasons. Consider using a different bucket size.\");\n          }\n          for (var i = 0; i < mainRequest.buckets.length && i < 10; i++) {\n            request = _extends({}, mainRequest, { bucket: mainRequest.buckets[i].bucket });\n            _this.bucketRequests.push(request);\n          }\n          request = _this.bucketRequests.shift();\n        }\n\n        querykey = '\"' + request.type + '\",\"' + request.device + '\",\"' + request.event + '\"';\n        today = moment().tz(request.database.dbTZ); //browser time BST\n\n        bucket = request.bucket;\n        start = moment(request.start).tz(request.database.dbTZ);\n        end = moment(request.end).tz(request.database.dbTZ);\n\n\n        start = start.format(\"YYYY-MM-DDTHH:mm:ss.SSSZ\");\n        end = end.format(\"YYYY-MM-DDTHH:mm:ss.SSSZ\");\n        query = 'deviceType:\"' + request.type + '\" AND deviceId:\"' + request.device + '\" AND eventType:\"' + request.event + '\" AND timestamp:[\"' + start + '\" TO \"' + end + '\"]';\n        //sort the result by a Math.random() value to get interval-spread values\n\n        cloudantUrl = '/api/v0002/cloudant-proxy/' + request.database.dbID + '/iotp_' + _this.auth.org + '_' + request.database.dbName + '_' + bucket + '/' + '_design/iotp/_search/search?include_docs=false&limit=100&q=' + query + '&sort=\"sort<number>\"';\n\n\n        console.log(\"DO FETCH HISTORY FOR\", start, end);\n        opts = {\n          url: cloudantUrl,\n          type: \"get\",\n          contentType: \"application/json\",\n          dataType: \"json\"\n        };\n\n\n        _this.startLoading();\n\n        $.ajax(opts).done(function (response) {\n          console.log(response);\n          if (response.rows) {\n            var items = response.rows;\n            if (items.length > 0) {\n              var item = items[0];\n              var convertedItems = [];\n              for (var i = items.length - 1; i >= 0; i--) {\n                var item = items[i];\n                var rawData = JSON.parse(item.fields.data);\n                var timestamp = Date.parse(item.fields.timestamp);\n                var data = self.generateListOfProperties(rawData, null, timestamp);\n                convertedItems.push(data);\n              }\n\n              self.addToHistoryCache(request.type, request.device, request.event, request.start, request.end, convertedItems, response.total_rows == response.rows.length);\n\n              self.trigger({\n                historyEvent: {\n                  deviceType: request.type,\n                  deviceId: request.device,\n                  eventType: request.event,\n                  data: convertedItems\n                }\n              });\n            }\n          }\n          self.stopLoading();\n        }).fail(function (response) {\n          console.log(\"Retrieval of history failed\");\n          self.stopLoading();\n        });\n      })();\n    }\n  }\n\n});\n\nmodule.exports = IoTFHistoryCloudantStore;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"../../Dashboard/constants/Const\":\"/Users/frank/Documents/Projects/IOTFoundation/components/Dashboard/constants/Const.js\",\"./IoTFAuthStore.js\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/stores/IoTFAuthStore.js\"}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/stores/IoTFHistoryTimeseriesStore.js\":[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar Reflux = (typeof window !== \"undefined\" ? window['Reflux'] : typeof global !== \"undefined\" ? global['Reflux'] : null);\nvar Moment = (typeof window !== \"undefined\" ? window['moment'] : typeof global !== \"undefined\" ? global['moment'] : null);\nvar MomentTimezone = (typeof window !== \"undefined\" ? window['momentTimezone'] : typeof global !== \"undefined\" ? global['momentTimezone'] : null);\nvar $ = (typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null);\nvar Const = require('../../Dashboard/constants/Const');\nvar IoTFAuthStore = require('./IoTFAuthStore.js');\n\nvar Actions = Reflux.createActions(['getHistoricalData']);\n\nvar IoTFHistoryTimeseriesStore = Reflux.createStore({\n\n  historyCache: {},\n\n  historyRequests: [],\n\n  requestDelay: 250, // in millis\n\n  Actions: Actions,\n\n  auth: {},\n\n  init: function init() {\n    IoTFAuthStore.listen(this.onAuth);\n    this.listenTo(Actions.getHistoricalData, this.onGetHistoricalData);\n  },\n\n  onAuth: function onAuth(payload) {\n    console.log(\"Retrieving auth:\", payload);\n    this.auth = {\n      ltpa: payload.ltpa !== null ? encodeURIComponent(payload.ltpa) : null,\n      org: encodeURIComponent(payload.org),\n      apiKey: payload.apiKey !== null ? encodeURIComponent(payload.apiKey) : null,\n      apiToken: payload.apiToken !== null ? encodeURIComponent(payload.apiToken) : null\n    };\n\n    // auth was updated\n    this.checkForHistorian();\n  },\n\n  addToHistoryCache: function addToHistoryCache(type, device, event, start, end, data) {\n    if (!this.historyCache[type]) {\n      this.historyCache[type] = {};\n    }\n    if (!this.historyCache[type][device]) {\n      this.historyCache[type][device] = {};\n    }\n    if (!this.historyCache[type][device][event]) {\n      this.historyCache[type][device][event] = [];\n    }\n    // keep multiple request results of different ranges if necessary\n    var results = this.historyCache[type][device][event];\n    // check time range and merge\n    if (results.length == 0) {\n      var newItem = {\n        start: start,\n        end: end,\n        data: data\n      };\n      results.push(newItem);\n    } else {\n      for (var i = 0; i < results.length; i++) {\n        var item = results[i];\n        if (item.start >= start && item.end <= end) {\n          // old item is fully contained in the new one -> replace old item\n          var newItem = {\n            start: start,\n            end: end,\n            data: data\n          };\n          results.splice(i, 1, newItem);\n        } else if (item.start <= start && item.end >= end) {\n          // new item is fully contained in the old one -> do nothing\n        } else if (start < item.start && end <= item.end && end >= item.start) {\n          // new item extends the old one to the left\n          for (var t = 0; t < data.length; t++) {\n            var timestamp = this.getTimestamp(data[t]);\n            if (timestamp && timestamp < item.start) {\n              // just add it at the end since it will be sorted anyway\n              item.data.push(data[t]);\n            }\n          }\n          item.start = start;\n        } else if (end > item.end && start >= item.start && start <= item.end) {\n          // new item extends the old one to the right\n          for (var t = 0; t < data.length; t++) {\n            var timestamp = this.getTimestamp(data[t]);\n            if (timestamp && timestamp > item.end) {\n              // just add it at the end since it will be sorted anyway\n              item.data.push(data[t]);\n            }\n          }\n          item.end = end;\n        } else {\n          // create a new entry\n          var newItem = {\n            start: start,\n            end: end,\n            data: data\n          };\n          results.push(newItem);\n        }\n      }\n    }\n  },\n\n  getTimestamp: function getTimestamp(data) {\n    for (var i in data) {\n      var item = data[i];\n      if (item.timestamp) {\n        return item.timestamp;\n      }\n    }\n    return null;\n  },\n\n  publishCachedHistoryValues: function publishCachedHistoryValues(request) {\n    var newSpan = {\n      start: request.start,\n      end: request.end\n    };\n\n    var devices = this.historyCache[request.type];\n    if (devices) {\n      var events = devices[request.device];\n      if (events) {\n        var items = events[request.event];\n        for (var i = 0; i < items.length; i++) {\n          var sendit = false;\n          var item = items[i];\n          if (newSpan.start >= item.start && newSpan.start <= item.end) {\n            newSpan.start = item.end;\n            sendit = true;\n          }\n          if (newSpan.end <= item.end && newSpan.end >= item.start) {\n            newSpan.end = item.start;\n            sendit = true;\n          }\n          if (sendit) {\n            // Send the full batch without further looking into it. Will be cut down later.\n            this.trigger({\n              historyEvent: {\n                deviceType: request.type,\n                deviceId: request.device,\n                eventType: request.event,\n                data: item.data\n              }\n            });\n          }\n        }\n      }\n    }\n\n    return newSpan;\n  },\n\n  /*\n  * Creates a flattened list of properties for the event data. Used for caching.\n  */\n  generateListOfProperties: function generateListOfProperties(data, prefix, timestamp) {\n    var result = {};\n    if (prefix) {\n      prefix = prefix + \".\";\n    } else {\n      prefix = \"\";\n    }\n    // strip off default prefixes\n    if (prefix == \"d.\") {\n      prefix = \"\";\n    }\n    for (var i in data) {\n      var item = data[i];\n      if ((typeof item === 'undefined' ? 'undefined' : _typeof(item)) == \"object\") {\n        Object.assign(result, this.generateListOfProperties(item, prefix + i, timestamp));\n      } else if (item !== undefined) {\n        result[prefix + i] = {\n          value: item,\n          timestamp: timestamp\n        };\n      }\n    }\n    return result;\n  },\n\n  /**\n  * Strips of a leading d. prefix. This is necessary since the historian returns the property names without prefix.\n  * Therefore we have to normalize it.\n  */\n  normalizeProperty: function normalizeProperty(property) {\n    var hasPrefix = property.indexOf(\"d.\") === 0;\n    if (hasPrefix) {\n      property = property.substring(2);\n    }\n    return property;\n  },\n\n  /**\n  * Same as normalizeProperty for the full payload of an MQTT message.\n  */\n  normalizePayload: function normalizePayload(payload) {\n    if (payload && payload.d) {\n      payload = payload.d;\n    }\n\n    return payload;\n  },\n\n  // TODO Check for Cloudant instead\n  checkForHistorian: function checkForHistorian() {\n    this.historianAvailable = true;\n    return;\n\n    // var self = this;\n    // var historianUrl = \"/api/v0002/\";\n    // var opts = {\n    //   url: historianUrl,\n    //   contentType: \"application/json\"\n    // };\n    // $.ajax(opts)\n    // .done(function(response) {\n    //   if (response.config && response.config.historian && response.config.historian.enabled) {\n    //     self.historianAvailable = true;\n    //   } else {\n    //     self.historianAvailable = false;\n    //   }\n    // })\n    // .fail(function(response) {\n    //   console.log(\"Historian is not available\");\n    //   self.historianAvailable = false;\n    // });\n  },\n\n  onGetHistoricalData: function onGetHistoricalData(type, deviceId, event, start, end) {\n    if (this.historianAvailable === true) {\n      if (type != \"+\") {\n        if (!end) {\n          end = new Date().getTime();\n        }\n        if (!start) {\n          start = end - 300 * 1000; // one hour per default\n        }\n\n        console.log(\" -> query historian for history -- \" + type + \"/\" + deviceId + \"/\" + event);\n\n        // Queue the requests to avoid having 50 request at a time. This would result in slow interaction and\n        // delayed image loading\n        var request = {\n          type: type,\n          device: deviceId,\n          event: event,\n          start: start,\n          end: end\n        };\n        this.queueHistorianRequests(request);\n      }\n    }\n  },\n\n  /**\n  * Do not send all historian requests at a time. Images would not load for seconds and UI would be slow.\n  */\n  queueHistorianRequests: function queueHistorianRequests(request) {\n    var self = this;\n    // Check if we have the results in cache.\n    // If we have cached values, the method returns the remaining time span and publishes what it has\n    var remainingTime = this.publishCachedHistoryValues(request);\n    if (remainingTime.start >= remainingTime.end) {\n      // no need for a query, we have everything in cache\n      return;\n    } else {\n      // reduce the query if possible\n      request.start = remainingTime.start;\n      request.end = remainingTime.end;\n    }\n\n    // check if we have this request already\n    var itsamatch = false;\n    for (var i = 0; i < this.historyRequests.length; i++) {\n      var item = this.historyRequests[i];\n      if (item.type == request.type && item.device == request.device && item.event == request.event) {\n        // adapt the timeframe to serve both requests in one\n        item.start = Math.min(item.start, request.start);\n        item.end = Math.max(item.end, request.end);\n        itsamatch = true;\n        break;\n      }\n    }\n\n    if (!itsamatch) {\n      // we do not have it in the queue -> add request\n      this.historyRequests.push(request);\n      if (!this.historianTimer) {\n        this.historianTimer = setTimeout(function () {\n          self.historianTimer = null;\n          self.performHistorianRequest();\n        }, this.requestDelay);\n      }\n    }\n  },\n\n  performHistorianRequest: function performHistorianRequest() {\n    var self = this;\n    if (this.historyRequests.length > 0) {\n      if (!this.historianTimer) {\n        this.historianTimer = setTimeout(function () {\n          self.historianTimer = null;\n          self.performHistorianRequest();\n        }, this.requestDelay);\n      }\n      var request = this.historyRequests.shift();\n\n      var eventSnippet = \"\";\n      if (event != \"+\") {\n        eventSnippet = \"evt_type=\" + request.event;\n      }\n      var historianUrl = \"/api/v0002/historian/types/\" + request.type + \"/devices/\" + request.device + \"?\" + eventSnippet + \"&start=\" + request.start + \"&end=\" + request.end + \"&top=1000\";\n      var opts = {\n        url: historianUrl,\n        contentType: \"application/json\"\n      };\n\n      $.ajax(opts).done(function (response) {\n        if (response.events) {\n          // normal historian call\n          // check if we already have recent values\n          var items = response.events;\n          if (items.length > 0) {\n            var item = items[0];\n\n            var convertedItems = [];\n            for (var i = items.length - 1; i >= 0; i--) {\n              var item = items[i];\n              var data = self.generateListOfProperties(item.evt, null, item.timestamp[\"$date\"]);\n              convertedItems.push(data);\n            }\n\n            self.addToHistoryCache(item.device_type, item.device_id, item.evt_type, request.start, request.end, convertedItems);\n\n            self.trigger({\n              historyEvent: {\n                deviceType: item.device_type,\n                deviceId: item.device_id,\n                eventType: item.evt_type,\n                data: convertedItems\n              }\n            });\n          }\n        }\n      }).fail(function (response) {\n        console.log(\"Retrieval of history failed\");\n      });\n    }\n  }\n\n});\n\nmodule.exports = IoTFHistoryTimeseriesStore;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"../../Dashboard/constants/Const\":\"/Users/frank/Documents/Projects/IOTFoundation/components/Dashboard/constants/Const.js\",\"./IoTFAuthStore.js\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/stores/IoTFAuthStore.js\"}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/stores/IoTFPermStore.js\":[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar Reflux = (typeof window !== \"undefined\" ? window['Reflux'] : typeof global !== \"undefined\" ? global['Reflux'] : null);\n\nvar Actions = Reflux.createActions(['showRPDialog', 'closeRPDialog']);\n\nvar IoTFPermStore = Reflux.createStore({\n\n\t\tActions: Actions,\n\n\t\tinit: function init() {\n\t\t\t\tthis.listenTo(Actions.showRPDialog, this.onShowRPDialog);\n\t\t\t\tthis.listenTo(Actions.closeRPDialog, this.onCloseRPDialog);\n\t\t},\n\n\t\tonCloseRPDialog: function onCloseRPDialog() {\n\t\t\t\tthis.trigger({ visible: false });\n\t\t},\n\t\tonShowRPDialog: function onShowRPDialog(payload) {\n\t\t\t\tif (payload.action == \"requestPermission\") {\n\t\t\t\t\t\tthis.trigger({ visible: payload.params.visible, operationId: payload.params.operationId, label: payload.params.label });\n\t\t\t\t}\n\t\t},\n\n\t\tgetTheme: function getTheme() {\n\t\t\t\tvar defaultTheme = {\n\t\t\t\t\t\t\"canvas\": \"#142a36\",\n\t\t\t\t\t\t\"lightText\": \"#F7F7F7\",\n\t\t\t\t\t\t\"border\": \"#E6E6E6\",\n\t\t\t\t\t\t\"title\": \"#F7F7F7\",\n\t\t\t\t\t\t\"titleText\": \"#899399\",\n\t\t\t\t\t\t\"content\": \"#FDFDFD\",\n\t\t\t\t\t\t\"major\": \"#2E3636\",\n\t\t\t\t\t\t\"minor\": \"#899399\",\n\t\t\t\t\t\t\"accent\": \"#4581E0\",\n\t\t\t\t\t\t\"good\": \"#8CD210\",\n\t\t\t\t\t\t\"bad\": \"#FF5050\",\n\t\t\t\t\t\t\"font\": \"'Helvetica Neue',HelveticaNeue,Helvetica,'Segoe UI',Segoe,Calibri,Roboto,'Droid Sans','Arial Unicode MS',Arial,sans-serif\",\n\t\t\t\t\t\t\"logo\": \"/assets/dashboard/iot.jpg\",\n\n\t\t\t\t\t\t\"light\": \"#c7c7c7\",\n\t\t\t\t\t\t\"normal\": \"#959595\",\n\t\t\t\t\t\t\"dark\": \"#5a5a5a\",\n\n\t\t\t\t\t\t\"chart\": [\"#5596E6\", \"#4178BE\", \"#325C80\", \"#264A60\", \"#1D3649\", \"#323c3c\", \"#3c4646\", \"#5a6464\", \"#6d7777\", \"#959f9f\"],\n\n\t\t\t\t\t\t\"schemes\": [{ // green\n\t\t\t\t\t\t\t\t\"name\": 0,\n\t\t\t\t\t\t\t\t\"light\": \"#c8d2d2\",\n\t\t\t\t\t\t\t\t\"normal\": \"#8cd211\",\n\t\t\t\t\t\t\t\t\"dark\": \"#4b8400\"\n\t\t\t\t\t\t}]\n\t\t\t\t};\n\t\t\t\treturn defaultTheme;\n\t\t}\n});\n\nmodule.exports = IoTFPermStore;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/stores/IoTFRMStore.js\":[function(require,module,exports){\n(function (global){\n\"use strict\";\n\nvar _PolicyService = require('../../app/RiskManagement/services/PolicyService.js');\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar mockupMode = localStorage.mockupProgress >= 0 && localStorage.mockupProgress <= 2;\nvar Reflux = (typeof window !== \"undefined\" ? window['Reflux'] : typeof global !== \"undefined\" ? global['Reflux'] : null);\nvar $ = (typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null);\nvar IoTFAuthStore = require('./IoTFAuthStore.js');\n\nvar Actions = Reflux.createActions(['getPolicyCompliance', //query card endpoint (all)\n'getBlacklistWhitelist', //query only the blacklist or whitelist card endpoint\n'getConnectionSecurity', //query connection security card endpoint\n\n'unsetPolicyCompliance', //clear timeouts when unmounting\n'unsetBlacklistWhitelist', 'unsetConnectionSecurity', 'registerPolicyCompliance', //count needed requests on mounting\n'registerBlacklistWhitelist', 'registerConnectionSecurity']);\nvar progressCount = 0;\nvar mockupProgress = [{ Progress: 0, Total: 300, AbsenteeRatio: 0.33, ViolationRatio: 0.5, AbsenteesTotal: undefined, ViolationsTotal: undefined }, { Progress: 0.63, Total: 360, AbsenteeRatio: 0.38, ViolationRatio: 0.5, AbsenteesTotal: undefined, ViolationsTotal: undefined }, { Progress: 1.0, Total: 412, AbsenteeRatio: 0.29, ViolationRatio: 0.4, AbsenteesTotal: 119, ViolationsTotal: 165 }];\n\nvar getProgressByLS = function getProgressByLS() {\n  console.log(\"PC\", progressCount);\n  var val = localStorage.mockupProgress;\n  if (val >= 0 && val <= 2) {\n    mockupProgress[val].Progress = progressCount;\n    return val;\n  } else {\n    return 2;\n  }\n};\n\nvar IoTFRMStore = Reflux.createStore({\n  jsonNameFromApi: function jsonNameFromApi(apiName) {\n    switch (apiName) {\n      case \"CONNECTION_SECURITY\":\n        return \"ConnectionSecurity\";\n      case \"WHITELIST\":\n        return \"Whitelist\";\n      case \"BLACKLIST\":\n        return \"Blacklist\";\n      default:\n        return apiName;\n    }\n  },\n\n\n  Actions: Actions,\n\n  rmCache: {},\n  triggerCache: function triggerCache(polType) {\n    this.trigger(_defineProperty({}, this.jsonNameFromApi(polType), this.rmCache[this.jsonNameFromApi(polType)]));\n  },\n  updateCache: function updateCache(newCache, polType) {\n    this.rmCache = Object.assign(this.rmCache, newCache);\n    this.triggerCache(polType);\n  },\n\n  subscribedRequests: {\n    ConnectionSecurity: 0,\n    PolicyCompliance: 0,\n    BlacklistWhitelist: 0\n  },\n  timer: {\n    CONNECTION_SECURITY: undefined,\n    WHITELIST: undefined,\n    BLACKLIST: undefined\n  },\n  // timer_standby: {\n  //   CONNECTION_SECURITY: undefined,\n  //   WHITELIST: undefined,\n  //   BLACKLIST: undefined,\n  //   STATUS: undefined\n  // },\n  TIMEOUT_DEFAULT: 1000,\n  // TIMEOUT_STANDBY: 900000,\n\n  blacklistActive: undefined, // [true <=> blacklist, false <=> whitelist, undefined <=> none]\n  statusRequestRunning: false, // used to reject in-parallel requests\n  auth: {},\n\n  buildUrl: function buildUrl(policyType) {\n    return \"/api/v0002/riskmgmt/reporting/policies/active/PolicyType/\" + policyType;\n  },\n\n  init: function init() {\n    this.getAuth();\n    IoTFAuthStore.listen(this.onAuth);\n    this.listenTo(Actions.getPolicyCompliance, this.onGetPolicyCompliance);\n    this.listenTo(Actions.getConnectionSecurity, this.onGetConnectionSecurity);\n    this.listenTo(Actions.getBlacklistWhitelist, this.onGetBlacklistWhitelist);\n\n    this.listenTo(Actions.unsetPolicyCompliance, this.onUnsetPolicyCompliance);\n    this.listenTo(Actions.unsetBlacklistWhitelist, this.onUnsetBlacklistWhitelist);\n    this.listenTo(Actions.unsetConnectionSecurity, this.onUnsetConnectionSecurity);\n\n    this.listenTo(Actions.registerPolicyCompliance, this.onRegisterPolicyCompliance);\n    this.listenTo(Actions.registerBlacklistWhitelist, this.onRegisterBlacklistWhitelist);\n    this.listenTo(Actions.registerConnectionSecurity, this.onRegisterConnectionSecurity);\n  },\n\n  onAuth: function onAuth(payload) {\n    console.log(\"Retrieving auth:\", payload);\n    this.auth = {\n      ltpa: payload.ltpa !== null ? encodeURIComponent(payload.ltpa) : null,\n      org: encodeURIComponent(payload.org),\n      apiKey: payload.apiKey !== null ? encodeURIComponent(payload.apiKey) : null,\n      apiToken: payload.apiToken !== null ? encodeURIComponent(payload.apiToken) : null\n    };\n  },\n\n  getAuth: function getAuth() {\n    var auth = IoTFAuthStore.getAuth();\n    this.auth = {\n      ltpa: auth.ltpa ? encodeURIComponent(auth.ltpa) : auth.ltpa,\n      org: auth.org ? encodeURIComponent(auth.org) : auth.org,\n      apiKey: auth.apiKey ? encodeURIComponent(auth.apiKey) : auth.apiKey,\n      apiToken: auth.apiToken ? encodeURIComponent(auth.apiToken) : auth.apiToken\n    };\n  },\n  checkBlacklistWhitelist: function checkBlacklistWhitelist(callbackBl, callbackWl, callbackNone) {\n    this.statusRequestRunning = true;\n    var opts = {\n      url: \"/api/v0002/riskmgmt/policies/lists/status\",\n      contentType: \"application/json\"\n    };\n    $.ajax(opts).done(function (response) {\n      try {\n        if (response.whitelistActive) {\n          this.blacklistActive = false;\n          callbackWl();\n        } else if (response.blacklistActive) {\n          this.blacklistActive = true;\n          callbackBl();\n        } else {\n          this.blacklistActive = undefined;\n          callbackNone();\n        }\n        this.statusRequestRunning = false;\n      } catch (e) {\n        console.error(e);\n      }\n    }.bind(this)).fail(function (response) {\n      console.error(response);\n    });\n  },\n  onGetBlacklistWhitelist: function onGetBlacklistWhitelist() {\n    var forceRefresh = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var lastPolicyType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n\n    //first of all provide already available data\n    if (this.blacklistActive) {\n      if (this.rmCache.Blacklist && this.rmCache.Blacklist.Total) {\n        this.triggerCache(\"BLACKLIST\");\n      }\n    } else if (this.blacklist === false) {\n      if (this.rmCache.Whitelist && this.rmCache.Whitelist.Total) {\n        this.triggerCache(\"WHITELIST\");\n      }\n    }\n    if (mockupMode && forceRefresh) {\n      progressCount = 0.0;\n    }\n    if ((this.blacklistActive === undefined || forceRefresh) && !this.statusRequestRunning) {\n      // trigger request only initially or per refresh and not in parallel\n      this.checkBlacklistWhitelist(function () {\n        //callback for blacklist active\n        // if(this.timer_standby[\"STATUS\"]){\n        // clearInterval(this.timer[\"STATUS\"]);\n        // this.timer[\"STATUS\"] = undefined;\n        // }\n        if (this.rmCache.Blacklist && this.rmCache.Blacklist.Total) {\n          this.triggerCache(\"BLACKLIST\");\n        }\n        // if(lastPolicyType === \"BLACKLIST\"){ //consecutive call\n        //   clearTimeout(this.timer[lastPolicyType]);\n        //   this.timer[lastPolicyType] = undefined;\n        //   //this.timer_standby[lastPolicyType] = setTimeout(this.requestPolicy.bind(this, lastPolicyType, false), this.TIMEOUT_STANDBY);\n        // } else { //switched policyType\n        clearTimeout(this.timer[\"WHITELIST\"]);\n        this.timer[\"WHITELIST\"] = undefined;\n        this.updateCache({ \"Whitelist\": undefined }, \"WHITELIST\");\n        this.requestPolicyIfNeeded(\"BLACKLIST\", forceRefresh);\n        // }\n      }.bind(this), function () {\n        //callback for whitelist active\n        // if(this.timer_standby[\"STATUS\"]){\n        //clearInterval(this.timer[\"STATUS\"]);\n        //this.timer[\"STATUS\"] = undefined;\n        // }\n        if (this.rmCache.Whitelist && this.rmCache.Whitelist.Total) {\n          this.triggerCache(\"WHITELIST\");\n        }\n        // if(lastPolicyType === \"WHITELIST\"){ //consecutive call\n        //   clearTimeout(this.timer[lastPolicyType]);\n        //   this.timer[lastPolicyType] = undefined;\n        //   this.timer_standby[lastPolicyType] = setTimeout(this.requestPolicy.bind(this, lastPolicyType, false), this.TIMEOUT_STANDBY);\n        // } else { //switched policyType\n        clearTimeout(this.timer[\"BLACKLIST\"]);\n        this.timer[\"BLACKLIST\"] = undefined;\n        this.updateCache({ \"Blacklist\": undefined }, \"BLACKLIST\");\n        this.requestPolicyIfNeeded(\"WHITELIST\", forceRefresh);\n        // }\n      }.bind(this), function () {\n        //callback to deactivate both\n        this.updateCache({ \"Whitelist\": undefined }, \"WHITELIST\");\n        this.clearTimeouts(\"WHITELIST\");\n        this.updateCache({ \"Blacklist\": undefined }, \"BLACKLIST\");\n        this.clearTimeouts(\"BLACKLIST\");\n\n        //wait and check whether blacklist or whitelist have been activated\n        // if(this.timer_standby[\"STATUS\"] === undefined){ //and only call it once at a time\n        //   this.timer_standby[\"STATUS\"] = setInterval(this.onGetBlacklistWhitelist.bind(this, false, undefined), this.TIMEOUT_STANDBY);\n        // }\n      }.bind(this));\n    }\n  },\n\n  onGetConnectionSecurity: function onGetConnectionSecurity() {\n    var forceRefresh = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    if (mockupMode && forceRefresh) {\n      progressCount = 0.0;\n    }\n    if (this.rmCache.ConnectionSecurity && this.rmCache.ConnectionSecurity.Total) {\n      this.triggerCache(\"CONNECTION_SECURITY\");\n    }\n    this.requestPolicyIfNeeded(\"CONNECTION_SECURITY\", forceRefresh);\n  },\n\n  onGetPolicyCompliance: function onGetPolicyCompliance() {\n    var forceRefresh = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    if (mockupMode && forceRefresh) {\n      progressCount = 0.0;\n    }\n    this.onGetConnectionSecurity(forceRefresh);\n    this.onGetBlacklistWhitelist(forceRefresh);\n  },\n\n  processAPIComplianceData: function processAPIComplianceData(apiJSON) {\n    var policyType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"CONNECTION_SECURITY\";\n    var withDeviceTypes = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    if (mockupMode) {\n      apiJSON = {\n        Progress: mockupProgress[getProgressByLS()].Progress,\n        Results: {\n          unknownValue: {\n            \"\": {\n              Total: mockupProgress[getProgressByLS()].Total,\n              AbsenteeRatio: mockupProgress[getProgressByLS()].AbsenteeRatio,\n              ViolationRatio: mockupProgress[getProgressByLS()].ViolationRatio,\n              AbsenteesTotal: mockupProgress[getProgressByLS()].AbsenteesTotal,\n              ViolationsTotal: mockupProgress[getProgressByLS()].ViolationsTotal\n            },\n            device_type_1: {\n              Total: mockupProgress[getProgressByLS()].Total * 0.4,\n              AbsenteeRatio: mockupProgress[getProgressByLS()].AbsenteeRatio,\n              ViolationRatio: mockupProgress[getProgressByLS()].ViolationRatio,\n              AbsenteesTotal: mockupProgress[getProgressByLS()].AbsenteesTotal * 0.4,\n              ViolationsTotal: mockupProgress[getProgressByLS()].ViolationsTotal * 0.4\n            },\n            device_type_2: {\n              Total: mockupProgress[getProgressByLS()].Total * 0.6,\n              AbsenteeRatio: mockupProgress[getProgressByLS()].AbsenteeRatio,\n              ViolationRatio: mockupProgress[getProgressByLS()].ViolationRatio,\n              AbsenteesTotal: mockupProgress[getProgressByLS()].AbsenteesTotal * 0.6,\n              ViolationsTotal: mockupProgress[getProgressByLS()].ViolationsTotal * 0.6\n            }\n          }\n        }\n      };\n    }\n    var ts = Object.keys(apiJSON.Results)[0];\n\n    var valuesAccumulated = {\n      total: 0,\n      violations: 0,\n      absentees: 0,\n      violations2: 0,\n      absentees2: 0\n    };\n    var deviceTypesFailed = [];\n    var apiResult = apiJSON.Results[ts];\n    // sum up the failing counts by device type\n    for (var key in apiResult) {\n      if (apiResult.hasOwnProperty(key)) {\n        if (withDeviceTypes) {\n          deviceTypesFailed.push({ name: key, count: Math.round(apiResult[key].ViolationRatio * apiResult[key].Total) });\n        }\n        valuesAccumulated.total += apiResult[key].Total * 1.0;\n        valuesAccumulated.violations += Math.round(apiResult[key].ViolationRatio * apiResult[key].Total);\n        valuesAccumulated.absentees += Math.round(apiResult[key].AbsenteeRatio * apiResult[key].Total);\n        if (apiJSON.Progress == 1) {\n          // use accurate values if totals are known\n          valuesAccumulated.violations2 += apiResult[key].ViolationsTotal * 1.0;\n          valuesAccumulated.absentees2 += apiResult[key].AbsenteesTotal * 1.0;\n        }\n      }\n    }\n    var guiJSON = {};\n    var item = this.jsonNameFromApi(policyType);\n    guiJSON[item] = {\n      Progress: apiJSON.Progress,\n      Total: valuesAccumulated.total,\n      passed: {\n        count: 0,\n        ratio: 0.0,\n        deviceTypes: []\n      },\n      failed: {\n        count: valuesAccumulated.violations,\n        ratio: valuesAccumulated.violations / (valuesAccumulated.total * 1.0),\n        deviceTypes: withDeviceTypes ? deviceTypesFailed : []\n      },\n      unknown: {\n        count: valuesAccumulated.absentees,\n        ratio: valuesAccumulated.absentees / (valuesAccumulated.total * 1.0),\n        deviceTypes: []\n      }\n    };\n    if (apiJSON.Progress < 1) {\n      guiJSON[item].failed.count = Math.round(guiJSON[item].failed.ratio * guiJSON[item].Total);\n      guiJSON[item].unknown.count = Math.round(guiJSON[item].unknown.ratio * guiJSON[item].Total);\n    } else {\n      guiJSON[item].failed.count = valuesAccumulated.violations2;\n      guiJSON[item].unknown.count = valuesAccumulated.absentees2;\n    }\n    guiJSON[item].passed.count = guiJSON[item].Total - guiJSON[item].failed.count - guiJSON[item].unknown.count;\n    guiJSON[item].passed.ratio = 1 - guiJSON[item].failed.ratio - guiJSON[item].unknown.ratio;\n    return guiJSON;\n  },\n\n  /* let policyType in/of [\"CONNECTION_SECURITY\",\"BLACKLIST\",\"WHITELIST\"]\n  */\n  requestPolicyIfNeeded: function requestPolicyIfNeeded(policyType, forceRefresh) {\n    if (this.timer[policyType] === undefined /*&& this.timer_standby[policyType] === undefined */) {\n        this.requestPolicy(policyType, forceRefresh); //first request, recurse by timeout\n      } else if (forceRefresh) {\n      this.clearTimeouts(policyType); // restart timeout and ask for newest update\n      this.requestPolicy(policyType, forceRefresh);\n    } // else already running...\n  },\n\n  requestPolicy: function requestPolicy(policyType, forceRefresh) {\n    var mockupProxy = undefined;\n    if (mockupMode) {\n      progressCount = Math.min(1.0, progressCount + 0.01);\n      mockupProxy = function (callback) {\n        this.timer[policyType] = setTimeout(callback.bind({}), 0);\n      }.bind(this);\n    } else {\n      mockupProxy = function (callback) {\n        this.timer[policyType] = setTimeout(function () {\n          var d = new Date();\n          console.debug(\"fetch \", policyType, d, d.getMilliseconds());\n          this.trigger({ loading: true });\n          (0, _PolicyService.loadPolicyCompliance)(policyType, undefined, true, callback);\n        }.bind(this), 0);\n      }.bind(this);\n    }\n    var callback = function (polType, json) {\n      try {\n        var newCache = polType == \"CONNECTION_SECURITY\" ? this.processAPIComplianceData(json, polType, true) : this.processAPIComplianceData(json, polType, false);\n        this.updateCache(newCache, polType);\n        this.trigger({ loading: false });\n        //if progress incomplete poll the API each second until complete\n        // if(newCache[this.jsonNameFromApi(polType)].Progress < 1){\n        //   // clearTimeout(this.timer_standby[polType]);\n        //   // this.timer_standby[polType] = undefined;\n        //   this.timer[polType] = setTimeout(this.requestPolicy.bind(this, polType, false), this.TIMEOUT_DEFAULT);\n        // }\n        // else { //check for updates in a greater interval -- currently not\n        // if(polType == \"BLACKLIST\" || polType == \"WHITELIST\"){\n        //   this.onGetBlacklistWhitelist(false, polType);\n        // } else {\n        //   clearTimeout(this.timer[polType]);\n        //   this.timer[polType] = undefined;\n        //   this.timer_standby[polType] = setTimeout(this.requestPolicy.bind(this, polType, false), this.TIMEOUT_STANDBY);\n        // }\n        //}\n      } catch (e) {\n        console.error(e);\n      }\n    }.bind(this, policyType);\n    mockupProxy(callback);\n  },\n\n  onUnsetPolicyCompliance: function onUnsetPolicyCompliance() {\n    this.subscribedRequests.PolicyCompliance--;\n    if (this.subscribedRequests.PolicyCompliance == 0) {\n      this.clearUpRequests(\"PC\");\n    }\n  },\n  onUnsetBlacklistWhitelist: function onUnsetBlacklistWhitelist() {\n    this.subscribedRequests.BlacklistWhitelist--;\n    if (this.subscribedRequests.BlacklistWhitelist == 0) {\n      this.clearUpRequests(\"WL\");\n      this.clearUpRequests(\"BL\");\n    }\n  },\n  onUnsetConnectionSecurity: function onUnsetConnectionSecurity() {\n    this.subscribedRequests.ConnectionSecurity--;\n    if (this.subscribedRequests.ConnectionSecurity == 0) {\n      this.clearUpRequests(\"CS\");\n    }\n  },\n\n  clearTimeouts: function clearTimeouts(polType) {\n    clearTimeout(this.timer[polType]);\n    this.timer[polType] = undefined;\n    // clearTimeout(this.timer_standby[polType]);\n    // this.timer_standby[polType] = undefined;\n  },\n\n  clearUpRequests: function clearUpRequests(toBeCleared) {\n    var PCActive = this.subscribedRequests.PolicyCompliance > 0;\n    var CSActive = this.subscribedRequests.ConnectionSecurity > 0;\n    var WLBLActive = this.subscribedRequests.BlacklistWhitelist > 0;\n    //if PC is no longer needed, stop all requests that aren't used elsewhere\n    if (toBeCleared == \"PC\") {\n      if (!CSActive) {\n        //stop CSS\n        this.clearTimeouts(\"CONNECTION_SECURITY\");\n      }\n      if (!WLBLActive) {\n        //stop WL or BL\n        this.clearTimeouts(\"WHITELIST\"); //either one already is undefined ...\n        this.clearTimeouts(\"BLACKLIST\");\n      }\n    } else if (PCActive) {\n      //do nothing, as requests are still needed\n    } else {\n      // if(! WLBLActive){ // without blacklist and/or whitelist no blacklist-whitelist-active request needed\n      //   clearInterval(this.timer_standby[\"STATUS\"]);\n      //   // this.timer_standby[\"STATUS\"]=undefined;\n      // }\n      //independently stop\n      switch (toBeCleared) {\n        case \"CS\":\n          {\n            //stop CSE\n            this.clearTimeouts(\"CONNECTION_SECURITY\");\n          }break;\n        case \"WL\":\n          {\n            //stop WL\n            this.clearTimeouts(\"WHITELIST\");\n          }break;\n        case \"BL\":\n          {\n            //stop BL\n            this.clearTimeouts(\"BLACKLIST\");\n          }break;\n      }\n    }\n  },\n\n  onRegisterPolicyCompliance: function onRegisterPolicyCompliance() {\n    this.subscribedRequests.PolicyCompliance++;\n  },\n  onRegisterBlacklistWhitelist: function onRegisterBlacklistWhitelist() {\n    this.subscribedRequests.BlacklistWhitelist++;\n  },\n  onRegisterConnectionSecurity: function onRegisterConnectionSecurity() {\n    this.subscribedRequests.ConnectionSecurity++;\n  }\n\n});\n\nmodule.exports = IoTFRMStore;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"../../app/RiskManagement/services/PolicyService.js\":\"/Users/frank/Documents/Projects/IOTFoundation/components/app/RiskManagement/services/PolicyService.js\",\"./IoTFAuthStore.js\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/stores/IoTFAuthStore.js\"}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/stores/IoTFTypeStore.js\":[function(require,module,exports){\n(function (global){\n\"use strict\";\n\nvar Reflux = (typeof window !== \"undefined\" ? window['Reflux'] : typeof global !== \"undefined\" ? global['Reflux'] : null);\nvar $ = (typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null);\nvar Const = require('../../Dashboard/constants/Const');\nvar IoTFAuthStore = require('./IoTFAuthStore.js');\n\n/**\n* Handles device types and message schemas\n*/\n\nvar Actions = Reflux.createActions(['getDeviceType', 'getDeviceTypes', 'getMessageSchema', 'getMessageSchemas', 'getMessageSchemaForDeviceType', 'clearMessageSchemaCache']);\n\nvar MockMessageSchema = [{\n  \"id\": \"5X0DRc5Z\",\n  \"items\": [{\n    \"id\": 1,\n    \"timestamp\": false,\n    \"metaui\": {\n      \"unit\": null,\n      \"min\": null,\n      \"max\": null,\n      \"precision\": null,\n      \"iconName\": null,\n      \"meaning\": null\n    },\n    \"subItems\": [],\n    \"event\": \"\",\n    \"description\": \"asdf\",\n    \"subType\": null,\n    \"name\": \"asdf\",\n    \"length\": null,\n    \"keyIndex\": false,\n    \"type\": \"float\",\n    \"composite\": false,\n    \"formula\": \"\"\n  }],\n  \"created\": \"7 Jun 2016 09:36:13 GMT\",\n  \"updated\": \"7 Jun 2016 09:36:13 GMT\",\n  \"deviceType\": \"DeviceType1\",\n  \"name\": \"DeviceType1\",\n  \"format\": \"JSON\"\n}, {\n  \"id\": \"FCGskihV\",\n  \"items\": [{\n    \"id\": 1,\n    \"timestamp\": false,\n    \"metaui\": {\n      \"unit\": \"Watt\",\n      \"min\": null, \"max\": null,\n      \"precision\": null,\n      \"iconName\": null,\n      \"meaning\": \"meaning_temperature\"\n    },\n    \"subItems\": [],\n    \"event\": \"status\",\n    \"description\": \"String Property\",\n    \"subType\": null,\n    \"name\": \"StringProp\",\n    \"length\": null,\n    \"keyIndex\": false,\n    \"type\": \"string\",\n    \"composite\": false,\n    \"formula\": \"\"\n  }, {\n    \"id\": 2,\n    \"timestamp\": false,\n    \"metaui\": {\n      \"unit\": \"C\",\n      \"min\": -10,\n      \"max\": 110,\n      \"precision\": 2,\n      \"iconName\": null,\n      \"meaning\": \"meaning_pressure\"\n    },\n    \"subItems\": [],\n    \"event\": \"status\",\n    \"description\": \"Float Property\",\n    \"subType\": null,\n    \"name\": \"FloatProp\",\n    \"length\": null,\n    \"keyIndex\": false,\n    \"type\": \"float\",\n    \"composite\": false,\n    \"formula\": \"\"\n  }, {\n    \"id\": 3,\n    \"timestamp\": false,\n    \"metaui\": {\n      \"unit\": \"MyUnit\",\n      \"min\": null,\n      \"max\": null,\n      \"precision\": null,\n      \"iconName\": null,\n      \"meaning\": \"meaning_doorState\"\n    },\n    \"subItems\": [],\n    \"event\": \"status\",\n    \"description\": \"Integer Property\",\n    \"subType\": null,\n    \"name\": \"IntegerProp\",\n    \"length\": null,\n    \"keyIndex\": false,\n    \"type\": \"int\",\n    \"composite\": false,\n    \"formula\": \"\"\n  }],\n  \"created\": \"7 Jun 2016 10:31:23 GMT\",\n  \"updated\": \"7 Jun 2016 10:31:23 GMT\",\n  \"deviceType\": \"DeviceType3\",\n  \"name\": \"DeviceType3\",\n  \"format\": \"JSON\"\n}, {\n  \"id\": \"KoBxgcZJ\",\n  \"items\": [{\n    \"id\": 1,\n    \"timestamp\": false,\n    \"metaui\": {\n      \"unit\": \"m\",\n      \"min\": 6,\n      \"max\": 9,\n      \"precision\": 3,\n      \"iconName\": null,\n      \"meaning\": \"meaning_pressure\"\n    },\n    \"subItems\": [],\n    \"event\": \"status\",\n    \"description\": \"Float prop\",\n    \"subType\": null,\n    \"name\": \"Float\",\n    \"length\": null,\n    \"keyIndex\": false,\n    \"type\": \"float\",\n    \"composite\": false,\n    \"formula\": \"\"\n  }, {\n    \"id\": 2,\n    \"timestamp\": false,\n    \"metaui\": {\n      \"unit\": \"Unit\",\n      \"min\": 6,\n      \"max\": 8,\n      \"precision\": 3,\n      \"iconName\": null,\n      \"meaning\": \"meaning_brightness\"\n    },\n    \"subItems\": [],\n    \"event\": \"status\",\n    \"description\": \"Float2 prop\",\n    \"subType\": null,\n    \"name\": \"Float2\",\n    \"length\": null,\n    \"keyIndex\": false,\n    \"type\": \"float\",\n    \"composite\": false,\n    \"formula\": \"\"\n  }, {\n    \"id\": 3,\n    \"timestamp\": false,\n    \"metaui\": {\n      \"unit\": \"Watt\",\n      \"min\": null, \"max\": null,\n      \"precision\": null,\n      \"iconName\": null,\n      \"meaning\": \"meaning_temperature\"\n    },\n    \"subItems\": [],\n    \"event\": \"status\",\n    \"description\": \"String Property\",\n    \"subType\": null,\n    \"name\": \"StringProp\",\n    \"length\": null,\n    \"keyIndex\": false,\n    \"type\": \"string\",\n    \"composite\": false,\n    \"formula\": \"\"\n  }, {\n    \"id\": 4,\n    \"timestamp\": false,\n    \"metaui\": {\n      \"unit\": \"C\",\n      \"min\": -10,\n      \"max\": 110,\n      \"precision\": 2,\n      \"iconName\": null,\n      \"meaning\": \"meaning_pressure\"\n    },\n    \"subItems\": [],\n    \"event\": \"status\",\n    \"description\": \"Float Property\",\n    \"subType\": null,\n    \"name\": \"FloatProp\",\n    \"length\": null,\n    \"keyIndex\": false,\n    \"type\": \"float\",\n    \"composite\": false,\n    \"formula\": \"\"\n  }, {\n    \"id\": 5,\n    \"timestamp\": false,\n    \"metaui\": {\n      \"unit\": \"MyUnit\",\n      \"min\": null,\n      \"max\": null,\n      \"precision\": null,\n      \"iconName\": null,\n      \"meaning\": \"meaning_doorState\"\n    },\n    \"subItems\": [],\n    \"event\": \"status\",\n    \"description\": \"Integer Property\",\n    \"subType\": null,\n    \"name\": \"IntegerProp\",\n    \"length\": null,\n    \"keyIndex\": false,\n    \"type\": \"int\",\n    \"composite\": false,\n    \"formula\": \"\"\n  }],\n  \"created\": \"7 Jun 2016 10:33:10 GMT\",\n  \"updated\": \"7 Jun 2016 11:03:44 GMT\",\n  \"deviceType\": \"FLMType\",\n  \"name\": \"FLMType\",\n  \"format\": \"JSON\"\n}];\n\nvar IoTFTypeStore = Reflux.createStore({\n\n  types: null,\n  schemas: null,\n  typeSchemaMap: {},\n\n  Actions: Actions,\n\n  auth: {},\n\n  typePrefix: \"/api/v0002/device/types\",\n  schemaPrefix: \"/api/v0002/rti/message/schema\",\n\n  init: function init() {\n    this.getAuth();\n    IoTFAuthStore.listen(this.onAuth);\n    this.listenTo(Actions.getDeviceType, this.onGetDeviceType);\n    this.listenTo(Actions.getDeviceTypes, this.onGetDeviceTypes);\n    this.listenTo(Actions.getMessageSchema, this.onGetMessageSchema);\n    this.listenTo(Actions.getMessageSchemas, this.onGetMessageSchemas);\n    this.listenTo(Actions.getMessageSchemaForDeviceType, this.onGetMessageSchemaForDeviceType);\n    this.listenTo(Actions.clearMessageSchemaCache, this.onClearMessageSchemaCache);\n  },\n\n  onAuth: function onAuth(payload) {\n    console.log(\"Retrieving auth:\", payload);\n    this.auth = {\n      ltpa: payload.ltpa !== null ? encodeURIComponent(payload.ltpa) : null,\n      org: encodeURIComponent(payload.org),\n      apiKey: payload.apiKey !== null ? encodeURIComponent(payload.apiKey) : null,\n      apiToken: payload.apiToken !== null ? encodeURIComponent(payload.apiToken) : null\n    };\n  },\n\n  getAuth: function getAuth() {\n    var auth = IoTFAuthStore.getAuth();\n    this.auth = {\n      ltpa: auth.ltpa ? encodeURIComponent(auth.ltpa) : auth.ltpa,\n      org: auth.org ? encodeURIComponent(auth.org) : auth.org,\n      apiKey: auth.apiKey ? encodeURIComponent(auth.apiKey) : auth.apiKey,\n      apiToken: auth.apiToken ? encodeURIComponent(auth.apiToken) : auth.apiToken\n    };\n  },\n\n  onGetDeviceType: function onGetDeviceType(id) {\n    var self = this;\n    // check if there is already an open request\n    if (this.typeRequestInFlight) {\n      return;\n    }\n\n    this.getDeviceType(id, function (obj) {\n      if (obj) {\n        self.trigger({\n          deviceTypeId: id,\n          deviceType: obj\n        });\n      }\n    });\n  },\n\n  onGetDeviceTypes: function onGetDeviceTypes(id) {\n    var self = this;\n    // check if there is already an open request\n    if (this.typeRequestInFlight) {\n      return;\n    }\n\n    this.fetchDeviceTypes(function (obj) {\n      if (obj) {\n        self.trigger({\n          deviceTypes: obj\n        });\n      }\n    });\n  },\n\n  getDeviceType: function getDeviceType(id, callback) {\n    var self = this;\n    this.fetchDeviceTypes(function (types) {\n      if (types) {\n        var obj = types[id];\n        if (obj) {\n          callback(obj);\n        } else {\n          callback(null);\n        }\n      } else {\n        callback(null);\n      }\n    });\n  },\n\n  fetchDeviceTypes: function fetchDeviceTypes(callback) {\n    var self = this;\n\n    // check if we have the cache\n    if (this.types !== null) {\n      callback(this.types);\n      return;\n    }\n\n    // not in cache -> fetch device types\n    var opts = {\n      url: this.typePrefix + \"?_limit=100\",\n      contentType: \"application/json\"\n    };\n\n    console.debug(\"getDeviceTypes\");\n\n    this.typeRequestInFlight = true;\n\n    $.ajax(opts).done(function (response) {\n      try {\n        self.types = {};\n        if (response.results) {\n          for (var i = 0; i < response.results.length; i++) {\n            var deviceType = response.results[i];\n            if (deviceType && deviceType.id) {\n              self.types[deviceType.id] = deviceType;\n            }\n          }\n        }\n        self.typeRequestInFlight = false;\n        callback(self.types);\n      } catch (e) {\n        console.error(e);\n        callback(null);\n      }\n    }).fail(function (response) {\n      console.error(response);\n      self.typeRequestInFlight = false;\n      callback(null);\n    });\n  },\n\n  onGetMessageSchemaForDeviceType: function onGetMessageSchemaForDeviceType(id) {\n    var self = this;\n    // check if there is already an open request\n    if (this.schemaRequestInFlight) {\n      return;\n    }\n\n    var resolve = function resolve() {\n      var schemaId = self.typeSchemaMap[id];\n      if (schemaId) {\n        var schema = self.schemas[schemaId];\n        self.trigger({\n          deviceTypeId: id,\n          messageSchema: schema\n        });\n      }\n    };\n\n    if (!this.schemas) {\n      this.fetchMessageSchemas(function (schemas) {\n        if (schemas) {\n          resolve();\n        }\n      });\n    } else {\n      resolve();\n    }\n  },\n\n  onGetMessageSchemas: function onGetMessageSchemas() {\n    var self = this;\n    // check if there is already an open request\n\n    var resolve = function resolve(_resolve, reject) {\n      if (self.schemas && self.typeSchemaMap) {\n        var schemas = {};\n        for (var deviceTypeId in self.typeSchemaMap) {\n          var schemaId = self.typeSchemaMap[deviceTypeId];\n          if (schemaId) {\n            var schema = self.schemas[schemaId];\n            if (schema) {\n              schemas[deviceTypeId] = schema;\n            }\n          }\n        }\n\n        self.trigger({\n          messageSchemas: schemas\n        });\n        _resolve({\n          messageSchemas: schemas\n        });\n      }\n    };\n\n    // Promise for REDUXMIG\n    var promise = new Promise(function (pResolve, pReject) {\n      if (self.schemaRequestInFlight) {\n        // do nothing and wait\n      } else if (!self.schemas) {\n        self.fetchMessageSchemas(function (schemas) {\n          if (schemas) {\n            resolve(pResolve, pReject);\n          }\n        });\n      } else {\n        resolve(pResolve, pReject);\n      }\n    });\n\n    // REDUXMIG\n    return promise;\n  },\n\n  onGetMessageSchema: function onGetMessageSchema(id) {\n    var self = this;\n    // check if there is already an open request\n    if (this.schemaRequestInFlight) {\n      return;\n    }\n\n    this.getMessageSchema(id, function (obj) {\n      if (obj) {\n        self.trigger({\n          messageSchema: id,\n          messageSchemaId: obj\n        });\n      }\n    });\n  },\n\n  getMessageSchema: function getMessageSchema(id, callback) {\n    var self = this;\n    this.fetchMessageSchemas(function (schemas) {\n      if (schema) {\n        var obj = schemas[id];\n        if (obj) {\n          callback(obj);\n        } else {\n          callback(null);\n        }\n      } else {\n        callback(null);\n      }\n    });\n  },\n\n  fetchMessageSchemas: function fetchMessageSchemas(callback) {\n    var self = this;\n\n    // check if we have the cache\n    if (this.schemas !== null) {\n      callback(this.schemas);\n      return;\n    }\n\n    // not in cache -> fetch device types\n    var opts = {\n      url: this.schemaPrefix,\n      contentType: \"application/json\"\n    };\n\n    console.debug(\"getMessageSchemas\");\n\n    this.schemaRequestInFlight = true;\n\n    // HACK only for mocking\n    // self.schemas = {};\n    // if (MockMessageSchema) {\n    //   for (var i = 0; i < MockMessageSchema.length; i++) {\n    //     var schema = MockMessageSchema[i];\n    //     if (schema && schema.id) {\n    //       self.schemas[schema.id] = schema;\n    //       if (schema.deviceType) {\n    //         self.typeSchemaMap[schema.deviceType] = schema.id;\n    //       }\n    //     }\n    //   }\n    // }\n    // self.schemaRequestInFlight = false;\n    // callback(self.schemas);\n    // return;\n    // END only for mocking\n\n\n    $.ajax(opts).done(function (response) {\n      try {\n        self.schemas = {};\n        if (response) {\n          for (var i = 0; i < response.length; i++) {\n            var schema = response[i];\n            if (schema && schema.id) {\n\n              schema.items = self.flattenProperties(schema.items);\n              self.schemas[schema.id] = schema;\n              if (schema.deviceType) {\n                self.typeSchemaMap[schema.deviceType] = schema.id;\n              }\n            }\n          }\n        }\n        self.schemaRequestInFlight = false;\n        callback(self.schemas);\n      } catch (e) {\n        console.error(e);\n        callback(null);\n      }\n    }).fail(function (response) {\n      self.schemaRequestInFlight = false;\n      if (response.status == 400) {\n        // RTI not enabled -> no schema\n        self.schemas = {};\n        callback({});\n      } else {\n        console.error(response);\n        callback(null);\n      }\n    });\n  },\n\n  flattenProperties: function flattenProperties(properties, prefix) {\n    var flatProps = [];\n\n    if (!prefix) {\n      prefix = \"\";\n    }\n\n    for (var i = 0; i < properties.length; i++) {\n      var property = properties[i];\n      // handle meta ui\n      try {\n        property.metaui = JSON.parse(property.metaui);\n      } catch (e) {\n        console.error(\"Malformed metaui: \" + property.metaui);\n        property.metaui = {};\n      }\n\n      // handle parent relation\n      if (prefix) {\n        property.name = prefix + \".\" + property.name;\n      }\n\n      if (!property.subItems || property.subItems.length == 0) {\n        // add the prop only if it is not a struct\n        flatProps.push(property);\n      } else {\n        // handle children\n        if (property.subItems.length > 0) {\n          flatProps = flatProps.concat(this.flattenProperties(property.subItems, property.name));\n          property.subItems = null;\n        }\n      }\n    }\n\n    return flatProps;\n  },\n\n  clearMessageSchemaCache: function clearMessageSchemaCache() {\n    this.schemas = null;\n    this.typeSchemaMap = {};\n  }\n\n});\n\nmodule.exports = IoTFTypeStore;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"../../Dashboard/constants/Const\":\"/Users/frank/Documents/Projects/IOTFoundation/components/Dashboard/constants/Const.js\",\"./IoTFAuthStore.js\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/stores/IoTFAuthStore.js\"}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/stores/IoTFUsageStore.js\":[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar Reflux = (typeof window !== \"undefined\" ? window['Reflux'] : typeof global !== \"undefined\" ? global['Reflux'] : null);\nvar $ = (typeof window !== \"undefined\" ? window['jQuery'] : typeof global !== \"undefined\" ? global['jQuery'] : null);\nvar Const = require('../../Dashboard/constants/Const');\nvar IoTFAuthStore = require('./IoTFAuthStore.js');\n\nvar Actions = Reflux.createActions(['fetchDeviceCount', 'fetchDataTrafficUsage', 'fetchActiveDeviceUsage', 'fetchHistoricalDataUsage', 'fetchDeviceTypes']);\n\nvar IoTFUsageStore = Reflux.createStore({\n\n\tActions: Actions,\n\n\tstate: Const.DISCONNECTED,\n\n\tauth: {\n\n\t\t// org: encodeURIComponent(\"6qkzjf\"),\n\t\t// apiKey: encodeURIComponent(\"a-6qkzjf-3egnjdo5qy\"),\n\t\t// apiToken: encodeURIComponent(\"CW-aWx_sGeFGc&F?ls\")\n\n\t\t// org: \"jgccc5\",\n\t\t// apiKey: \"a-jgccc5-tkutlvvnem\",\n\t\t// apiToken: \"YfqMJVD18qcH@ispr0\"\n\n\t},\n\n\tinit: function init() {\n\t\tvar self = this;\n\t\tthis.listenTo(Actions.fetchDeviceTypes, this.onFetchDeviceTypes);\n\t\tthis.listenTo(Actions.fetchDeviceCount, this.onFetchDeviceCount);\n\t\tthis.listenTo(Actions.fetchDataTrafficUsage, this.onFetchDataTrafficUsage);\n\t\tthis.listenTo(Actions.fetchActiveDeviceUsage, this.onFetchActiveDeviceUsage);\n\t\tthis.listenTo(Actions.fetchHistoricalDataUsage, this.onFetchHistoricalDataUsage);\n\n\t\tIoTFAuthStore.listen(function (payload) {\n\t\t\tconsole.log(\"Retrieving auth:\");\n\t\t\tself.auth = {\n\t\t\t\tltpa: payload.ltpa !== null ? encodeURIComponent(payload.ltpa) : null,\n\t\t\t\tdomain: encodeURIComponent(payload.domain),\n\t\t\t\torg: encodeURIComponent(payload.org),\n\t\t\t\tapiKey: payload.apiKey !== null ? encodeURIComponent(payload.apiKey) : null,\n\t\t\t\tapiToken: payload.apiToken !== null ? encodeURIComponent(payload.apiToken) : null\n\t\t\t};\n\t\t\tconsole.log(self.auth);\n\t\t});\n\t},\n\n\tgetPlayOrgAuth: function getPlayOrgAuth() {\n\t\tvar auth = IoTFAuthStore.getAuth();\n\t\tvar orgid = auth.org;\n\t\tvar DEMO_ORG = \"play\";\n\n\t\tif (orgid === DEMO_ORG) {\n\t\t\tvar Base64 = { _keyStr: \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\", encode: function encode(e) {\n\t\t\t\t\tvar t = \"\";var n, r, i, s, o, u, a;var f = 0;e = Base64._utf8_encode(e);while (f < e.length) {\n\t\t\t\t\t\tn = e.charCodeAt(f++);r = e.charCodeAt(f++);i = e.charCodeAt(f++);s = n >> 2;o = (n & 3) << 4 | r >> 4;u = (r & 15) << 2 | i >> 6;a = i & 63;if (isNaN(r)) {\n\t\t\t\t\t\t\tu = a = 64;\n\t\t\t\t\t\t} else if (isNaN(i)) {\n\t\t\t\t\t\t\ta = 64;\n\t\t\t\t\t\t}t = t + this._keyStr.charAt(s) + this._keyStr.charAt(o) + this._keyStr.charAt(u) + this._keyStr.charAt(a);\n\t\t\t\t\t}return t;\n\t\t\t\t}, decode: function decode(e) {\n\t\t\t\t\tvar t = \"\";var n, r, i;var s, o, u, a;var f = 0;e = e.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\");while (f < e.length) {\n\t\t\t\t\t\ts = this._keyStr.indexOf(e.charAt(f++));o = this._keyStr.indexOf(e.charAt(f++));u = this._keyStr.indexOf(e.charAt(f++));a = this._keyStr.indexOf(e.charAt(f++));n = s << 2 | o >> 4;r = (o & 15) << 4 | u >> 2;i = (u & 3) << 6 | a;t = t + String.fromCharCode(n);if (u != 64) {\n\t\t\t\t\t\t\tt = t + String.fromCharCode(r);\n\t\t\t\t\t\t}if (a != 64) {\n\t\t\t\t\t\t\tt = t + String.fromCharCode(i);\n\t\t\t\t\t\t}\n\t\t\t\t\t}t = Base64._utf8_decode(t);return t;\n\t\t\t\t}, _utf8_encode: function _utf8_encode(e) {\n\t\t\t\t\te = e.replace(/\\r\\n/g, \"\\n\");var t = \"\";for (var n = 0; n < e.length; n++) {\n\t\t\t\t\t\tvar r = e.charCodeAt(n);if (r < 128) {\n\t\t\t\t\t\t\tt += String.fromCharCode(r);\n\t\t\t\t\t\t} else if (r > 127 && r < 2048) {\n\t\t\t\t\t\t\tt += String.fromCharCode(r >> 6 | 192);t += String.fromCharCode(r & 63 | 128);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tt += String.fromCharCode(r >> 12 | 224);t += String.fromCharCode(r >> 6 & 63 | 128);t += String.fromCharCode(r & 63 | 128);\n\t\t\t\t\t\t}\n\t\t\t\t\t}return t;\n\t\t\t\t}, _utf8_decode: function _utf8_decode(e) {\n\t\t\t\t\tvar t = \"\";var n = 0;var r = 0;var c1 = 0;var c2 = 0;while (n < e.length) {\n\t\t\t\t\t\tr = e.charCodeAt(n);if (r < 128) {\n\t\t\t\t\t\t\tt += String.fromCharCode(r);n++;\n\t\t\t\t\t\t} else if (r > 191 && r < 224) {\n\t\t\t\t\t\t\tc2 = e.charCodeAt(n + 1);t += String.fromCharCode((r & 31) << 6 | c2 & 63);n += 2;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tc2 = e.charCodeAt(n + 1);c3 = e.charCodeAt(n + 2);t += String.fromCharCode((r & 15) << 12 | (c2 & 63) << 6 | c3 & 63);n += 3;\n\t\t\t\t\t\t}\n\t\t\t\t\t}return t;\n\t\t\t\t} };\n\t\t\tvar playApiKey = \"a-play-f5cym38oit\";\n\t\t\tvar playApiToken = \"Co0D)Z!50xF89PiaRH\";\n\t\t\tvar auth = 'Basic ' + Base64.encode(playApiKey + \":\" + playApiToken);\n\t\t\treturn auth;\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t},\n\n\tonFetchDeviceCount: function onFetchDeviceCount() {\n\t\t//var deviceUrl = \"https://\" + IoTFCredentials.org + \".internetofthings.ibmcloud.com/\";\n\t\tvar opts = {\n\t\t\turl: \"/api/v0002/bulk/devices\",\n\t\t\tcontentType: \"application/json\"\n\t\t};\n\n\t\tvar playAuth = this.getPlayOrgAuth();\n\t\tif (playAuth) {\n\t\t\tif (opts.headers) {\n\t\t\t\topts.headers.Authorization = playAuth; // key: a-play-f5cym38oit token: Co0D)Z!50xF89PiaRH\n\t\t\t} else {\n\t\t\t\topts.headers = { Authorization: playAuth }; // key: a-play-f5cym38oit token: Co0D)Z!50xF89PiaRH\n\t\t\t}\n\t\t}\n\n\t\tconsole.log(opts);\n\t\tvar self = this;\n\t\t$.ajax(opts).done(function (response) {\n\t\t\tconsole.log(response);\n\t\t\ttry {\n\t\t\t\tif (response.meta && response.meta.total_rows) {\n\t\t\t\t\tself.trigger({\n\t\t\t\t\t\tdeviceCount: response.meta.total_rows\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t// handle bad result?\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error(e);\n\t\t\t}\n\t\t}).fail(function (response) {\n\t\t\tconsole.error(response);\n\t\t});\n\t},\n\n\tonFetchDeviceTypes: function onFetchDeviceTypes() {\n\t\t//var deviceUrl = \"https://\" + IoTFCredentials.org + \".internetofthings.ibmcloud.com/\";\n\t\tvar opts = {\n\t\t\turl: \"/api/v0002/bulk/devices?_limit=0&_facets=typeId\",\n\t\t\tcontentType: \"application/json\"\n\t\t};\n\t\tconsole.log(opts);\n\t\tvar self = this;\n\n\t\tvar sortDeviceTypes = function sortDeviceTypes(a, b) {\n\t\t\tif (!a || !b) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif (a.count < b.count) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\tif (a.count > b.count) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t};\n\n\t\tvar playAuth = this.getPlayOrgAuth();\n\t\tif (playAuth) {\n\t\t\tif (opts.headers) {\n\t\t\t\topts.headers.Authorization = playAuth; // key: a-play-f5cym38oit token: Co0D)Z!50xF89PiaRH\n\t\t\t} else {\n\t\t\t\topts.headers = { Authorization: playAuth }; // key: a-play-f5cym38oit token: Co0D)Z!50xF89PiaRH\n\t\t\t}\n\t\t}\n\n\t\t$.ajax(opts).done(function (response) {\n\t\t\tconsole.log(response);\n\t\t\ttry {\n\n\t\t\t\tvar types = [];\n\t\t\t\tif (response.meta && response.meta.facets && response.meta.facets.typeId) {\n\t\t\t\t\tfor (var key in response.meta.facets.typeId) {\n\t\t\t\t\t\tif (response.meta.facets.typeId.hasOwnProperty(key)) {\n\t\t\t\t\t\t\ttypes.push({ deviceType: key, count: response.meta.facets.typeId[key] });\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ttypes.sort(sortDeviceTypes);\n\t\t\t\tself.trigger({\n\t\t\t\t\tdeviceTypes: types\n\t\t\t\t});\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error(e);\n\t\t\t}\n\t\t}).fail(function (response) {\n\t\t\tconsole.error(response);\n\t\t});\n\t},\n\n\tonFetchDataTrafficUsage: function onFetchDataTrafficUsage() {\n\t\tconsole.debug(\"IoTFUsageStore::onFetchDataTrafficUsage\");\n\n\t\tvar today = new Date();\n\t\tvar offset = -today.getTimezoneOffset(); // convert to UTC\n\t\ttoday = new Date(today.getFullYear(), today.getMonth(), today.getDate() + 1, 0, 0 + offset, -1);\n\t\tvar lastMonthStart = new Date(today.getFullYear(), today.getMonth() - 1, 1, 0, 0 + offset);\n\t\tvar thisMonthStart = new Date(today.getFullYear(), today.getMonth(), 1, 0, 0 + offset, 0);\n\t\tvar rangeStart = lastMonthStart.toISOString().split(\"T\")[0];\n\t\tvar rangeEnd = today.toISOString().split(\"T\")[0];\n\n\t\tvar self = this;\n\n\t\t// FLM: This API does not show sensible values\n\t\t// var lastMonthOpts = {\n\t\t// \turl: \"/api/v0002/usage/data-traffic?start=\"+lastMonthStart+\"&end=\"+lastMonthEnd+\"&detail=false\",\n\t\t// \tcontentType: \"application/json\",\n\t\t// \tsuccess: function(response) {\n\t\t// \t\tconsole.debug(response);\n\t\t// \t\ttry {\n\t\t// \t\t\tif (response.average !== undefined) {\n\t\t// \t\t\t\tvar bytes = response.average;\n\t\t// \t\t\t\tself.trigger({ dataTrafficUsageLastMonth: (bytes / 1000000).toFixed(1) + \" MB\" });\n\t\t// \t\t\t}\n\t\t// \t\t} catch (e) { console.error(\"parse error: \" + response); }\n\t\t// \t}\n\t\t// };\n\t\t// if (this.auth.apiKey !== null) {\n\t\t// \t// if running as localhost\n\t\t// \tlastMonthOpts.url += \"&org=\"+this.auth.org+\"&apiKey=\"+this.auth.apiKey+\"&apiToken=\"+this.auth.apiToken;\n\t\t// }\n\n\t\t// var thisMonthOpts = {\n\t\t// \turl: \"/api/v0002/usage/data-traffic?start=\"+thisMonthStart+\"&end=\"+thisMonthEnd+\"&detail=false\",\n\t\t// \tcontentType: \"application/json\",\n\t\t// \tsuccess: function(response) {\n\t\t// \t\tconsole.debug(response);\n\t\t// \t\ttry {\n\t\t// \t\t\tif (response.average !== undefined) {\n\t\t// \t\t\t\tvar bytes = response.average;\n\t\t// \t\t\t\tself.trigger({ dataTrafficUsageThisMonth: (bytes / 1000000).toFixed(1) + \" MB\" });\n\t\t// \t\t\t}\n\t\t// \t\t} catch (e) { console.error(\"parse error: \" + response); }\n\t\t// \t}\n\t\t// };\n\t\t// if (this.auth.apiKey !== null) {\n\t\t// \t// if running as localhost\n\t\t// \tthisMonthOpts.url += \"&org=\"+this.auth.org+\"&apiKey=\"+this.auth.apiKey+\"&apiToken=\"+this.auth.apiToken;\n\t\t// }\n\n\t\t//$.ajax(lastMonthOpts);\n\t\t//$.ajax(thisMonthOpts);\n\n\t\tvar rangeOpts = {\n\t\t\turl: \"/api/v0002/usage/data-traffic?start=\" + rangeStart + \"&end=\" + rangeEnd + \"&detail=true\",\n\t\t\tcontentType: \"application/json\",\n\t\t\tsuccess: function success(response) {\n\t\t\t\tconsole.debug(response);\n\t\t\t\ttry {\n\t\t\t\t\tif (response.days !== undefined) {\n\t\t\t\t\t\tvar days = response.days;\n\t\t\t\t\t\tvar sumThisMonth = 0;\n\t\t\t\t\t\tvar sumLastMonth = 0;\n\t\t\t\t\t\tvar todaysConsumption = 0;\n\t\t\t\t\t\tfor (var i = 0; i < days.length; i++) {\n\t\t\t\t\t\t\tvar date = new Date(days[i].date);\n\t\t\t\t\t\t\tvar offset = -date.getTimezoneOffset(); // convert to UTC\n\t\t\t\t\t\t\tdate = new Date(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0 + offset, 0);\n\n\t\t\t\t\t\t\tvar day = days[i];\n\t\t\t\t\t\t\tif (lastMonthStart <= date && thisMonthStart > date) {\n\t\t\t\t\t\t\t\tsumLastMonth += day.total;\n\t\t\t\t\t\t\t} else if (thisMonthStart <= date && today >= date) {\n\t\t\t\t\t\t\t\tsumThisMonth += day.total;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// handle todays entry\n\t\t\t\t\t\t\tif (i == days.length - 1) {\n\t\t\t\t\t\t\t\ttodaysConsumption = day.total;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tdays[i].total = parseFloat((day.total / 1048576).toFixed(3));\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// consumption this month\n\t\t\t\t\t\tsumThisMonth = sumThisMonth / 1048576;\n\t\t\t\t\t\tsumLastMonth = sumLastMonth / 1048576;\n\t\t\t\t\t\ttodaysConsumption = todaysConsumption / 1048576;\n\t\t\t\t\t\tself.trigger({\n\t\t\t\t\t\t\tdataTrafficUsageDetails: days,\n\t\t\t\t\t\t\tdataTrafficUsageThisMonth: sumThisMonth.toFixed(1),\n\t\t\t\t\t\t\tdataTrafficUsageLastMonth: sumLastMonth.toFixed(1),\n\t\t\t\t\t\t\tdataTrafficUsageToday: todaysConsumption.toFixed(1)\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.error(\"parse error: \" + response);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t$.ajax(rangeOpts);\n\t},\n\n\tonFetchActiveDeviceUsage: function onFetchActiveDeviceUsage() {\n\t\tconsole.debug(\"IoTFUsageStore::onFetchActiveDeviceUsage\");\n\n\t\tvar today = new Date();\n\t\tvar lastMonthStart = new Date(today.getFullYear(), today.getMonth() - 1, 1).toISOString().split(\"T\")[0];\n\t\tvar lastMonthEnd = new Date(today.getFullYear(), today.getMonth(), 0).toISOString().split(\"T\")[0];\n\t\tvar thisMonthStart = new Date(today.getFullYear(), today.getMonth(), 1).toISOString().split(\"T\")[0];\n\t\tvar thisMonthEnd = today.toISOString().split(\"T\")[0];\n\t\tvar rangeStart = new Date(today.getFullYear(), today.getMonth() - 1, 1).toISOString().split(\"T\")[0];\n\t\tvar rangeEnd = today.toISOString().split(\"T\")[0];\n\n\t\tvar self = this;\n\n\t\tvar lastMonthOpts = {\n\t\t\turl: \"/api/v0002/usage/active-devices?start=\" + lastMonthStart + \"&end=\" + lastMonthEnd + \"&detail=false\",\n\t\t\tcontentType: \"application/json\",\n\t\t\tsuccess: function success(response) {\n\t\t\t\tconsole.debug(response);\n\t\t\t\ttry {\n\t\t\t\t\tif (response.average !== undefined) {\n\t\t\t\t\t\tself.trigger({ activeDeviceUsageLastMonth: response.average.toFixed(1) });\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.error(\"parse error: \" + response);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar thisMonthOpts = {\n\t\t\turl: \"/api/v0002/usage/active-devices?start=\" + thisMonthStart + \"&end=\" + thisMonthEnd + \"&detail=false\",\n\t\t\tcontentType: \"application/json\",\n\t\t\tsuccess: function success(response) {\n\t\t\t\tconsole.debug(response);\n\t\t\t\ttry {\n\t\t\t\t\tif (response.average !== undefined) {\n\t\t\t\t\t\tself.trigger({ activeDeviceUsageThisMonth: response.average.toFixed(1) });\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.error(\"parse error: \" + response);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tvar rangeOpts = {\n\t\t\turl: \"/api/v0002/usage/active-devices?start=\" + rangeStart + \"&end=\" + rangeEnd + \"&detail=true\",\n\t\t\tcontentType: \"application/json\",\n\t\t\tsuccess: function success(response) {\n\t\t\t\tconsole.debug(response);\n\t\t\t\ttry {\n\t\t\t\t\tif (response.days !== undefined) {\n\t\t\t\t\t\tself.trigger({ activeDeviceUsageDetails: response.days });\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.error(\"parse error: \" + response);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tconsole.log(lastMonthOpts, thisMonthOpts);\n\n\t\t$.ajax(lastMonthOpts);\n\t\t$.ajax(thisMonthOpts);\n\t\t$.ajax(rangeOpts);\n\t},\n\n\tonFetchHistoricalDataUsage: function onFetchHistoricalDataUsage() {\n\t\tconsole.debug(\"IoTFUsageStore::onFetchActiveDeviceUsage\");\n\n\t\tvar today = new Date();\n\t\tvar offset = -today.getTimezoneOffset(); // convert to UTC\n\t\ttoday = new Date(today.getFullYear(), today.getMonth(), today.getDate() + 1, 0, 0 + offset, -1);\n\t\tvar lastMonthStart = new Date(today.getFullYear(), today.getMonth() - 1, 1, 0, 0 + offset);\n\t\tvar thisMonthStart = new Date(today.getFullYear(), today.getMonth(), 1, 0, 0 + offset, 0);\n\t\tvar rangeStart = lastMonthStart.toISOString().split(\"T\")[0];\n\t\tvar rangeEnd = today.toISOString().split(\"T\")[0];\n\n\t\tvar self = this;\n\n\t\t// var lastMonthOpts = {\n\t\t// \turl: \"/api/v0002/usage/historical-data?start=\"+lastMonthStart+\"&end=\"+lastMonthEnd+\"&detail=false\",\n\t\t// \tcontentType: \"application/json\",\n\t\t// \tsuccess: function(response) {\n\t\t// \t\tconsole.debug(response);\n\t\t// \t\ttry {\n\t\t// \t\t\tif (response.average !== undefined) {\n\t\t// \t\t\t\tvar bytes = response.average;\n\t\t// \t\t\t\tself.trigger({ historicalDataUsageLastMonth: (bytes / 1000000).toFixed(1) + \" MB\" });\n\t\t// \t\t\t}\n\t\t// \t\t} catch (e) { console.error(\"parse error: \" + response); }\n\t\t// \t}\n\t\t// };\n\t\t// if (this.auth.apiKey !== null) {\n\t\t// \t// if running as localhost\n\t\t// \tlastMonthOpts.url += \"&org=\"+this.auth.org+\"&apiKey=\"+this.auth.apiKey+\"&apiToken=\"+this.auth.apiToken;\n\t\t// }\n\n\t\t// var thisMonthOpts = {\n\t\t// \turl: \"/api/v0002/usage/historical-data?start=\"+thisMonthStart+\"&end=\"+thisMonthEnd+\"&detail=false\",\n\t\t// \tcontentType: \"application/json\",\n\t\t// \tsuccess: function(response) {\n\t\t// \t\tconsole.debug(response);\n\t\t// \t\ttry {\n\t\t// \t\t\tif (response.average !== undefined) {\n\t\t// \t\t\t\tvar bytes = response.average;\n\t\t// \t\t\t\tself.trigger({ historicalDataUsageThisMonth: (bytes / 1000000).toFixed(1) + \" MB\" });\n\t\t// \t\t\t}\n\t\t// \t\t} catch (e) { console.error(\"parse error: \" + response); }\n\t\t// \t}\n\t\t// };\n\t\t// if (this.auth.apiKey !== null) {\n\t\t// \t// if running as localhost\n\t\t// \tthisMonthOpts.url += \"&org=\"+this.auth.org+\"&apiKey=\"+this.auth.apiKey+\"&apiToken=\"+this.auth.apiToken;\n\t\t// }\n\n\t\t// $.ajax(lastMonthOpts);\n\t\t// $.ajax(thisMonthOpts);\n\n\t\tvar rangeOpts = {\n\t\t\turl: \"/api/v0002/usage/historical-data?start=\" + rangeStart + \"&end=\" + rangeEnd + \"&detail=true\",\n\t\t\tcontentType: \"application/json\",\n\t\t\tsuccess: function success(response) {\n\t\t\t\tconsole.debug(response);\n\t\t\t\ttry {\n\t\t\t\t\tif (response.days !== undefined) {\n\t\t\t\t\t\tvar days = response.days;\n\t\t\t\t\t\tvar valueThisMonth = 0;\n\t\t\t\t\t\tvar valueLastMonth = 0;\n\t\t\t\t\t\tvar todaysConsumption = 0;\n\t\t\t\t\t\tvar lastValue = 0;\n\t\t\t\t\t\tfor (var i = 0; i < days.length; i++) {\n\t\t\t\t\t\t\tvar date = new Date(days[i].date);\n\t\t\t\t\t\t\tvar offset = -date.getTimezoneOffset(); // convert to UTC\n\t\t\t\t\t\t\tdate = new Date(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0 + offset, 0);\n\n\t\t\t\t\t\t\tvar day = days[i];\n\t\t\t\t\t\t\tif (lastMonthStart <= date && thisMonthStart > date) {\n\t\t\t\t\t\t\t\tif (day.total > valueLastMonth) {\n\t\t\t\t\t\t\t\t\tvalueLastMonth = day.total;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (thisMonthStart <= date && today >= date) {\n\t\t\t\t\t\t\t\tif (day.total > valueThisMonth) {\n\t\t\t\t\t\t\t\t\tvalueThisMonth = day.total;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// handle todays entry\n\t\t\t\t\t\t\tif (i == days.length - 1) {\n\t\t\t\t\t\t\t\ttodaysConsumption = day.total - lastValue;\n\t\t\t\t\t\t\t\tif (todaysConsumption < 0) {\n\t\t\t\t\t\t\t\t\ttodaysConsumption = 0;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (date.getDate() == 1) {\n\t\t\t\t\t\t\t\t\ttodaysConsumption = day.total;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tlastValue = day.total;\n\t\t\t\t\t\t\tdays[i].total = parseFloat((day.total / 1024).toFixed(3));\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// consumption this month\n\t\t\t\t\t\tvalueThisMonth = valueThisMonth / 1024;\n\t\t\t\t\t\tvalueLastMonth = valueLastMonth / 1024;\n\t\t\t\t\t\ttodaysConsumption = todaysConsumption / 1024;\n\n\t\t\t\t\t\tself.trigger({\n\t\t\t\t\t\t\thistoricalDataUsageDetails: days,\n\t\t\t\t\t\t\thistoricalDataUsageThisMonth: valueThisMonth.toFixed(1),\n\t\t\t\t\t\t\thistoricalDataUsageLastMonth: valueLastMonth.toFixed(1),\n\t\t\t\t\t\t\tdataUsageToday: todaysConsumption.toFixed(1)\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.error(\"parse error: \" + response);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t$.ajax(rangeOpts);\n\t}\n});\n\nmodule.exports = IoTFUsageStore;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"../../Dashboard/constants/Const\":\"/Users/frank/Documents/Projects/IOTFoundation/components/Dashboard/constants/Const.js\",\"./IoTFAuthStore.js\":\"/Users/frank/Documents/Projects/IOTFoundation/components/common/stores/IoTFAuthStore.js\"}],\"/Users/frank/Documents/Projects/IOTFoundation/components/common/stores/IoTFUserStore.js\":[function(require,module,exports){\n(function (global){\n'use strict';\n\nvar Reflux = (typeof window !== \"undefined\" ? window['Reflux'] : typeof global !== \"undefined\" ? global['Reflux'] : null);\n\nvar Actions = Reflux.createActions(['setUsers', 'getUsers']);\n\nvar IoTFUserStore = Reflux.createStore({\n\n  Actions: Actions,\n\n  users: [],\n\n  getUsers: function getUsers() {\n    return this.users;\n  },\n\n  setUsers: function setUsers(users) {\n    this.users = users;\n  }\n});\n\nmodule.exports = IoTFUserStore;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}]},{},[\"/Users/frank/Documents/Projects/IOTFoundation/components/common/common.jsx\"])(\"/Users/frank/Documents/Projects/IOTFoundation/components/common/common.jsx\")\n});"],"file":"IoTFCommon.js"}